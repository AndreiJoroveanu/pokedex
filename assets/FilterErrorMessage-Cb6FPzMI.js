import{AnimatePresence as e,Button_default as t,__toESM as n,defaultGetScrollRestorationKey as r,getCssSelector as i,motion as a,require_compiler_runtime as o,require_jsx_runtime as s,require_react as c,require_react_dom as l,scrollRestorationCache as u,setupScrollRestoration as d,useNavigate as f,useRouter as p,useRouterState as m,useSearch as h}from"./Loader-D8Mv-eKS.js";import{CollapsingPanel_default as g,pokemonTypes as _}from"./Footer-BVDUx6A5.js";import{useAppStore_default as v,useShallow as y}from"./shallow-DlnzSQjn.js";import{useAllItemsParam as b,useStarredPokemon as ee}from"./useStarredPokemon-Btx-5DP8.js";function x(){let e=p();d(e,!0)}function te(e){var t,n;x();let a=p(),o=e.getKey||r,s=``;if(e.id)s=`[data-scroll-restoration-id="${e.id}"]`;else{let n=(t=e.getElement)?.call(e);if(!n)return;s=n instanceof Window?`window`:i(n)}let c=o(a.latestLocation),l=(n=u)?.state[c];return l?.[s]}var S=n(c());function C({title:e,titleId:t,...n},r){return S.createElement(`svg`,Object.assign({xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,strokeWidth:1.5,stroke:`currentColor`,"aria-hidden":`true`,"data-slot":`icon`,ref:r,"aria-labelledby":t},n),e?S.createElement(`title`,{id:t},e):null,S.createElement(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`m4.5 18.75 7.5-7.5 7.5 7.5`}),S.createElement(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`m4.5 12.75 7.5-7.5 7.5 7.5`}))}const w=S.forwardRef(C);var ne=w,re=n(o()),T=n(s());const ie=e=>{let t=(0,re.c)(11),{itemType:n}=e,[r,i]=b(`q`),[a,o]=(0,S.useState)(r??``),s,c;t[0]===r?(s=t[1],c=t[2]):(s=()=>{r||o(``)},c=[r],t[0]=r,t[1]=s,t[2]=c),(0,S.useEffect)(s,c);let l;t[3]===i?l=t[4]:(l=e=>{o(e),i(e)},t[3]=i,t[4]=l);let u=l,d=`Search by ${n} name`,f;t[5]===u?f=t[6]:(f=e=>u(e.target.value),t[5]=u,t[6]=f);let p;return t[7]!==a||t[8]!==d||t[9]!==f?(p=(0,T.jsx)(`input`,{type:`text`,placeholder:d,value:a,onChange:f,className:`w-full rounded-xl bg-slate-200 py-2 text-center shadow-md transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-lg focus:shadow-lg dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none dark:focus:shadow-none`}),t[7]=a,t[8]=d,t[9]=f,t[10]=p):p=t[10],p};var ae=ie;const oe=[{value:`i`,label:`Gen. I`},{value:`ii`,label:`Gen. II`},{value:`iii`,label:`Gen. III`},{value:`iv`,label:`Gen. IV`},{value:`v`,label:`Gen. V`},{value:`vi`,label:`Gen. VI`},{value:`vii`,label:`Gen. VII`},{value:`viii`,label:`Gen. VIII`},{value:`ix`,label:`Gen. IX`}];var se=n(o());const ce=e=>{let n=(0,se.c)(9),{name:r,values:i,isOpen:a,toggleOpen:o}=e,[s,c]=b(r),l=`${r} Filtering`,u;n[0]!==s||n[1]!==c||n[2]!==i?(u=i?.map(e=>{let{value:n,label:r}=e;return(0,T.jsx)(t,{onClick:()=>c(n),style:s===n?`indigo`:`normal`,className:`capitalize`,children:r},n)}),n[0]=s,n[1]=c,n[2]=i,n[3]=u):u=n[3];let d;return n[4]!==a||n[5]!==l||n[6]!==u||n[7]!==o?(d=(0,T.jsx)(g,{label:l,initialIsOpen:a,toggleOpen:o,className:`grid grid-cols-3 gap-2 p-2 lg:grid-cols-2 xl:grid-cols-3`,children:u}),n[4]=a,n[5]=l,n[6]=u,n[7]=o,n[8]=d):d=n[8],d};var le=ce,ue=n(o());const de=()=>{let e=(0,ue.c)(3),[t,n]=v(y(pe)),r;return e[0]!==t||e[1]!==n?(r=(0,T.jsx)(le,{name:`generation`,values:oe,isOpen:t,toggleOpen:n}),e[0]=t,e[1]=n,e[2]=r):r=e[2],r};var fe=de;function pe(e){return[e.isGenPanelOpen,e.toggleGenPanelOpen]}var me=n(o());const he=()=>{let e=(0,me.c)(4),[t,n]=v(y(_e)),r;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(r=Object.entries(_).map(ve),e[0]=r):r=e[0];let i;return e[1]!==t||e[2]!==n?(i=(0,T.jsx)(le,{name:`type`,values:r,isOpen:t,toggleOpen:n}),e[1]=t,e[2]=n,e[3]=i):i=e[3],i};var ge=he;function _e(e){return[e.isTypePanelOpen,e.toggleTypePanelOpen]}function ve(e){let[t,n]=e,{label:r}=n;return{value:t,label:r}}var ye=n(o());const be=()=>{let e=(0,ye.c)(6),[n,r]=b(`onlyStarred`),{length:i}=ee(),a;e[0]===r?a=e[1]:(a=()=>r(!0),e[0]=r,e[1]=a);let o=n?`gold`:`normal`,s=n?`ing ${i}`:` only`,c;return e[2]!==a||e[3]!==o||e[4]!==s?(c=(0,T.jsxs)(t,{onClick:a,style:o,className:`mb-4 w-full`,children:[`Show`,s,` starred PokÃ©mon`]}),e[2]=a,e[3]=o,e[4]=s,e[5]=c):c=e[5],c};var xe=be,Se=n(o());const Ce=()=>{let e=(0,Se.c)(9),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t={select:we},e[0]=t):t=e[0];let n=m(t),r=n===`/pokedex/pokemon`?`/pokemon`:`/moves`,i;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(i={strict:!1},e[1]=i):i=e[1];let a=h(i),o;e[2]===r?o=e[3]:(o={from:r},e[2]=r,e[3]=o);let s=f(o),c;e[4]===s?c=e[5]:(c=()=>void s({search:{},replace:!0}),e[4]=s,e[5]=c);let l=c,u=!!(a.generation??a.type??a.onlyStarred??a.q),d;return e[6]!==u||e[7]!==l?(d={reset:l,canReset:u},e[6]=u,e[7]=l,e[8]=d):d=e[8],d};function we(e){return e.location.pathname}var Te=n(o());const Ee=()=>{let e=(0,Te.c)(4),{reset:n,canReset:r}=Ce(),i=!r,a=r?`indigo`:`normal`,o;return e[0]!==n||e[1]!==i||e[2]!==a?(o=(0,T.jsx)(t,{onClick:n,disabled:i,style:a,className:`w-full disabled:cursor-not-allowed disabled:opacity-25 lg:mb-4`,children:`Clear Filtering`}),e[0]=n,e[1]=i,e[2]=a,e[3]=o):o=e[3],o};var De=Ee,Oe=n(o());const ke=e=>{let t=(0,Oe.c)(2),{children:n}=e,r;return t[0]===n?r=t[1]:(r=(0,T.jsx)(`aside`,{className:`z-10 p-4 max-lg:pb-0 max-sm:pt-0 lg:fixed lg:h-[calc(100vh-96px)] lg:w-1/5 lg:max-w-80 lg:min-w-62.5 lg:overflow-y-scroll`,children:n}),t[0]=n,t[1]=r),r};ke.Search=ae,ke.GenerationFilter=fe,ke.TypeFilter=ge,ke.OnlyStarredToggle=xe,ke.ClearFilter=De;var Ae=ke;const je=500,Me={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},Ne=()=>{let[n,r]=(0,S.useState)(!1),i=(0,S.useRef)(null);return(0,S.useEffect)(()=>{let e=()=>{i.current??=window.setTimeout(()=>{r(window.scrollY>je),i.current=null},200)};return window.addEventListener(`scroll`,e),()=>{window.removeEventListener(`scroll`,e),i.current&&clearTimeout(i.current)}},[]),(0,T.jsx)(e,{children:n&&(0,T.jsx)(a.div,{variants:Me,initial:`hidden`,animate:`visible`,exit:`hidden`,transition:{type:`spring`,bounce:0,duration:.3},className:`fixed bottom-20 left-4 z-10 sm:bottom-4 lg:left-[calc(20vw+16px)]`,children:(0,T.jsxs)(t,{onClick:()=>{window.scrollTo({top:0}),r(!1)},style:`gold`,className:`flex items-center gap-2 rounded-full px-4 py-4 sm:rounded-xl sm:px-3 sm:py-2`,children:[(0,T.jsx)(ne,{className:`size-5`}),(0,T.jsx)(`span`,{className:`max-sm:hidden`,children:`Scroll to top`})]})})})};var Pe=Ne,Fe=n(l(),1);const Ie=0,Le=1,Re=2,ze=4;function Be(e){return()=>e}function Ve(e){e()}function He(e,t){return n=>e(t(n))}function Ue(e,t){return()=>e(t)}function We(e,t){return n=>e(t,n)}function Ge(e){return e!==void 0}function Ke(...e){return()=>{e.map(Ve)}}function qe(){}function Je(e,t){return t(e),e}function Ye(e,t){return t(e)}function E(...e){return e}function D(e,t){return e(Le,t)}function O(e,t){e(Ie,t)}function Xe(e){e(Re)}function k(e){return e(ze)}function A(e,t){return D(e,We(t,Ie))}function Ze(e,t){let n=e(Le,e=>{n(),t(e)});return n}function Qe(e){let t,n;return r=>i=>{t=i,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function $e(e,t){return e===t}function j(e=$e){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function M(e){return t=>n=>{e(n)&&t(n)}}function N(e){return t=>He(t,e)}function et(e){return t=>()=>{t(e)}}function P(e,...t){let n=it(...t);return(t,r)=>{switch(t){case Re:Xe(e);return;case Le:return D(e,n(r))}}}function tt(e,t){return n=>r=>{n(t=e(t,r))}}function nt(e){return t=>n=>{e>0?e--:t(n)}}function rt(e){let t=null,n;return r=>i=>{t=i,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function F(...e){let t=Array(e.length),n=0,r=null,i=2**e.length-1;return e.forEach((e,a)=>{let o=2**a;D(e,e=>{let s=n;n|=o,t[a]=e,s!==i&&n===i&&r&&(r(),r=null)})}),e=>a=>{let o=()=>{e([a].concat(t))};n===i?o():r=o}}function it(...e){return t=>e.reduceRight(Ye,t)}function at(e){let t,n,r=()=>t?.();return function(i,a){switch(i){case Le:return a?n===a?void 0:(r(),n=a,t=D(e,a),t):(r(),qe);case Re:r(),n=null;return}}}function I(e){let t=e,n=R();return(e,r)=>{switch(e){case Ie:t=r;break;case Le:r(t);break;case ze:return t}return n(e,r)}}function L(e,t){return Je(I(t),t=>A(e,t))}function R(){let e=[];return(t,n)=>{switch(t){case Ie:e.slice().forEach(e=>{e(n)});return;case Re:e.splice(0,e.length);return;case Le:return e.push(n),()=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function z(e){return Je(R(),t=>A(e,t))}function B(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:ot(),singleton:n}}const ot=()=>Symbol();function st(e){let t=new Map,n=({constructor:e,dependencies:r,id:i,singleton:a})=>{if(a&&t.has(i))return t.get(i);let o=e(r.map(e=>n(e)));return a&&t.set(i,o),o};return n(e)}function V(...e){let t=R(),n=Array(e.length),r=0,i=2**e.length-1;return e.forEach((e,a)=>{let o=2**a;D(e,e=>{n[a]=e,r|=o,r===i&&O(t,n)})}),function(e,a){switch(e){case Re:Xe(t);return;case Le:return r===i&&a(n),D(t,a)}}}function H(e,t=$e){return P(e,j(t))}function ct(...e){return function(t,n){switch(t){case Re:return;case Le:return Ke(...e.map(e=>D(e,n)))}}}var U=(e=>(e[e.DEBUG=0]=`DEBUG`,e[e.INFO=1]=`INFO`,e[e.WARN=2]=`WARN`,e[e.ERROR=3]=`ERROR`,e))(U||{});const lt={0:`debug`,3:`error`,1:`log`,2:`warn`},ut=()=>typeof globalThis>`u`?window:globalThis,dt=B(()=>{let e=I(3);return{log:I((t,n,r=1)=>{var i;let a=(i=ut().VIRTUOSO_LOG_LEVEL)??k(e);r>=a&&console[lt[r]](`%creact-virtuoso: %c%s %o`,`color: #0253b3; font-weight: bold`,`color: initial`,t,n)}),logLevel:e}},[],{singleton:!0});function ft(e,t,n){return pt(e,t,n).callbackRef}function pt(e,t,n){let r=S.default.useRef(null),i=e=>{},a=S.default.useMemo(()=>typeof ResizeObserver<`u`?new ResizeObserver(t=>{let r=()=>{let n=t[0].target;n.offsetParent!==null&&e(n)};n?r():requestAnimationFrame(r)}):null,[e,n]);return i=e=>{e&&t?(a?.observe(e),r.current=e):(r.current&&a?.unobserve(r.current),r.current=null)},{callbackRef:i,ref:r}}function mt(e,t,n,r,i,a,o,s,c){let l=S.default.useCallback(n=>{let c=ht(n.children,t,s?`offsetWidth`:`offsetHeight`,i),l=n.parentElement;for(;!l.dataset.virtuosoScroller;)l=l.parentElement;let u=l.lastElementChild.dataset.viewportType===`window`,d;u&&(d=l.ownerDocument.defaultView);let f=o?s?o.scrollLeft:o.scrollTop:u?s?d.scrollX||d.document.documentElement.scrollLeft:d.scrollY||d.document.documentElement.scrollTop:s?l.scrollLeft:l.scrollTop,p=o?s?o.scrollWidth:o.scrollHeight:u?s?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight:s?l.scrollWidth:l.scrollHeight,m=o?s?o.offsetWidth:o.offsetHeight:u?s?d.innerWidth:d.innerHeight:s?l.offsetWidth:l.offsetHeight;r({scrollHeight:p,scrollTop:Math.max(f,0),viewportHeight:m}),a?.(s?gt(`column-gap`,getComputedStyle(n).columnGap,i):gt(`row-gap`,getComputedStyle(n).rowGap,i)),c!==null&&e(c)},[e,t,i,a,o,r,s]);return pt(l,n,c)}function ht(e,t,n,r){let i=e.length;if(i===0)return null;let a=[];for(let o=0;o<i;o++){let i=e.item(o);if(i.dataset.index===void 0)continue;let s=parseInt(i.dataset.index),c=parseFloat(i.dataset.knownSize),l=t(i,n);if(l===0&&r(`Zero-sized element, this should not happen`,{child:i},U.ERROR),l===c)continue;let u=a[a.length-1];a.length===0||u.size!==l||u.endIndex!==s-1?a.push({endIndex:s,size:l,startIndex:s}):a[a.length-1].endIndex++}return a}function gt(e,t,n){return t!==`normal`&&!(t!=null&&t.endsWith(`px`))&&n(`${e} was not resolved to pixel value correctly`,t,U.WARN),t===`normal`?0:parseInt(t??`0`,10)}function _t(e,t,n){let r=S.default.useRef(null),i=S.default.useCallback(n=>{if(!(n!=null&&n.offsetParent))return;let i=n.getBoundingClientRect(),a=i.width,s,c;if(t){let e=t.getBoundingClientRect(),n=i.top-e.top;c=e.height-Math.max(0,n),s=n+t.scrollTop}else{let e=o.current.ownerDocument.defaultView;c=e.innerHeight-Math.max(0,i.top),s=i.top+e.scrollY}r.current={offsetTop:s,visibleHeight:c,visibleWidth:a},e(r.current)},[e,t]),{callbackRef:a,ref:o}=pt(i,!0,n),s=S.default.useCallback(()=>{i(o.current)},[i,o]);return S.default.useEffect(()=>{var e;if(t){t.addEventListener(`scroll`,s);let e=new ResizeObserver(()=>{requestAnimationFrame(s)});return e.observe(t),()=>{t.removeEventListener(`scroll`,s),e.unobserve(t)}}else{let t=(e=o.current)?.ownerDocument.defaultView;return t?.addEventListener(`scroll`,s),t?.addEventListener(`resize`,s),()=>{t?.removeEventListener(`scroll`,s),t?.removeEventListener(`resize`,s)}}},[s,t,o]),a}const W=B(()=>{let e=R(),t=R(),n=I(0),r=R(),i=I(0),a=R(),o=R(),s=I(0),c=I(0),l=I(0),u=I(0),d=R(),f=R(),p=I(!1),m=I(!1),h=I(!1);return A(P(e,N(({scrollTop:e})=>e)),t),A(P(e,N(({scrollHeight:e})=>e)),o),A(t,i),{deviation:n,fixedFooterHeight:l,fixedHeaderHeight:c,footerHeight:u,headerHeight:s,horizontalDirection:m,scrollBy:f,scrollContainerState:e,scrollHeight:o,scrollingInProgress:p,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:h,smoothScrollTargetReached:r,statefulScrollTop:i,viewportHeight:a}},[],{singleton:!0}),vt={lvl:0};function yt(e,t){let n=e.length;if(n===0)return[];let{index:r,value:i}=t(e[0]),a=[];for(let o=1;o<n;o++){let{index:n,value:s}=t(e[o]);a.push({end:n-1,start:r,value:i}),r=n,i=s}return a.push({end:1/0,start:r,value:i}),a}function G(e){return e===vt}function bt(e,t){if(!G(e))return t===e.k?e.v:t<e.k?bt(e.l,t):bt(e.r,t)}function xt(e,t,n=`k`){if(G(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){let r=xt(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return xt(e.l,t,n)}function K(e,t,n){return G(e)?jt(t,n,1):t===e.k?q(e,{k:t,v:n}):t<e.k?Mt(q(e,{l:K(e.l,t,n)})):Mt(q(e,{r:K(e.r,t,n)}))}function St(){return vt}function Ct(e,t,n){if(G(e))return[];let r=xt(e,t)[0];return Ft(Et(e,r,n))}function wt(e,t){if(G(e))return vt;let{k:n,l:r,r:i}=e;if(t===n){if(G(r))return i;if(G(i))return r;{let[t,n]=At(r);return Dt(q(e,{k:t,l:Ot(r),v:n}))}}else return Dt(t<n?q(e,{l:wt(r,t)}):q(e,{r:wt(i,t)}))}function Tt(e){return G(e)?[]:[...Tt(e.l),{k:e.k,v:e.v},...Tt(e.r)]}function Et(e,t,n){if(G(e))return[];let{k:r,l:i,r:a,v:o}=e,s=[];return r>t&&(s=s.concat(Et(i,t,n))),r>=t&&r<=n&&s.push({k:r,v:o}),r<=n&&(s=s.concat(Et(a,t,n))),s}function Dt(e){let{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(kt(t))return Nt(q(e,{lvl:n-1}));if(!G(t)&&!G(t.r))return q(t.r,{l:q(t,{r:t.r.l}),lvl:n,r:q(e,{l:t.r.r,lvl:n-1})});throw Error(`Unexpected empty nodes`)}else{if(kt(e))return Pt(q(e,{lvl:n-1}));if(!G(r)&&!G(r.l)){let t=r.l,i=kt(t)?r.lvl-1:r.lvl;return q(t,{l:q(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:Pt(q(r,{l:t.r,lvl:i}))})}else throw Error(`Unexpected empty nodes`)}}function q(e,t){return jt(t.k===void 0?e.k:t.k,t.v===void 0?e.v:t.v,t.lvl===void 0?e.lvl:t.lvl,t.l===void 0?e.l:t.l,t.r===void 0?e.r:t.r)}function Ot(e){return G(e.r)?e.l:Dt(q(e,{r:Ot(e.r)}))}function kt(e){return G(e)||e.lvl>e.r.lvl}function At(e){return G(e.r)?[e.k,e.v]:At(e.r)}function jt(e,t,n,r=vt,i=vt){return{k:e,l:r,lvl:n,r:i,v:t}}function Mt(e){return Pt(Nt(e))}function Nt(e){let{l:t}=e;return!G(t)&&t.lvl===e.lvl?q(t,{r:q(e,{l:t.r})}):e}function Pt(e){let{lvl:t,r:n}=e;return!G(n)&&!G(n.r)&&n.lvl===t&&n.r.lvl===t?q(n,{l:q(e,{r:n.l}),lvl:t+1}):e}function Ft(e){return yt(e,({k:e,v:t})=>({index:e,value:t}))}function It(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Lt(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Rt=B(()=>({recalcInProgress:I(!1)}),[],{singleton:!0});function zt(e,t,n){return e[Bt(e,t,n)]}function Bt(e,t,n,r=0){let i=e.length-1;for(;r<=i;){let a=Math.floor((r+i)/2),o=e[a],s=n(o,t);if(s===0)return a;if(s===-1){if(i-r<2)return a-1;i=a-1}else{if(i===r)return a;r=a+1}}throw Error(`Failed binary finding record in array - ${e.join(`,`)}, searched for ${t}`)}function Vt(e,t,n,r){let i=Bt(e,t,r),a=Bt(e,n,r,i);return e.slice(i,a+1)}function Ht(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ut(e){return!G(e.groupOffsetTree)}function Wt({index:e},t){return t===e?0:t<e?-1:1}function Gt(){return{groupIndices:[],groupOffsetTree:St(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:St()}}function Kt(e,t){let n=G(e)?0:1/0;for(let r of t){let{endIndex:t,size:i,startIndex:a}=r;if(n=Math.min(n,a),G(e)){e=K(e,0,i);continue}let o=Ct(e,a-1,t+1);if(o.some(an(r)))continue;let s=!1,c=!1;for(let{end:n,start:r,value:a}of o)s?(t>=r||i===a)&&(e=wt(e,r)):(c=a!==i,s=!0),n>t&&t>=r&&a!==i&&(e=K(e,t+1,a));c&&(e=K(e,a,i))}return[e,n]}function qt(e){return typeof e.groupIndex<`u`}function Jt({offset:e},t){return t===e?0:t<e?-1:1}function Yt(e,t,n){if(t.length===0)return 0;let{index:r,offset:i,size:a}=zt(t,e,Wt),o=e-r,s=a*o+(o-1)*n+i;return s>0?s+n:s}function Xt(e,t){if(!Ut(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function Zt(e,t,n){if(qt(e))return t.groupIndices[e.groupIndex]+1;{let r=e.index===`LAST`?n:e.index,i=Xt(r,t);return i=Math.max(0,i,Math.min(n,i)),i}}function Qt(e,t,n,r=0){return r>0&&(t=Math.max(t,zt(e,r,Wt).offset)),yt(Vt(e,t,n,Jt),rn)}function $t(e,[t,n,r,i]){t.length>0&&r(`received item sizes`,t,U.DEBUG);let a=e.sizeTree,o=a,s=0;if(n.length>0&&G(a)&&t.length===2){let e=t[0].size,r=t[1].size;o=n.reduce((t,n)=>K(K(t,n,e),n+1,r),o)}else [o,s]=Kt(o,t);if(o===a)return e;let{lastIndex:c,lastOffset:l,lastSize:u,offsetTree:d}=nn(e.offsetTree,s,o,i);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>K(e,t,Yt(t,d,i)),St()),lastIndex:c,lastOffset:l,lastSize:u,offsetTree:d,sizeTree:o}}function en(e){return Tt(e).map(({k:e,v:t},n,r)=>{let i=r[n+1];return{endIndex:i?i.k-1:1/0,size:t,startIndex:e}})}function tn(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function nn(e,t,n,r){let i=e,a=0,o=0,s=0,c=0;if(t!==0){c=Bt(i,t-1,Wt),s=i[c].offset;let e=xt(n,t-1);a=e[0],o=e[1],i.length&&i[c].size===xt(n,t)[1]&&--c,i=i.slice(0,c+1)}else i=[];for(let{start:e,value:c}of Ct(n,t,1/0)){let t=e-a,n=t*o+s+t*r;i.push({index:e,offset:n,size:c}),a=e,s=n,o=c}return{lastIndex:a,lastOffset:s,lastSize:o,offsetTree:i}}function rn(e){return{index:e.index,value:e}}function an(e){let{endIndex:t,size:n,startIndex:r}=e;return e=>e.start===r&&(e.end===t||e.end===1/0)&&e.value===n}const on={offsetHeight:`height`,offsetWidth:`width`},sn=B(([{log:e},{recalcInProgress:t}])=>{let n=R(),r=R(),i=L(r,0),a=R(),o=R(),s=I(0),c=I([]),l=I(void 0),u=I(void 0),d=I((e,t)=>Ht(e,on[t])),f=I(void 0),p=I(0),m=Gt(),h=L(P(n,F(c,e,p),tt($t,m),j()),m),g=L(P(c,j(),tt((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),N(({prev:e})=>e)),[]);A(P(c,M(e=>e.length>0),F(h,p),N(([e,t,n])=>{let r=e.reduce((e,r,i)=>K(e,r,Yt(r,t.offsetTree,n)||i),St());return{...t,groupIndices:e,groupOffsetTree:r}})),h),A(P(r,F(h),M(([e,{lastIndex:t}])=>e<t),N(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),A(l,u);let _=L(P(l,N(e=>e===void 0)),!0);A(P(u,M(e=>e!==void 0&&G(k(h).sizeTree)),N(e=>[{endIndex:0,size:e,startIndex:0}])),n);let v=z(P(n,F(h),tt(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:m}),N(e=>e.changed)));D(P(s,tt((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),N(e=>e.diff)),e=>{let{groupIndices:n}=k(h);if(e>0)O(t,!0),O(a,e+tn(e,n));else if(e<0){let t=k(g);t.length>0&&(e-=tn(-e,t)),O(o,e)}}),D(P(s,F(e)),([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},U.ERROR)});let y=z(a);A(P(a,F(h),N(([e,t])=>{let n=t.groupIndices.length>0,r=[],i=t.lastSize;if(n){let n=bt(t.sizeTree,0),a=0,o=0;for(;a<e;){let e=t.groupIndices[o],s=t.groupIndices.length===o+1?1/0:t.groupIndices[o+1]-e-1;r.push({endIndex:e,size:n,startIndex:e}),r.push({endIndex:e+1+s-1,size:i,startIndex:e+1}),o++,a+=s+1}let s=Tt(t.sizeTree);return a!==e&&s.shift(),s.reduce((t,{k:n,v:r})=>{let i=t.ranges;return t.prevSize!==0&&(i=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:r,ranges:i}},{prevIndex:e,prevSize:0,ranges:r}).ranges}return Tt(t.sizeTree).reduce((t,{k:n,v:r})=>({prevIndex:n+e,prevSize:r,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:i,ranges:[]}).ranges})),n);let b=z(P(o,F(h,p),N(([e,{offsetTree:t},n])=>{let r=-e;return Yt(r,t,n)})));return A(P(o,F(h,p),N(([e,t,n])=>{if(t.groupIndices.length>0){if(G(t.sizeTree))return t;let r=St(),i=k(g),a=0,o=0,s=0;for(;a<-e;){s=i[o];let e=i[o+1]-s-1;o++,a+=e+1}if(r=Tt(t.sizeTree).reduce((t,{k:n,v:r})=>K(t,Math.max(0,n+e),r),r),a!==-e){let n=bt(t.sizeTree,s);r=K(r,0,n);let i=xt(t.sizeTree,-e+1)[1];r=K(r,1,i)}return{...t,sizeTree:r,...nn(t.offsetTree,0,r,n)}}else{let r=Tt(t.sizeTree).reduce((t,{k:n,v:r})=>K(t,Math.max(0,n+e),r),St());return{...t,sizeTree:r,...nn(t.offsetTree,0,r,n)}}})),h),{beforeUnshiftWith:y,data:f,defaultItemSize:u,firstItemIndex:s,fixedItemSize:l,gap:p,groupIndices:c,itemSize:d,listRefresh:v,shiftWith:o,shiftWithOffset:b,sizeRanges:n,sizes:h,statefulTotalCount:i,totalCount:r,trackItemSizes:_,unshiftWith:a}},E(dt,Rt),{singleton:!0});function cn(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const ln=B(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:i}])=>{let a=R(),o=R(),s=z(P(a,N(cn)));return A(P(s,N(e=>e.totalCount)),n),A(P(s,N(e=>e.groupIndices)),e),A(P(V(i,t,r),M(([e,t])=>Ut(t)),N(([e,t,n])=>xt(t.groupOffsetTree,Math.max(e-n,0),`v`)[0]),j(),N(e=>[e])),o),{groupCounts:a,topItemsIndexes:o}},E(sn,W)),un=B(([{log:e}])=>{let t=I(!1),n=z(P(t,M(e=>e),j()));return D(t,t=>{t&&k(e)(`props updated`,{},U.DEBUG)}),{didMount:n,propsReady:t}},E(dt),{singleton:!0}),dn=typeof document<`u`&&`scrollBehavior`in document.documentElement.style;function fn(e){let t=typeof e==`number`?{index:e}:e;return t.align||=`start`,(!t.behavior||!dn)&&(t.behavior=`auto`),t.offset||=0,t}const pn=B(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:i,fixedHeaderHeight:a,footerHeight:o,headerHeight:s,scrollingInProgress:c,scrollTo:l,smoothScrollTargetReached:u,viewportHeight:d},{log:f}])=>{let p=R(),m=R(),h=I(0),g=null,_=null,v=null;function y(){g&&(g(),g=null),v&&(v(),v=null),_&&(clearTimeout(_),_=null),O(c,!1)}return A(P(p,F(n,d,r,h,s,o,f),F(e,a,i),N(([[e,n,r,i,a,o,s,l],d,f,h])=>{let b=fn(e),{align:ee,behavior:x,offset:te}=b,S=i-1,C=Zt(b,n,S),w=Yt(C,n.offsetTree,d)+o;ee===`end`?(w+=f+xt(n.sizeTree,C)[1]-r+h,C===S&&(w+=s)):ee===`center`?w+=(f+xt(n.sizeTree,C)[1]-r+h)/2:w-=a,te&&(w+=te);let ne=t=>{y(),t?(l(`retrying to scroll to`,{location:e},U.DEBUG),O(p,e)):(O(m,!0),l(`list did not change, scroll successful`,{},U.DEBUG))};if(y(),x===`smooth`){let e=!1;v=D(t,t=>{e||=t}),g=Ze(u,()=>{ne(e)})}else g=Ze(P(t,mn(150)),ne);return _=setTimeout(()=>{y()},1200),O(c,!0),l(`scrolling from index to`,{behavior:x,index:C,top:w},U.DEBUG),{behavior:x,top:w}})),l),{scrollTargetReached:m,scrollToIndex:p,topListHeight:h}},E(sn,W,dt),{singleton:!0});function mn(e){return t=>{let n=setTimeout(()=>{t(!1)},e);return e=>{e&&(t(!0),clearTimeout(n))}}}function hn(e,t){e==0?t():requestAnimationFrame(()=>{hn(e-1,t)})}function gn(e,t){let n=t-1;return typeof e==`number`?e:e.index===`LAST`?n:e.index}const _n=B(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:i,scrollToIndex:a},{didMount:o}])=>{let s=I(!0),c=I(0),l=I(!0);return A(P(o,F(c),M(([e,t])=>!!t),et(!1)),s),A(P(o,F(c),M(([e,t])=>!!t),et(!1)),l),D(P(V(t,o),F(s,n,e,l),M(([[,e],t,{sizeTree:n},r,i])=>e&&(!G(n)||Ge(r))&&!t&&!i),F(c)),([,e])=>{Ze(i,()=>{O(l,!0)}),hn(4,()=>{Ze(r,()=>{O(s,!0)}),O(a,e)})}),{initialItemFinalLocationReached:l,initialTopMostItemIndex:c,scrolledToInitialItem:s}},E(sn,W,pn,un),{singleton:!0});function vn(e,t){return Math.abs(e-t)<1.01}const yn=`up`,bn=`down`,xn=`none`,Sn={atBottom:!1,notAtBottomBecause:`NOT_SHOWING_LAST_ITEM`,state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Cn=0,wn=B(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:i,viewportHeight:a}])=>{let o=I(!1),s=I(!0),c=R(),l=R(),u=I(4),d=I(Cn),f=L(P(ct(P(H(i),nt(1),et(!0)),P(H(i),nt(1),et(!1),Qe(100))),j()),!1),p=L(P(ct(P(n,et(!0)),P(n,et(!1),Qe(200))),j()),!1);A(P(V(H(i),H(d)),N(([e,t])=>e<=t),j()),s),A(P(s,rt(50)),l);let m=z(P(V(r,H(a),H(t),H(e),H(u)),tt((e,[{scrollHeight:t,scrollTop:n},r,i,a,o])=>{let s=n+r-t>-o,c={scrollHeight:t,scrollTop:n,viewportHeight:r};if(s){let t,r;return n>e.state.scrollTop?(t=`SCROLLED_DOWN`,r=e.state.scrollTop-n):(t=`SIZE_DECREASED`,r=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:r,state:c}}let l;return l=c.scrollHeight>e.state.scrollHeight?`SIZE_INCREASED`:r<e.state.viewportHeight?`VIEWPORT_HEIGHT_DECREASING`:n<e.state.scrollTop?`SCROLLING_UPWARDS`:`NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM`,{atBottom:!1,notAtBottomBecause:l,state:c}},Sn),j((e,t)=>e&&e.atBottom===t.atBottom))),h=L(P(r,tt((e,{scrollHeight:t,scrollTop:n,viewportHeight:r})=>{if(vn(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{let i=t-(n+r)<1;return e.scrollTop!==n&&i?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),M(e=>e.changed),N(e=>e.jump)),0);A(P(m,N(e=>e.atBottom)),o),A(P(o,rt(50)),c);let g=I(bn);A(P(r,N(({scrollTop:e})=>e),j(),tt((e,t)=>k(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?yn:bn,prevScrollTop:t},{direction:bn,prevScrollTop:0}),N(e=>e.direction)),g),A(P(r,rt(50),et(xn)),g);let _=I(0);return A(P(f,M(e=>!e),et(0)),_),A(P(i,rt(100),F(f),M(([e,t])=>!!t),tt(([e,t],[n])=>[t,n],[0,0]),N(([e,t])=>t-e)),_),{atBottomState:m,atBottomStateChange:c,atBottomThreshold:u,atTopStateChange:l,atTopThreshold:d,isAtBottom:o,isAtTop:s,isScrolling:f,lastJumpDueToItemResize:h,scrollDirection:g,scrollVelocity:_}},E(W)),Tn=`top`,En=`bottom`,Dn=`none`;function On(e,t,n){return typeof e==`number`?n===yn&&t===Tn||n===bn&&t===En?e:0:n===yn?t===Tn?e.main:e.reverse:t===En?e.main:e.reverse}function kn(e,t){var n;return typeof e==`number`?e:(n=e[t])??0}const An=B(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:i}])=>{let a=R(),o=I(0),s=I(0),c=I(0),l=L(P(V(H(r),H(i),H(n),H(a,Lt),H(c),H(o),H(t),H(e),H(s)),N(([e,t,n,[r,i],a,o,s,c,l])=>{let u=e-c,d=o+s,f=Math.max(n-u,0),p=Dn,m=kn(l,Tn),h=kn(l,En);return r-=c,r+=n+s,i+=n+s,i-=c,r>e+d-m&&(p=yn),i<e-f+t+h&&(p=bn),p===Dn?null:[Math.max(u-n-On(a,Tn,p)-m,0),u-f-s+t+On(a,En,p)+h]}),M(e=>e!=null),j(Lt)),[0,0]);return{increaseViewportBy:s,listBoundary:a,overscan:c,topListHeight:o,visibleRange:l}},E(W),{singleton:!0});function jn(e,t,n){if(Ut(t)){let r=Xt(e,t);return[{index:xt(t.groupOffsetTree,r)[0],offset:0,size:0},{data:n?.[0],index:r,offset:0,size:0}]}return[{data:n?.[0],index:e,offset:0,size:0}]}const Mn={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Nn(e,t,n,r,i,a){let{lastIndex:o,lastOffset:s,lastSize:c}=i,l=0,u=0;if(e.length>0){l=e[0].offset;let t=e[e.length-1];u=t.offset+t.size}let d=n-o,f=s+d*c+(d-1)*r,p=l,m=f-u;return{bottom:u,firstItemIndex:a,items:Fn(e,i,a),offsetBottom:m,offsetTop:l,top:p,topItems:Fn(t,i,a),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function Pn(e,t,n,r,i,a){let o=0;if(n.groupIndices.length>0)for(let t of n.groupIndices){if(t-o>=e)break;o++}let s=e+o,c=gn(t,s),l=Array.from({length:s}).map((e,t)=>({data:a[t+c],index:t+c,offset:0,size:0}));return Nn(l,[],s,i,n,r)}function Fn(e,t,n){if(e.length===0)return[];if(!Ut(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));let r=e[0].index,i=e[e.length-1].index,a=[],o=Ct(t.groupOffsetTree,r,i),s,c=0;for(let r of e){(!s||s.end<r.index)&&(s=o.shift(),c=t.groupIndices.indexOf(s.start));let e;e=r.index===s.start?{index:c,type:`group`}:{groupIndex:c,index:r.index-(c+1)+n},a.push({...e,data:r.data,offset:r.offset,originalIndex:r.index,size:r.size})}return a}const In=B(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:i},a,{listBoundary:o,topListHeight:s,visibleRange:c},{initialTopMostItemIndex:l,scrolledToInitialItem:u},{topListHeight:d},f,{didMount:p},{recalcInProgress:m}])=>{let h=I([]),g=I(0),_=R();A(a.topItemsIndexes,h);let v=L(P(V(p,m,H(c,Lt),H(i),H(r),H(l),u,H(h),H(t),H(n),e),M(([e,t,,n,,,,,,,r])=>{let i=r&&r.length!==n;return e&&!t&&!i}),N(([,,[e,t],n,r,i,a,o,s,c,l])=>{let u=r,{offsetTree:d,sizeTree:f}=u,p=k(g);if(n===0)return{...Mn,totalCount:n};if(e===0&&t===0)return p===0?{...Mn,totalCount:n}:Pn(p,i,r,s,c,l||[]);if(G(f))return p>0?null:Nn(jn(gn(i,n),u,l),[],n,c,u,s);let m=[];if(o.length>0){let e=o[0],t=o[o.length-1],n=0;for(let r of Ct(f,e,t)){let i=r.value,a=Math.max(r.start,e),o=Math.min(r.end,t);for(let e=a;e<=o;e++)m.push({data:l?.[e],index:e,offset:n,size:i}),n+=i}}if(!a)return Nn([],m,n,c,u,s);let h=o.length>0?o[o.length-1]+1:0,_=Qt(d,e,t,h);if(_.length===0)return null;let v=n-1,y=Je([],n=>{for(let r of _){let i=r.value,a=i.offset,o=r.start,s=i.size;if(i.offset<e){o+=Math.floor((e-i.offset+c)/(s+c));let t=o-r.start;a+=t*s+t*c}o<h&&(a+=(h-o)*s,o=h);let u=Math.min(r.end,v);for(let e=o;e<=u&&!(a>=t);e++)n.push({data:l?.[e],index:e,offset:a,size:s}),a+=s+c}});return Nn(y,m,n,c,u,s)}),M(e=>e!==null),j()),Mn);A(P(e,M(Ge),N(e=>e?.length)),i),A(P(v,N(e=>e.topListHeight)),d),A(d,s),A(P(v,N(e=>[e.top,e.bottom])),o),A(P(v,N(e=>e.items)),_);let y=z(P(v,M(({items:e})=>e.length>0),F(i,e),M(([{items:e},t])=>e[e.length-1].originalIndex===t-1),N(([,e,t])=>[e-1,t]),j(Lt),N(([e])=>e))),b=z(P(v,rt(200),M(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),N(({items:e})=>e[0].index),j())),ee=z(P(v,M(({items:e})=>e.length>0),N(({items:e})=>{let t=0,n=e.length-1;for(;e[t].type===`group`&&t<n;)t++;for(;e[n].type===`group`&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),j(It)));return{endReached:y,initialItemCount:g,itemsRendered:_,listState:v,rangeChanged:ee,startReached:b,topItemsIndexes:h,...f}},E(sn,ln,An,_n,pn,wn,un,Rt),{singleton:!0}),Ln=B(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:i}])=>{let a=R(),o=L(P(V(n,e,r,t,i),N(([e,t,n,r,i])=>e+t+n+r+i.offsetBottom+i.bottom)),0);return A(H(o),a),{totalListHeight:o,totalListHeightChanged:a}},E(W,In),{singleton:!0}),Rn=B(([{viewportHeight:e},{totalListHeight:t}])=>{let n=I(!1),r=L(P(V(n,e,t),M(([e])=>e),N(([,e,t])=>Math.max(0,e-t)),rt(0),j()),0);return{alignToBottom:n,paddingTopAddition:r}},E(W,Ln),{singleton:!0});function zn(e){return e?e===`smooth`?`smooth`:`auto`:!1}const Bn=(e,t)=>typeof e==`function`?zn(e(t)):t&&zn(e),Vn=B(([{listRefresh:e,totalCount:t},{atBottomState:n,isAtBottom:r},{scrollToIndex:i},{scrolledToInitialItem:a},{didMount:o,propsReady:s},{log:c},{scrollingInProgress:l}])=>{let u=I(!1),d=R(),f=null;function p(e){O(i,{align:`end`,behavior:e,index:`LAST`})}D(P(V(P(H(t),nt(1)),o),F(H(u),r,a,l),N(([[e,t],n,r,i,a])=>{let o=t&&i,s=`auto`;return o&&(s=Bn(n,r||a),o&&=!!s),{followOutputBehavior:s,shouldFollow:o,totalCount:e}}),M(({shouldFollow:e})=>e)),({followOutputBehavior:t,totalCount:n})=>{f&&(f(),f=null),f=Ze(e,()=>{k(c)(`following output to `,{totalCount:n},U.DEBUG),p(t),f=null})});function m(e){let t=Ze(n,t=>{e&&!t.atBottom&&t.notAtBottomBecause===`SIZE_INCREASED`&&!f&&(k(c)(`scrolling to bottom due to increased size`,{},U.DEBUG),p(`auto`))});setTimeout(t,100)}return D(P(V(H(u),t,s),M(([e,,t])=>e&&t),tt(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),M(({refreshed:e})=>e),F(u,t)),([,e])=>{k(a)&&m(e!==!1)}),D(d,()=>{m(k(u)!==!1)}),D(V(H(u),n),([e,t])=>{e&&!t.atBottom&&t.notAtBottomBecause===`VIEWPORT_HEIGHT_DECREASING`&&p(`auto`)}),{autoscrollToBottom:d,followOutput:u}},E(sn,wn,pn,_n,un,dt,W)),Hn=B(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(A(P(s,F(a),M(([,e])=>e!==0),F(i,r,t,n,e),N(([[,e],t,n,r,i,a=[]])=>Pn(e,t,n,r,i,a))),o),{}),E(sn,_n,In,un),{singleton:!0}),Un=B(([{didMount:e},{scrollTo:t},{listState:n}])=>{let r=I(0);return D(P(e,F(r),M(([,e])=>e!==0),N(([,e])=>({top:e}))),e=>{Ze(P(n,nt(1),M(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{O(t,e)})})}),{initialScrollTop:r}},E(un,W,In),{singleton:!0}),Wn=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...i},viewportBottom:a,viewportTop:o})=>t<o?{...i,align:n??`start`,behavior:r}:e>a?{...i,align:n??`end`,behavior:r}:null,Gn=B(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,headerHeight:a,scrollingInProgress:o,scrollTop:s,viewportHeight:c},{scrollToIndex:l}])=>{let u=R();return A(P(u,F(t,c,n,a,i,r,s),F(e),N(([[e,t,n,r,i,a,s,c],l])=>{let{align:u,behavior:d,calculateViewLocation:f=Wn,done:p,...m}=e,h=Zt(e,t,r-1),g=Yt(h,t.offsetTree,l)+i+a,_=g+xt(t.sizeTree,h)[1],v=c+a,y=c+n-s,b=f({itemBottom:_,itemTop:g,locationParams:{align:u,behavior:d,...m},viewportBottom:y,viewportTop:v});return b?p&&Ze(P(o,M(e=>!e),nt(k(o)?1:2)),p):p&&p(),b}),M(e=>e!==null)),l),{scrollIntoView:u}},E(sn,W,pn,In,dt),{singleton:!0}),Kn=B(([{scrollVelocity:e}])=>{let t=I(!1),n=R(),r=I(!1);return A(P(e,F(r,t,n),M(([e,t])=>!!t),N(([e,t,n,r])=>{let{enter:i,exit:a}=t;if(n){if(a(e,r))return!1}else if(i(e,r))return!0;return n}),j()),t),D(P(V(t,e,n),F(r)),([[e,t,n],r])=>{e&&r&&r.change&&r.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},E(wn),{singleton:!0}),qn=B(([{scrollContainerState:e,scrollTo:t}])=>{let n=R(),r=R(),i=R(),a=I(!1),o=I(void 0);return A(P(V(n,r),N(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:r}])=>({scrollHeight:e,scrollTop:Math.max(0,t-r),viewportHeight:n}))),e),A(P(t,F(r),N(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),i),{customScrollParent:o,useWindowScroll:a,windowScrollContainerState:n,windowScrollTo:i,windowViewportRect:r}},E(W)),Jn=B(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:c}])=>{let l=R(),u=I(void 0),d=I(null),f=I(null);return A(s,d),A(c,f),D(P(l,F(t,r,o,d,f,n)),([e,t,n,r,i,a,o])=>{let s=en(t.sizeTree);r&&i!==null&&a!==null&&(n=i.scrollTop-a.offsetTop),n-=o,e({ranges:s,scrollTop:n})}),A(P(u,M(Ge),N(Yn)),i),A(P(a,F(u),M(([,e])=>e!==void 0),j(),N(([,e])=>e.ranges)),e),{getState:l,restoreStateFrom:u}},E(sn,W,_n,un,qn));function Yn(e){return{align:`start`,index:0,offset:e.scrollTop}}const Xn=B(([{topItemsIndexes:e}])=>{let t=I(0);return A(P(t,M(e=>e>=0),N(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},E(In));function Zn(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const Qn=Zn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),$n=B(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:i,isScrolling:a,lastJumpDueToItemResize:o,scrollDirection:s},{listState:c},{beforeUnshiftWith:l,gap:u,shiftWithOffset:d,sizes:f},{log:p},{recalcInProgress:m}])=>{let h=z(P(c,F(o),tt(([,e,t,n],[{bottom:r,items:i,offsetBottom:a,totalCount:o},s])=>{let c=r+a,l=0;return t===o&&e.length>0&&i.length>0&&(i[0].originalIndex===0&&e[0].originalIndex===0||(l=c-n,l!==0&&(l+=s))),[l,i,o,c]},[0,[],0,0]),M(([e])=>e!==0),F(r,s,n,i,p,m),M(([,e,t,n,,,r])=>!r&&!n&&e!==0&&t===yn),N(([[e],,,,,t])=>(t(`Upward scrolling compensation`,{amount:e},U.DEBUG),e))));function g(n){n>0?(O(t,{behavior:`auto`,top:-n}),O(e,0)):(O(e,0),O(t,{behavior:`auto`,top:-n}))}return D(P(h,F(e,a)),([t,n,r])=>{r&&Qn()?O(e,n-t):g(-t)}),D(P(V(L(a,!1),e,m),M(([e,t,n])=>!e&&!n&&t!==0),N(([e,t])=>t),rt(1)),g),A(P(d,N(e=>({top:-e}))),t),D(P(l,F(f,u),N(([e,{groupIndices:t,lastSize:n,sizeTree:r},i])=>{function a(e){return e*(n+i)}if(t.length===0)return a(e);{let n=0,i=bt(r,0),o=0,s=0;for(;o<e;){o++,n+=i;let r=t.length===s+1?1/0:t[s+1]-t[s]-1;o+r>e&&(n-=i,r=e-o+1),o+=r,n+=a(r),s++}return n}})),n=>{O(e,n),requestAnimationFrame(()=>{O(t,{top:n}),requestAnimationFrame(()=>{O(e,0),O(m,!1)})})}),{deviation:e}},E(W,wn,In,sn,dt,Rt)),er=B(([e,t,n,r,i,a,o,s,c,l])=>({...e,...t,...n,...r,...i,...a,...o,...s,...c,...l}),E(An,Hn,un,Kn,Ln,Un,Rn,qn,Gn,dt)),tr=B(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:i,groupIndices:a,itemSize:o,sizeRanges:s,sizes:c,statefulTotalCount:l,totalCount:u,trackItemSizes:d},{initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:m},h,g,_,{listState:v,topItemsIndexes:y,...b},{scrollToIndex:ee},x,{topItemCount:te},{groupCounts:S},C])=>(A(b.rangeChanged,C.scrollSeekRangeChanged),A(P(C.windowViewportRect,N(e=>e.visibleHeight)),h.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:i,groupCounts:S,initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:m,sizeRanges:s,topItemCount:te,topItemsIndexes:y,totalCount:u,..._,groupIndices:a,itemSize:o,listState:v,scrollToIndex:ee,statefulTotalCount:l,trackItemSizes:d,...b,...C,...h,sizes:c,...g}),E(sn,_n,W,Jn,Vn,In,pn,$n,Xn,ln,er));function nr(e,t){let n={},r={},i=0,a=e.length;for(;i<a;)r[e[i]]=1,i+=1;for(let e in t)Object.hasOwn(r,e)||(n[e]=t[e]);return n}const rr=typeof document<`u`?S.default.useLayoutEffect:S.default.useEffect;function ir(e,t,n){let r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),s=S.default.createContext({});function c(e,n){e.propsReady&&O(e.propsReady,!1);for(let i of r){let r=e[t.required[i]];O(r,n[i])}for(let r of i)if(r in n){let i=e[t.optional[r]];O(i,n[r])}e.propsReady&&O(e.propsReady,!0)}function l(e){return a.reduce((n,r)=>(n[r]=n=>{let i=e[t.methods[r]];O(i,n)},n),{})}function u(e){return o.reduce((n,r)=>(n[r]=at(e[t.events[r]]),n),{})}let d=S.default.forwardRef((t,a)=>{let{children:d,...f}=t,[p]=S.default.useState(()=>Je(st(e),e=>{c(e,f)})),[m]=S.default.useState(Ue(u,p));rr(()=>{for(let e of o)e in f&&D(m[e],f[e]);return()=>{Object.values(m).map(Xe)}},[f,m,p]),rr(()=>{c(p,f)}),S.default.useImperativeHandle(a,Be(l(p)));let h=n;return(0,T.jsx)(s.Provider,{value:p,children:n?(0,T.jsx)(h,{...nr([...r,...i,...o],f),children:d}):d})}),f=e=>{let t=S.default.useContext(s);return S.default.useCallback(n=>{O(t[e],n)},[t,e])},p=e=>{let t=S.default.useContext(s)[e],n=S.default.useCallback(e=>D(t,e),[t]);return S.default.useSyncExternalStore(n,()=>k(t),()=>k(t))},m=e=>{let t=S.default.useContext(s)[e],[n,r]=S.default.useState(Ue(k,t));return rr(()=>D(t,e=>{e!==n&&r(Be(e))}),[t,n]),n},h=S.default.version.startsWith(`18`)?p:m;return{Component:d,useEmitter:(e,t)=>{let n=S.default.useContext(s)[e];rr(()=>D(n,t),[t,n])},useEmitterValue:h,usePublisher:f}}const ar=S.default.createContext(void 0),or=S.default.createContext(void 0),sr=typeof document<`u`?S.default.useLayoutEffect:S.default.useEffect;function cr(e){return`self`in e}function lr(e){return`body`in e}function ur(e,t,n,r=qe,i,a){let o=S.default.useRef(null),s=S.default.useRef(null),c=S.default.useRef(null),l=S.default.useCallback(n=>{let r,i,o,l=n.target;if(lr(l)||cr(l)){let e=cr(l)?l:l.defaultView;o=a?e.scrollX:e.scrollY,r=a?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,i=a?e.innerWidth:e.innerHeight}else o=a?l.scrollLeft:l.scrollTop,r=a?l.scrollWidth:l.scrollHeight,i=a?l.offsetWidth:l.offsetHeight;let u=()=>{e({scrollHeight:r,scrollTop:Math.max(o,0),viewportHeight:i})};n.suppressFlushSync?u():Fe.default.flushSync(u),s.current!==null&&(o===s.current||o<=0||o===r-i)&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,a]);S.default.useEffect(()=>{let e=i||o.current;return r(i||o.current),l({suppressFlushSync:!0,target:e}),e.addEventListener(`scroll`,l,{passive:!0}),()=>{r(null),e.removeEventListener(`scroll`,l)}},[o,l,n,r,i]);function u(n){let r=o.current;if(!r||(a?`offsetWidth`in r&&r.offsetWidth===0:`offsetHeight`in r&&r.offsetHeight===0))return;let i=n.behavior===`smooth`,l,u,d;cr(r)?(u=Math.max(Ht(r.document.documentElement,a?`width`:`height`),a?r.document.documentElement.scrollWidth:r.document.documentElement.scrollHeight),l=a?r.innerWidth:r.innerHeight,d=a?window.scrollX:window.scrollY):(u=r[a?`scrollWidth`:`scrollHeight`],l=Ht(r,a?`width`:`height`),d=r[a?`scrollLeft`:`scrollTop`]);let f=u-l;if(n.top=Math.ceil(Math.max(Math.min(f,n.top),0)),vn(l,u)||n.top===d){e({scrollHeight:u,scrollTop:d,viewportHeight:l}),i&&t(!0);return}i?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,s.current=null,t(!0)},1e3)):s.current=null,a&&(n={behavior:n.behavior,left:n.top}),r.scrollTo(n)}function d(e){a&&(e={behavior:e.behavior,left:e.top}),o.current.scrollBy(e)}return{scrollByCallback:d,scrollerRef:o,scrollToCallback:u}}const dr=`-webkit-sticky`,fr=`sticky`,pr=Zn(()=>{if(typeof document>`u`)return fr;let e=document.createElement(`div`);return e.style.position=dr,e.style.position===dr?dr:fr});function mr(e){return e}const hr=B(()=>{let e=I(e=>`Item ${e}`),t=I(null),n=I(e=>`Group ${e}`),r=I({}),i=I(mr),a=I(`div`),o=I(qe),s=(e,t=null)=>L(P(r,N(t=>t[e]),j()),t);return{components:r,computeItemKey:i,context:t,EmptyPlaceholder:s(`EmptyPlaceholder`),FooterComponent:s(`Footer`),GroupComponent:s(`Group`,`div`),groupContent:n,HeaderComponent:s(`Header`),HeaderFooterTag:a,ItemComponent:s(`Item`,`div`),itemContent:e,ListComponent:s(`List`,`div`),ScrollerComponent:s(`Scroller`,`div`),scrollerRef:o,ScrollSeekPlaceholder:s(`ScrollSeekPlaceholder`),TopItemListComponent:s(`TopItemList`)}}),gr=B(([e,t])=>({...e,...t}),E(tr,hr)),_r=({height:e})=>(0,T.jsx)(`div`,{style:{height:e}}),vr={overflowAnchor:`none`,position:pr(),zIndex:1},yr={overflowAnchor:`none`},br={...yr,display:`inline-block`,height:`100%`},xr=S.default.memo(function({showTopList:e=!1}){let t=Y(`listState`),n=X(`sizeRanges`),r=Y(`useWindowScroll`),i=Y(`customScrollParent`),a=X(`windowScrollContainerState`),o=X(`scrollContainerState`),s=i||r?a:o,c=Y(`itemContent`),l=Y(`context`),u=Y(`groupContent`),d=Y(`trackItemSizes`),f=Y(`itemSize`),p=Y(`log`),m=X(`gap`),h=Y(`horizontalDirection`),{callbackRef:g}=mt(n,f,d,e?qe:s,p,m,i,h,Y(`skipAnimationFrameInResizeObserver`)),[_,v]=S.default.useState(0);Ir(`deviation`,e=>{_!==e&&v(e)});let y=Y(`EmptyPlaceholder`),b=Y(`ScrollSeekPlaceholder`)||_r,ee=Y(`ListComponent`),x=Y(`ItemComponent`),te=Y(`GroupComponent`),C=Y(`computeItemKey`),w=Y(`isSeeking`),ne=Y(`groupIndices`).length>0,re=Y(`alignToBottom`),ie=Y(`initialItemFinalLocationReached`),ae=e?{}:{boxSizing:`border-box`,...h?{display:`inline-block`,height:`100%`,marginLeft:_===0?re?`auto`:0:_,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:`nowrap`}:{marginTop:_===0?re?`auto`:0:_,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...ie?{}:{visibility:`hidden`}};return!e&&t.totalCount===0&&y?(0,T.jsx)(y,{...J(y,l)}):(0,T.jsx)(ee,{...J(ee,l),"data-testid":e?`virtuoso-top-item-list`:`virtuoso-item-list`,ref:g,style:ae,children:(e?t.topItems:t.items).map(e=>{let n=e.originalIndex,r=C(n+t.firstItemIndex,e.data,l);return w?(0,S.createElement)(b,{...J(b,l),height:e.size,index:e.index,key:r,type:e.type||`item`,...e.type===`group`?{}:{groupIndex:e.groupIndex}}):e.type===`group`?(0,S.createElement)(te,{...J(te,l),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:r,style:vr},u(e.index,l)):(0,S.createElement)(x,{...J(x,l),...Er(x,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:r,style:h?br:yr},ne?c(e.index,e.groupIndex,e.data,l):c(e.index,e.data,l))})})}),Sr={height:`100%`,outline:`none`,overflowY:`auto`,position:`relative`,WebkitOverflowScrolling:`touch`},Cr={outline:`none`,overflowX:`auto`,position:`relative`},wr=e=>({height:`100%`,position:`absolute`,top:0,width:`100%`,...e?{display:`flex`,flexDirection:`column`}:{}}),Tr={position:pr(),top:0,width:`100%`,zIndex:1};function J(e,t){if(typeof e!=`string`)return{context:t}}function Er(e,t){return{item:typeof e==`string`?void 0:t}}const Dr=S.default.memo(function(){let e=Y(`HeaderComponent`),t=X(`headerHeight`),n=Y(`HeaderFooterTag`),r=ft(S.default.useMemo(()=>e=>{t(Ht(e,`height`))},[t]),!0,Y(`skipAnimationFrameInResizeObserver`)),i=Y(`context`);return e?(0,T.jsx)(n,{ref:r,children:(0,T.jsx)(e,{...J(e,i)})}):null}),Or=S.default.memo(function(){let e=Y(`FooterComponent`),t=X(`footerHeight`),n=Y(`HeaderFooterTag`),r=ft(S.default.useMemo(()=>e=>{t(Ht(e,`height`))},[t]),!0,Y(`skipAnimationFrameInResizeObserver`)),i=Y(`context`);return e?(0,T.jsx)(n,{ref:r,children:(0,T.jsx)(e,{...J(e,i)})}):null});function kr({useEmitter:e,useEmitterValue:t,usePublisher:n}){return S.default.memo(function({children:r,style:i,...a}){let o=n(`scrollContainerState`),s=t(`ScrollerComponent`),c=n(`smoothScrollTargetReached`),l=t(`scrollerRef`),u=t(`context`),d=t(`horizontalDirection`)||!1,{scrollByCallback:f,scrollerRef:p,scrollToCallback:m}=ur(o,c,s,l,void 0,d);return e(`scrollTo`,m),e(`scrollBy`,f),(0,T.jsx)(s,{"data-testid":`virtuoso-scroller`,"data-virtuoso-scroller":!0,ref:p,style:{...d?Cr:Sr,...i},tabIndex:0,...a,...J(s,u),children:r})})}function Ar({useEmitter:e,useEmitterValue:t,usePublisher:n}){return S.default.memo(function({children:r,style:i,...a}){let o=n(`windowScrollContainerState`),s=t(`ScrollerComponent`),c=n(`smoothScrollTargetReached`),l=t(`totalListHeight`),u=t(`deviation`),d=t(`customScrollParent`),f=t(`context`),p=S.default.useRef(null),m=t(`scrollerRef`),{scrollByCallback:h,scrollerRef:g,scrollToCallback:_}=ur(o,c,s,m,d);return sr(()=>{var e;return g.current=d||(e=p.current)?.ownerDocument.defaultView,()=>{g.current=null}},[g,d]),e(`windowScrollTo`,_),e(`scrollBy`,h),(0,T.jsx)(s,{ref:p,"data-virtuoso-scroller":!0,style:{position:`relative`,...i,...l===0?{}:{height:l+u}},...a,...J(s,f),children:r})})}const jr=({children:e})=>{let t=S.default.useContext(ar),n=X(`viewportHeight`),r=X(`fixedItemHeight`),i=Y(`alignToBottom`),a=Y(`horizontalDirection`),o=S.default.useMemo(()=>He(n,e=>Ht(e,a?`width`:`height`)),[n,a]),s=ft(o,!0,Y(`skipAnimationFrameInResizeObserver`));return S.default.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,T.jsx)(`div`,{"data-viewport-type":`element`,ref:s,style:wr(i),children:e})},Mr=({children:e})=>{let t=S.default.useContext(ar),n=X(`windowViewportRect`),r=X(`fixedItemHeight`),i=Y(`customScrollParent`),a=_t(n,i,Y(`skipAnimationFrameInResizeObserver`)),o=Y(`alignToBottom`);return S.default.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,T.jsx)(`div`,{"data-viewport-type":`window`,ref:a,style:wr(o),children:e})},Nr=({children:e})=>{let t=Y(`TopItemListComponent`)||`div`,n=Y(`headerHeight`),r={...Tr,marginTop:`${n}px`},i=Y(`context`);return(0,T.jsx)(t,{style:r,...J(t,i),children:e})},Pr=S.default.memo(function(e){let t=Y(`useWindowScroll`),n=Y(`topItemsIndexes`).length>0,r=Y(`customScrollParent`),i=Y(`context`),a=r||t?Rr:Lr,o=r||t?Mr:jr;return(0,T.jsxs)(a,{...e,...J(a,i),children:[n&&(0,T.jsx)(Nr,{children:(0,T.jsx)(xr,{showTopList:!0})}),(0,T.jsxs)(o,{children:[(0,T.jsx)(Dr,{}),(0,T.jsx)(xr,{}),(0,T.jsx)(Or,{})]})]})}),{Component:Fr,useEmitter:Ir,useEmitterValue:Y,usePublisher:X}=ir(gr,{required:{},optional:{restoreStateFrom:`restoreStateFrom`,context:`context`,followOutput:`followOutput`,itemContent:`itemContent`,groupContent:`groupContent`,overscan:`overscan`,increaseViewportBy:`increaseViewportBy`,totalCount:`totalCount`,groupCounts:`groupCounts`,topItemCount:`topItemCount`,firstItemIndex:`firstItemIndex`,initialTopMostItemIndex:`initialTopMostItemIndex`,components:`components`,atBottomThreshold:`atBottomThreshold`,atTopThreshold:`atTopThreshold`,computeItemKey:`computeItemKey`,defaultItemHeight:`defaultItemHeight`,fixedItemHeight:`fixedItemHeight`,itemSize:`itemSize`,scrollSeekConfiguration:`scrollSeekConfiguration`,headerFooterTag:`HeaderFooterTag`,data:`data`,initialItemCount:`initialItemCount`,initialScrollTop:`initialScrollTop`,alignToBottom:`alignToBottom`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`,horizontalDirection:`horizontalDirection`,skipAnimationFrameInResizeObserver:`skipAnimationFrameInResizeObserver`},methods:{scrollToIndex:`scrollToIndex`,scrollIntoView:`scrollIntoView`,scrollTo:`scrollTo`,scrollBy:`scrollBy`,autoscrollToBottom:`autoscrollToBottom`,getState:`getState`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,totalListHeightChanged:`totalListHeightChanged`,itemsRendered:`itemsRendered`,groupIndices:`groupIndices`}},Pr),Lr=kr({useEmitter:Ir,useEmitterValue:Y,usePublisher:X}),Rr=Ar({useEmitter:Ir,useEmitterValue:Y,usePublisher:X}),zr=Fr,Br=Fr,Vr=B(()=>{let e=I(e=>(0,T.jsxs)(`td`,{children:[`Item $`,e]})),t=I(null),n=I(null),r=I(null),i=I({}),a=I(mr),o=I(qe),s=(e,t=null)=>L(P(i,N(t=>t[e]),j()),t);return{components:i,computeItemKey:a,context:t,EmptyPlaceholder:s(`EmptyPlaceholder`),FillerRow:s(`FillerRow`),fixedFooterContent:r,fixedHeaderContent:n,itemContent:e,ScrollerComponent:s(`Scroller`,`div`),scrollerRef:o,ScrollSeekPlaceholder:s(`ScrollSeekPlaceholder`),TableBodyComponent:s(`TableBody`,`tbody`),TableComponent:s(`Table`,`table`),TableFooterComponent:s(`TableFoot`,`tfoot`),TableHeadComponent:s(`TableHead`,`thead`),TableRowComponent:s(`TableRow`,`tr`)}}),Hr=B(([e,t])=>({...e,...t}),E(tr,Vr)),Ur=({height:e})=>(0,T.jsx)(`tr`,{children:(0,T.jsx)(`td`,{style:{height:e}})}),Wr=({height:e})=>(0,T.jsx)(`tr`,{children:(0,T.jsx)(`td`,{style:{border:0,height:e,padding:0}})}),Gr={overflowAnchor:`none`},Kr=S.default.memo(function({showTopList:e=!1}){let t=Z(`listState`),n=Z(`computeItemKey`),r=Z(`firstItemIndex`),i=Z(`isSeeking`),a=Z(`ScrollSeekPlaceholder`)||Ur,o=Z(`context`),s=Z(`TableRowComponent`),c=Z(`fixedHeaderHeight`),l=Z(`itemContent`),u=(e?t.topItems:[]).reduce((e,t,n)=>(n===0?e.push(t.size):e.push(e[n-1]+t.size),e),[]),d=(e?t.topItems:t.items).map(t=>{let d=t.originalIndex,f=n(d+r,t.data,o),p=e?d===0?0:u[d-1]:0;return i?(0,S.createElement)(a,{...J(a,o),height:t.size,index:t.index,key:f,type:t.type||`item`}):(0,S.createElement)(s,{...J(s,o),...Er(s,t.data),"data-index":d,"data-item-index":t.index,"data-known-size":t.size,key:f,style:e?{overflowAnchor:`none`,position:`sticky`,top:c+p,zIndex:2}:Gr},l(t.index,t.data,o))});return(0,T.jsx)(T.Fragment,{children:d})}),qr=S.default.memo(function(){let e=Z(`listState`),t=Z(`topItemsIndexes`).length>0,n=$r(`sizeRanges`),r=Z(`useWindowScroll`),i=Z(`customScrollParent`),a=$r(`windowScrollContainerState`),o=$r(`scrollContainerState`),s=i||r?a:o,c=Z(`trackItemSizes`),l=Z(`itemSize`),u=Z(`log`),{callbackRef:d,ref:f}=mt(n,l,c,s,u,void 0,i,!1,Z(`skipAnimationFrameInResizeObserver`)),[p,m]=S.default.useState(0);Qr(`deviation`,e=>{p!==e&&(f.current.style.marginTop=`${e}px`,m(e))});let h=Z(`EmptyPlaceholder`),g=Z(`FillerRow`)||Wr,_=Z(`TableBodyComponent`),v=Z(`paddingTopAddition`),y=Z(`statefulTotalCount`),b=Z(`context`);if(y===0&&h)return(0,T.jsx)(h,{...J(h,b)});let ee=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),x=e.offsetTop+v+p-ee,te=e.offsetBottom,C=x>0?(0,T.jsx)(g,{context:b,height:x},`padding-top`):null,w=te>0?(0,T.jsx)(g,{context:b,height:te},`padding-bottom`):null;return(0,T.jsxs)(_,{"data-testid":`virtuoso-item-list`,ref:d,...J(_,b),children:[C,t&&(0,T.jsx)(Kr,{showTopList:!0}),(0,T.jsx)(Kr,{}),w]})}),Jr=({children:e})=>{let t=S.default.useContext(ar),n=$r(`viewportHeight`),r=$r(`fixedItemHeight`),i=ft(S.default.useMemo(()=>He(n,e=>Ht(e,`height`)),[n]),!0,Z(`skipAnimationFrameInResizeObserver`));return S.default.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,T.jsx)(`div`,{"data-viewport-type":`element`,ref:i,style:wr(!1),children:e})},Yr=({children:e})=>{let t=S.default.useContext(ar),n=$r(`windowViewportRect`),r=$r(`fixedItemHeight`),i=Z(`customScrollParent`),a=_t(n,i,Z(`skipAnimationFrameInResizeObserver`));return S.default.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,T.jsx)(`div`,{"data-viewport-type":`window`,ref:a,style:wr(!1),children:e})},Xr=S.default.memo(function(e){let t=Z(`useWindowScroll`),n=Z(`customScrollParent`),r=$r(`fixedHeaderHeight`),i=$r(`fixedFooterHeight`),a=Z(`fixedHeaderContent`),o=Z(`fixedFooterContent`),s=Z(`context`),c=ft(S.default.useMemo(()=>He(r,e=>Ht(e,`height`)),[r]),!0,Z(`skipAnimationFrameInResizeObserver`)),l=ft(S.default.useMemo(()=>He(i,e=>Ht(e,`height`)),[i]),!0,Z(`skipAnimationFrameInResizeObserver`)),u=n||t?ti:ei,d=n||t?Yr:Jr,f=Z(`TableComponent`),p=Z(`TableHeadComponent`),m=Z(`TableFooterComponent`),h=a?(0,T.jsx)(p,{ref:c,style:{position:`sticky`,top:0,zIndex:2},...J(p,s),children:a()},`TableHead`):null,g=o?(0,T.jsx)(m,{ref:l,style:{bottom:0,position:`sticky`,zIndex:1},...J(m,s),children:o()},`TableFoot`):null;return(0,T.jsx)(u,{...e,...J(u,s),children:(0,T.jsx)(d,{children:(0,T.jsxs)(f,{style:{borderSpacing:0,overflowAnchor:`none`},...J(f,s),children:[h,(0,T.jsx)(qr,{},`TableBody`),g]})})})}),{Component:Zr,useEmitter:Qr,useEmitterValue:Z,usePublisher:$r}=ir(Hr,{required:{},optional:{restoreStateFrom:`restoreStateFrom`,context:`context`,followOutput:`followOutput`,firstItemIndex:`firstItemIndex`,itemContent:`itemContent`,fixedHeaderContent:`fixedHeaderContent`,fixedFooterContent:`fixedFooterContent`,overscan:`overscan`,increaseViewportBy:`increaseViewportBy`,totalCount:`totalCount`,topItemCount:`topItemCount`,initialTopMostItemIndex:`initialTopMostItemIndex`,components:`components`,groupCounts:`groupCounts`,atBottomThreshold:`atBottomThreshold`,atTopThreshold:`atTopThreshold`,computeItemKey:`computeItemKey`,defaultItemHeight:`defaultItemHeight`,fixedItemHeight:`fixedItemHeight`,itemSize:`itemSize`,scrollSeekConfiguration:`scrollSeekConfiguration`,data:`data`,initialItemCount:`initialItemCount`,initialScrollTop:`initialScrollTop`,alignToBottom:`alignToBottom`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`},methods:{scrollToIndex:`scrollToIndex`,scrollIntoView:`scrollIntoView`,scrollTo:`scrollTo`,scrollBy:`scrollBy`,getState:`getState`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,totalListHeightChanged:`totalListHeightChanged`,itemsRendered:`itemsRendered`,groupIndices:`groupIndices`}},Xr),ei=kr({useEmitter:Qr,useEmitterValue:Z,usePublisher:$r}),ti=Ar({useEmitter:Qr,useEmitterValue:Z,usePublisher:$r}),ni=Zr,ri={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},ii={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:ai,floor:oi,max:si,min:ci,round:li}=Math;function ui(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>({data:n===null?null:n[r+e],index:r+e}))}function di(e){return{...ii,items:e}}function fi(e,t){return e&&e.width===t.width&&e.height===t.height}function pi(e,t){return e&&e.column===t.column&&e.row===t.row}const mi=B(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:i,headerHeight:a,scrollBy:o,scrollContainerState:s,scrollTo:c,scrollTop:l,smoothScrollTargetReached:u,viewportHeight:d},f,p,{didMount:m,propsReady:h},{customScrollParent:g,useWindowScroll:_,windowScrollContainerState:v,windowScrollTo:y,windowViewportRect:b},ee])=>{let x=I(0),te=I(0),S=I(ri),C=I({height:0,width:0}),w=I({height:0,width:0}),ne=R(),re=R(),T=I(0),ie=I(null),ae=I({column:0,row:0}),oe=R(),se=R(),ce=I(!1),le=I(0),ue=I(!0),de=I(!1),fe=I(!1);D(P(m,F(le),M(([e,t])=>!!t)),()=>{O(ue,!1)}),D(P(V(m,ue,w,C,le,de),M(([e,t,n,r,,i])=>e&&!t&&n.height!==0&&r.height!==0&&!i)),([,,,,e])=>{O(de,!0),hn(1,()=>{O(ne,e)}),Ze(P(l),()=>{O(t,[0,0]),O(ue,!0)})}),A(P(se,M(e=>e!=null&&e.scrollTop>0),et(0)),te),D(P(m,F(se),M(([,e])=>e!=null)),([,e])=>{e&&(O(C,e.viewport),O(w,e.item),O(ae,e.gap),e.scrollTop>0&&(O(ce,!0),Ze(P(l,nt(1)),e=>{O(ce,!1)}),O(c,{top:e.scrollTop})))}),A(P(C,N(({height:e})=>e)),d),A(P(V(H(C,fi),H(w,fi),H(ae,(e,t)=>e&&e.column===t.column&&e.row===t.row),H(l)),N(([e,t,n,r])=>({gap:n,item:t,scrollTop:r,viewport:e}))),oe),A(P(V(H(x),r,H(ae,pi),H(w,fi),H(C,fi),H(ie),H(te),H(ce),H(ue),H(le)),M(([,,,,,,,e])=>!e),N(([e,[t,n],r,i,a,o,s,,c,l])=>{let{column:u,row:d}=r,{height:f,width:p}=i,{width:m}=a;if(s===0&&(e===0||m===0))return ri;if(p===0){let t=gn(l,e),n=t+Math.max(s-1,0);return di(ui(t,n,o))}let h=hi(m,p,u),g,_;c?t===0&&n===0&&s>0?(g=0,_=s-1):(g=h*oi((t+d)/(f+d)),_=h*ai((n+d)/(f+d))-1,_=ci(e-1,si(_,h-1)),g=ci(_,si(0,g))):(g=0,_=-1);let v=ui(g,_,o),{bottom:y,top:b}=gi(a,r,i,v),ee=ai(e/h),x=ee*f+(ee-1)*d-y;return{bottom:y,itemHeight:f,items:v,itemWidth:p,offsetBottom:x,offsetTop:b,top:b}})),S),A(P(ie,M(e=>e!==null),N(e=>e.length)),x),A(P(V(C,w,S,ae),M(([e,t,{items:n}])=>n.length>0&&t.height!==0&&e.height!==0),N(([e,t,{items:n},r])=>{let{bottom:i,top:a}=gi(e,r,t,n);return[a,i]}),j(Lt)),t);let pe=I(!1);A(P(l,F(pe),N(([e,t])=>t||e!==0)),pe);let me=z(P(V(S,x),M(([{items:e}])=>e.length>0),F(pe),M(([[e,t],n])=>{let r=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&e.offsetBottom===0&&e.items.length===t)&&r}),N(([[,e]])=>e-1),j())),he=z(P(H(S),M(({items:e})=>e.length>0&&e[0].index===0),et(0),j())),ge=z(P(H(S),F(ce),M(([{items:e},t])=>e.length>0&&!t),N(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),j(It),rt(0)));A(ge,p.scrollSeekRangeChanged),A(P(ne,F(C,w,x,ae),N(([e,t,n,r,i])=>{let a=fn(e),{align:o,behavior:s,offset:c}=a,l=a.index;l===`LAST`&&(l=r-1),l=si(0,l,ci(r-1,l));let u=_i(t,i,n,l);return o===`end`?u=li(u-t.height+n.height):o===`center`&&(u=li(u-t.height/2+n.height/2)),c&&(u+=c),{behavior:s,top:u}})),c);let _e=L(P(S,N(e=>e.offsetBottom+e.bottom)),0);return A(P(b,N(e=>({height:e.visibleHeight,width:e.visibleWidth}))),C),{customScrollParent:g,data:ie,deviation:T,footerHeight:i,gap:ae,headerHeight:a,increaseViewportBy:e,initialItemCount:te,itemDimensions:w,overscan:n,restoreStateFrom:se,scrollBy:o,scrollContainerState:s,scrollHeight:re,scrollTo:c,scrollToIndex:ne,scrollTop:l,smoothScrollTargetReached:u,totalCount:x,useWindowScroll:_,viewportDimensions:C,windowScrollContainerState:v,windowScrollTo:y,windowViewportRect:b,...p,gridState:S,horizontalDirection:fe,initialTopMostItemIndex:le,totalListHeight:_e,...f,endReached:me,propsReady:h,rangeChanged:ge,startReached:he,stateChanged:oe,stateRestoreInProgress:ce,...ee}},E(An,W,wn,Kn,un,qn,dt));function hi(e,t,n){return si(1,oi((e+n)/(oi(t)+n)))}function gi(e,t,n,r){let{height:i}=n;if(i===void 0||r.length===0)return{bottom:0,top:0};let a=_i(e,t,n,r[0].index);return{bottom:_i(e,t,n,r[r.length-1].index)+i,top:a}}function _i(e,t,n,r){let i=hi(e.width,n.width,t.column),a=oi(r/i),o=a*n.height+si(0,a-1)*t.row;return o>0?o+t.row:o}const vi=B(()=>{let e=I(e=>`Item ${e}`),t=I({}),n=I(null),r=I(`virtuoso-grid-item`),i=I(`virtuoso-grid-list`),a=I(mr),o=I(`div`),s=I(qe),c=(e,n=null)=>L(P(t,N(t=>t[e]),j()),n),l=I(!1),u=I(!1);return A(H(u),l),{components:t,computeItemKey:a,context:n,FooterComponent:c(`Footer`),HeaderComponent:c(`Header`),headerFooterTag:o,itemClassName:r,ItemComponent:c(`Item`,`div`),itemContent:e,listClassName:i,ListComponent:c(`List`,`div`),readyStateChanged:l,reportReadyState:u,ScrollerComponent:c(`Scroller`,`div`),scrollerRef:s,ScrollSeekPlaceholder:c(`ScrollSeekPlaceholder`,`div`)}}),yi=B(([e,t])=>({...e,...t}),E(mi,vi)),bi=S.default.memo(function(){let e=Q(`gridState`),t=Q(`listClassName`),n=Q(`itemClassName`),r=Q(`itemContent`),i=Q(`computeItemKey`),a=Q(`isSeeking`),o=$(`scrollHeight`),s=Q(`ItemComponent`),c=Q(`ListComponent`),l=Q(`ScrollSeekPlaceholder`),u=Q(`context`),d=$(`itemDimensions`),f=$(`gap`),p=Q(`log`),m=Q(`stateRestoreInProgress`),h=$(`reportReadyState`),g=ft(S.default.useMemo(()=>e=>{let t=e.parentElement.parentElement.scrollHeight;o(t);let n=e.firstChild;if(n){let{height:e,width:t}=n.getBoundingClientRect();d({height:e,width:t})}f({column:Ai(`column-gap`,getComputedStyle(e).columnGap,p),row:Ai(`row-gap`,getComputedStyle(e).rowGap,p)})},[o,d,f,p]),!0,!1);return sr(()=>{e.itemHeight>0&&e.itemWidth>0&&h(!0)},[e]),m?null:(0,T.jsx)(c,{className:t,ref:g,...J(c,u),"data-testid":`virtuoso-item-list`,style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{let o=i(t.index,t.data,u);return a?(0,T.jsx)(l,{...J(l,u),height:e.itemHeight,index:t.index,width:e.itemWidth},o):(0,S.createElement)(s,{...J(s,u),className:n,"data-index":t.index,key:o},r(t.index,t.data,u))})})}),xi=S.default.memo(function(){let e=Q(`HeaderComponent`),t=$(`headerHeight`),n=Q(`headerFooterTag`),r=ft(S.default.useMemo(()=>e=>{t(Ht(e,`height`))},[t]),!0,!1),i=Q(`context`);return e?(0,T.jsx)(n,{ref:r,children:(0,T.jsx)(e,{...J(e,i)})}):null}),Si=S.default.memo(function(){let e=Q(`FooterComponent`),t=$(`footerHeight`),n=Q(`headerFooterTag`),r=ft(S.default.useMemo(()=>e=>{t(Ht(e,`height`))},[t]),!0,!1),i=Q(`context`);return e?(0,T.jsx)(n,{ref:r,children:(0,T.jsx)(e,{...J(e,i)})}):null}),Ci=({children:e})=>{let t=S.default.useContext(or),n=$(`itemDimensions`),r=$(`viewportDimensions`),i=ft(S.default.useMemo(()=>e=>{r(e.getBoundingClientRect())},[r]),!0,!1);return S.default.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),(0,T.jsx)(`div`,{ref:i,style:wr(!1),children:e})},wi=({children:e})=>{let t=S.default.useContext(or),n=$(`windowViewportRect`),r=$(`itemDimensions`),i=Q(`customScrollParent`),a=_t(n,i,!1);return S.default.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),(0,T.jsx)(`div`,{ref:a,style:wr(!1),children:e})},Ti=S.default.memo(function({...e}){let t=Q(`useWindowScroll`),n=Q(`customScrollParent`),r=n||t?ki:Oi,i=n||t?wi:Ci,a=Q(`context`);return(0,T.jsx)(r,{...e,...J(r,a),children:(0,T.jsxs)(i,{children:[(0,T.jsx)(xi,{}),(0,T.jsx)(bi,{}),(0,T.jsx)(Si,{})]})})}),{Component:Ei,useEmitter:Di,useEmitterValue:Q,usePublisher:$}=ir(yi,{optional:{context:`context`,totalCount:`totalCount`,overscan:`overscan`,itemContent:`itemContent`,components:`components`,computeItemKey:`computeItemKey`,data:`data`,initialItemCount:`initialItemCount`,scrollSeekConfiguration:`scrollSeekConfiguration`,headerFooterTag:`headerFooterTag`,listClassName:`listClassName`,itemClassName:`itemClassName`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`,restoreStateFrom:`restoreStateFrom`,initialTopMostItemIndex:`initialTopMostItemIndex`,increaseViewportBy:`increaseViewportBy`},methods:{scrollTo:`scrollTo`,scrollBy:`scrollBy`,scrollToIndex:`scrollToIndex`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,stateChanged:`stateChanged`,readyStateChanged:`readyStateChanged`}},Ti),Oi=kr({useEmitter:Di,useEmitterValue:Q,usePublisher:$}),ki=Ar({useEmitter:Di,useEmitterValue:Q,usePublisher:$});function Ai(e,t,n){return t!==`normal`&&!(t!=null&&t.endsWith(`px`))&&n(`${e} was not resolved to pixel value correctly`,t,U.WARN),t===`normal`?0:parseInt(t??`0`,10)}const ji=Ei;var Mi=n(o());const Ni=e=>{let t=(0,Mi.c)(7),n;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(n={getElement:Pi},t[0]=n):n=t[0];let r=te(n),i;t[1]!==e||t[2]!==r?.scrollY?(i=()=>{r?.scrollY&&e&&window.scrollTo(0,r?.scrollY)},t[1]=e,t[2]=r?.scrollY,t[3]=i):i=t[3];let a=r?.scrollY,o;t[4]!==e||t[5]!==a?(o=[e,a],t[4]=e,t[5]=a,t[6]=o):o=t[6],(0,S.useEffect)(i,o)};function Pi(){return window}var Fi=n(o());const Ii=e=>{let n=(0,Fi.c)(8),{itemType:r}=e,{reset:i}=Ce(),a;n[0]===r?a=n[1]:(a=(0,T.jsxs)(`h2`,{className:`text-3xl font-bold`,children:[`No `,r,` Found`]}),n[0]=r,n[1]=a);let o;n[2]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,T.jsx)(`p`,{className:`mb-2 font-semibold text-slate-600 dark:text-slate-400`,children:`Try other filtering options or another search query`}),n[2]=o):o=n[2];let s;n[3]===i?s=n[4]:(s=(0,T.jsx)(t,{onClick:i,style:`indigo`,className:`w-full max-lg:hidden`,children:`Clear Filtering`}),n[3]=i,n[4]=s);let c;return n[5]!==a||n[6]!==s?(c=(0,T.jsxs)(`div`,{className:`flex flex-col items-center justify-center gap-4 pt-4 pb-16 text-center sm:pb-6 lg:h-screen`,children:[a,o,s]}),n[5]=a,n[6]=s,n[7]=c):c=n[7],c};var Li=Ii;export{Li as FilterErrorMessage_default,Pe as ScrollToTopButton_default,Ae as Sidebar_default,ji as Yr,Ni as useScrollRestoration};