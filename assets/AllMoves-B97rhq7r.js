import{r as f,c as v,j as a,L as b,a as M,u as N}from"./index-Dy0eyPaw.js";import{u as y,d as F,e as k,S as h,j as S,F as C,c as L}from"./FilterErrorMessage-C3hJhVar.js";import{u as T,a as $}from"./usePokemonMove-BQ3OMD-r.js";import{t as j,a as A,M as E}from"./MoveInfoDisplay-Cxha3GPL.js";import{F as P}from"./Footer-D6YWUvTW.js";import"./CollapsingPanel-2oD-LWct.js";import"./MoveCategoryDisplay-BKrzGh0i.js";const z=s=>{const{getUrlParam:e}=y(),x=e("generation")??"",l=e("type")??"",n=e("q")??"",{data:t,isLoading:p}=F(x),{data:r,isLoading:m}=k(l),o=f.useMemo(()=>{if(s)return t!=null&&t.length&&(r!=null&&r.length)?t.filter(i=>new Set(r.map(c=>c.id)).has(i.id)):t!=null&&t.length?t:r!=null&&r.length?r:s},[s,t,r]);return{moveList:f.useMemo(()=>{if(o)return n.trim().length?o==null?void 0:o.filter(i=>i.name.includes(n.toLowerCase().trim())):o},[o,n]),isLoading:p||m,isFiltered:!!(x||l||n)}},w=f.memo(s=>{const e=v.c(20),{move:x}=s,{id:l,name:n}=x,{data:t}=T(l),p=`/pokedex/move/${l}`;let r;e[0]!==t?(r={initialMove:t},e[0]=t,e[1]=r):r=e[1];let m;e[2]!==t?(m=t?a.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${A})`,backgroundPosition:`${j[t.type.name].sprite.x}px ${j[t.type.name].sprite.y}px`}}):a.jsx("div",{className:"-m-7 inline-block h-34.25 w-33",children:a.jsx(b,{size:8})}),e[2]=t,e[3]=m):m=e[3];let o;e[4]!==n?(o=n.split("-").join(" "),e[4]=n,e[5]=o):o=e[5];let d;e[6]!==o?(d=a.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:o}),e[6]=o,e[7]=d):d=e[7];let i;e[8]!==t?(i=a.jsx(E,{move:t,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),e[8]=t,e[9]=i):i=e[9];let c;e[10]!==d||e[11]!==i?(c=a.jsxs("div",{className:"w-[calc(100%-76px)]",children:[d,i]}),e[10]=d,e[11]=i,e[12]=c):c=e[12];let g;e[13]!==m||e[14]!==c?(g=a.jsx("article",{className:"@container/card relative rounded-sm border border-slate-400/40 bg-slate-100 shadow-lg transition-colors hover:bg-slate-200/75 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700/75 dark:hover:shadow-none",children:a.jsxs("div",{className:"flex",children:[m,c]})}),e[13]=m,e[14]=c,e[15]=g):g=e[15];let u;return e[16]!==p||e[17]!==r||e[18]!==g?(u=a.jsx(M,{to:p,state:r,children:g}),e[16]=p,e[17]=r,e[18]=g,e[19]=u):u=e[19],u});w.displayName="MoveCard";const V=()=>{const s=v.c(17),{data:e,isLoading:x}=$(),{moveList:l,isLoading:n,isFiltered:t}=z(e),[p,r]=f.useState(!1);N(p);let m,o;s[0]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsxs(h,{children:[a.jsx(h.Search,{itemType:"move"}),a.jsx(h.GenerationFilter,{}),a.jsx(h.TypeFilter,{}),a.jsx(h.ClearFilter,{})]}),o=a.jsx(L,{}),s[0]=m,s[1]=o):(m=s[0],o=s[1]);let d;s[2]!==n||s[3]!==x||s[4]!==l?(d=!x&&!n&&(l!=null&&l.length)?a.jsx(S,{totalCount:l.length,itemContent:u=>a.jsx(w,{move:l[u]},l[u].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},components:{Footer:D},readyStateChanged:u=>r(u),className:"w-full",listClassName:"grid grid-cols-1 gap-2 @min-[600px]/grid:gap-4 @min-[600px]/grid:grid-cols-2 @min-[800px]/grid:grid-cols-3 @min-[1000px]/grid:grid-cols-4 @min-[1200px]/grid:grid-cols-5"}):null,s[2]=n,s[3]=x,s[4]=l,s[5]=d):d=s[5];let i;s[6]!==p||s[7]!==n||s[8]!==x?(i=(x||n||!p)&&a.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsx(b,{size:24,displaysText:!0})}),s[6]=p,s[7]=n,s[8]=x,s[9]=i):i=s[9];let c;s[10]!==t||s[11]!==(l==null?void 0:l.length)?(c=!(l!=null&&l.length)&&t&&a.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:a.jsx(C,{itemType:"moves"})}),s[10]=t,s[11]=l==null?void 0:l.length,s[12]=c):c=s[12];let g;return s[13]!==d||s[14]!==i||s[15]!==c?(g=a.jsxs("div",{className:"relative pt-18 sm:pt-24",children:[m,o,a.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)]",children:[d,i,c]})]}),s[13]=d,s[14]=i,s[15]=c,s[16]=g):g=s[16],g};function D(){return a.jsx(P,{className:"pb-4"})}export{V as default};
