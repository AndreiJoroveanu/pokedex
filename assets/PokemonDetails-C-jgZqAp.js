import{r as n,b as x,d as h,j as a,c as b,a as f,e as j,f as p}from"./index-DVw_3iVg.js";import{b as k,B as m,d as v,a as L,P as N}from"./PokemonTypesDisplayText-CaxMt1hk.js";function w({title:e,titleId:s,...l},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?n.createElement("title",{id:s},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const C=n.forwardRef(w);function y({title:e,titleId:s,...l},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?n.createElement("title",{id:s},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const D=n.forwardRef(y),P=()=>{const e=x();return()=>void e(-1)},z=()=>{const e=P(),{name:s}=h(),{starredPokemon:l,toggleStarredPokemon:r}=k();return a.jsxs(a.Fragment,{children:[a.jsxs(m,{onClick:e,style:"indigo",className:"fixed top-22 left-4 z-20 flex items-center gap-2 px-4 sm:top-28",children:[a.jsx(C,{className:"size-4"}),"Back"]}),a.jsxs(m,{onClick:()=>r(s),style:"gold",className:"fixed top-22 right-4 z-20 flex items-center gap-2 px-4 sm:top-28",children:[a.jsx(D,{className:"size-4"}),l.includes(s)?"Starred":"Star"]})]})},B=({pokemonSpecies:e,currentForm:s,setCurrentForm:l})=>a.jsx(a.Fragment,{children:e.map((r,o)=>a.jsx(m,{onClick:()=>l(o),disabled:s===o,style:s===o?"indigo":"normal",className:"z-10 capitalize enabled:px-4 disabled:px-[17.5px]",children:r.pokemon.name.split("-").join(" ")},r.pokemon.name))}),F=({src:e,alt:s})=>{const[l,r]=n.useState(!0);return a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e,alt:s,onLoad:()=>r(!1),className:"mx-auto aspect-square h-128 object-contain text-transparent dark:brightness-90"}),l&&a.jsx("div",{className:"absolute top-0 aspect-square max-h-[512px] w-full bg-slate-100 dark:bg-slate-800",children:a.jsx(b,{size:24,displaysText:!0})})]})},T=({abilities:e,className:s})=>a.jsx("p",{className:`capitalize ${s??""}`.trim(),children:e!=null&&e.length?a.jsxs(a.Fragment,{children:[e.length===1?"Ability: ":"Abilities: ",e.map(l=>l.ability.name.split("-").join(" ")).join(", ")]}):"Loading..."}),c=[{label:"HP",backgroundColorLight:"#d7f7b9",backgroundColorDark:"#4e6c30",colorLight:"#94d45c",colorDark:"#8ec45a"},{label:"Attack",backgroundColorLight:"#fcf0b1",backgroundColorDark:"#726530",colorLight:"#ddc460",colorDark:"#d6c15e"},{label:"Defense",backgroundColorLight:"#facbae",backgroundColorDark:"#72482f",colorLight:"#d88c5c",colorDark:"#d6885a"},{label:"Sp. Atk",backgroundColorLight:"#a8ecfc",backgroundColorDark:"#30687a",colorLight:"#5fc4dc",colorDark:"#5bbedc"},{label:"Sp. Def",backgroundColorLight:"#c7cff7",backgroundColorDark:"#3f4970",colorLight:"#7d8ccd",colorDark:"#798bcc"},{label:"Speed",backgroundColorLight:"#f6b2e3",backgroundColorDark:"#69325d",colorLight:"#cc60b5",colorDark:"#c55fb1"}],_=({pokemonStats:e})=>{const{actualTheme:s}=f(),l=o=>s==="dark"?c[o].backgroundColorDark:c[o].backgroundColorLight,r=o=>s==="dark"?c[o].colorDark:c[o].colorLight;return a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"mb-1 text-lg font-semibold",children:"Base Stats:"}),a.jsxs("div",{className:"mb-4 max-w-lg rounded-lg bg-slate-200 p-4 pb-2 shadow-lg transition-colors dark:bg-slate-700 dark:shadow-none",children:[a.jsx("div",{className:"grid grid-cols-[auto_auto_1fr] gap-2",children:c==null?void 0:c.map((o,t)=>{var i,d;return a.jsxs(n.Fragment,{children:[a.jsxs("h3",{className:"font-semibold capitalize",children:[o.label,":"]}),a.jsx("p",{className:"w-8 text-end",children:((i=e==null?void 0:e[t])==null?void 0:i.base_stat)??0}),a.jsx("div",{style:{backgroundColor:l(t)},className:"my-auto h-3/4 w-full rounded-sm transition-colors dark:bg-green-700",children:a.jsx("div",{style:{width:`calc(100% * ${((d=e==null?void 0:e[t])==null?void 0:d.base_stat)??0} / 255)`,backgroundColor:r(t)},className:"h-full rounded-sm"})})]},o.label)})}),a.jsx("h3",{className:"pt-2 font-semibold",children:`Base Stat Total: ${(e==null?void 0:e.map(o=>o.base_stat).reduce((o,t)=>o+t,0))??0}`})]})]})},A=({generation:e})=>a.jsx("p",{children:e?`This Pokémon originates from Generation ${e.split("-")[1].toUpperCase()}`:"Loading..."}),E=({textEntries:e})=>a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"my-2",children:"Dex entries:"}),e!=null&&e.length?a.jsx("ul",{className:"divide-y-2 divide-slate-400/40",children:e.filter(s=>s.language.name==="en").map(s=>{var l,r;return a.jsxs("li",{className:"py-2",children:[a.jsx("span",{className:"font-bold capitalize",children:`${(l=s.version)==null?void 0:l.name.split("-").join(" ")}: `}),s.flavor_text]},(r=s.version)==null?void 0:r.name)})}):a.jsx("p",{children:"Loading..."})]}),I=()=>{var d;const[e,s]=n.useState(0),{name:l}=h(),{data:r}=v(l),{initialPokemon:o}=j().state??[],[t,i]=n.useState(o);return n.useEffect(()=>{let u=!1;return(async()=>{try{if(e===0&&o){i(o);return}const g=await L.getPokemonByName((r==null?void 0:r.varieties[e].pokemon.name)??l);!u&&g&&i(g)}catch(g){g instanceof Error&&console.error(g.message),i(null)}})(),()=>void(u=!0)},[e,o,l,r==null?void 0:r.varieties]),a.jsxs(a.Fragment,{children:[a.jsx("title",{children:`Pokédex - ${p(l)}`}),a.jsx(z,{}),a.jsx("div",{className:"pt-0 md:pt-36 lg:pt-24",children:a.jsxs("div",{className:"mx-auto max-w-3xl bg-slate-100 p-4 transition-colors max-md:pt-44 max-sm:pt-36 md:my-4 md:rounded-lg md:border-2 md:border-slate-400/40 dark:bg-slate-800",children:[r&&r.varieties.length>1&&a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsx(B,{pokemonSpecies:r.varieties,currentForm:e,setCurrentForm:s})}),a.jsx(F,{src:(d=t==null?void 0:t.sprites.other.home.front_default)==null?void 0:d.toString(),alt:t==null?void 0:t.name},t==null?void 0:t.name),a.jsx("h1",{className:"text-2xl font-bold capitalize",children:l}),a.jsx(N,{types:t==null?void 0:t.types}),a.jsx(T,{abilities:t==null?void 0:t.abilities}),a.jsx(_,{pokemonStats:t==null?void 0:t.stats}),a.jsx(A,{generation:r==null?void 0:r.generation.name}),a.jsx(E,{textEntries:r==null?void 0:r.flavor_text_entries})]})})]})};export{I as default};
