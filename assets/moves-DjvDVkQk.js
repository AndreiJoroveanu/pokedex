import{b as e,c as t,d as n,e as r,f as i,g as a}from"./FilterErrorMessage-orL1_RLh.js";import{b as o,f as s,g as c,h as l,m as u}from"./Footer-DDEBA2Oz.js";import{C as d,G as f,H as p,N as m,O as h,b as g,k as _}from"./index-DqBGcRR4.js";import{b as v,c as y,d as b}from"./MoveInfoDisplay-CqKJQ_ze.js";import"./MoveCategoryDisplay-G6DYbNzK.js";import"./useStarredPokemon-DLQVKSZr.js";var x=h(_());const S=e=>{let t=(0,x.c)(11),[n]=a(`generation`),[r]=a(`type`),[i]=a(`q`),{data:o,isLoading:s}=c(n),{data:u,isLoading:d}=l(r),f;bb0:{if(!e){f=void 0;break bb0}if(o?.length&&u?.length){let e;if(t[0]!==o||t[1]!==u){let n;t[3]===u?n=t[4]:(n=e=>new Set(u.map(C)).has(e.id),t[3]=u,t[4]=n),e=o.filter(n),t[0]=o,t[1]=u,t[2]=e}else e=t[2];f=e;break bb0}if(o?.length){f=o;break bb0}if(u?.length){f=u;break bb0}f=e}let p=f,m,h;if(t[5]!==p||t[6]!==i){let e=i?.replace(/[^0-9a-z]/gi,``).trim();h=p&&e?.length?p.filter(t=>t.name.split(`-`).join(``).includes(e.toLowerCase())):p,t[5]=p,t[6]=i,t[7]=h}else h=t[7];m=h;let g=m,_=s||d,v;return t[8]!==g||t[9]!==_?(v={moveList:g,isLoadingFM:_},t[8]=g,t[9]=_,t[10]=v):v=t[10],v};function C(e){return e.id}var w=h(_()),T=h(m()),E=h(p());const D=(0,T.memo)(e=>{let t=(0,w.c)(17),{move:n}=e,{id:r,name:i}=n,{data:a}=u(r),o=String(r),s;t[0]===o?s=t[1]:(s={moveId:o},t[0]=o,t[1]=s);let c;t[2]===a?c=t[3]:(c=a?(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,style:{backgroundImage:`url(${y})`,backgroundPosition:`${b[a.type.name].sprite.x}px ${b[a.type.name].sprite.y}px`}}):(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,children:(0,E.jsx)(g,{size:20})}),t[2]=a,t[3]=c);let l;t[4]===i?l=t[5]:(l=i.split(`-`).join(` `),t[4]=i,t[5]=l);let f;t[6]===l?f=t[7]:(f=(0,E.jsx)(`h1`,{className:`my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize`,children:l}),t[6]=l,t[7]=f);let p;t[8]===a?p=t[9]:(p=(0,E.jsx)(v,{move:a,className:`-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100`}),t[8]=a,t[9]=p);let m;t[10]!==f||t[11]!==p?(m=(0,E.jsxs)(`div`,{className:`w-[calc(100%-76px)]`,children:[f,p]}),t[10]=f,t[11]=p,t[12]=m):m=t[12];let h;return t[13]!==s||t[14]!==c||t[15]!==m?(h=(0,E.jsxs)(d,{to:`/moves/$moveId`,params:s,className:`@container/card relative flex rounded-xl bg-base-100 shadow-md transition-[background-color_shadow] hover:bg-base-200 hover:shadow-lg dark:bg-base-900 dark:shadow-none dark:hover:bg-base-800 dark:hover:shadow-none`,children:[c,m]}),t[13]=s,t[14]=c,t[15]=m,t[16]=h):h=t[16],h});D.displayName=`MoveCard`;var O=D,k=h(_());const A=()=>{let r=(0,k.c)(17),{data:i,isLoading:a}=s(),{moveList:c,isLoadingFM:l}=S(i),[u,d]=(0,T.useState)(!1);t(u);let f;r[0]!==u||r[1]!==a||r[2]!==l||r[3]!==c?(f=!a&&!l&&c?.length?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(n,{totalCount:c.length,itemContent:e=>(0,E.jsx)(O,{move:c[e]},c[e].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:e=>d(e),className:`w-full`,listClassName:`grid grid-cols-1 gap-2 @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4 @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4 @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4 @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4 @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),u&&(0,E.jsx)(o,{})]}):null,r[0]=u,r[1]=a,r[2]=l,r[3]=c,r[4]=f):f=r[4];let p;r[5]!==u||r[6]!==a||r[7]!==l||r[8]!==c?.length?(p=a||l||!u&&c?.length?(0,E.jsx)(`div`,{className:`fixed top-0 z-10 flex h-screen w-full items-center justify-center bg-base-50 dark:bg-base-950`,children:(0,E.jsx)(g,{size:24,displaysText:!0})}):null,r[5]=u,r[6]=a,r[7]=l,r[8]=c?.length,r[9]=p):p=r[9];let m;r[10]!==l||r[11]!==c?.length?(m=!c?.length&&!l&&(0,E.jsx)(`div`,{className:`top-0 lg:fixed lg:h-screen`,children:(0,E.jsx)(e,{itemType:`moves`})}),r[10]=l,r[11]=c?.length,r[12]=m):m=r[12];let h;return r[13]!==f||r[14]!==p||r[15]!==m?(h=(0,E.jsxs)(`section`,{className:`@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pt-20 lg:pl-0`,children:[f,p,m]}),r[13]=f,r[14]=p,r[15]=m,r[16]=h):h=r[16],h};var j=A,M=h(_());const N=()=>{let e=(0,M.c)(4),t=f(),n,a;e[0]===t?(n=e[1],a=e[2]):(n=()=>{t.loadRouteChunk(t.routesByPath[`/moves/$moveId`])},a=[t],e[0]=t,e[1]=n,e[2]=a),(0,T.useEffect)(n,a);let o;return e[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(i,{children:[(0,E.jsx)(i.Search,{itemType:`move`}),(0,E.jsx)(i.GenerationFilter,{}),(0,E.jsx)(i.TypeFilter,{}),(0,E.jsx)(i.ClearFilter,{})]}),(0,E.jsx)(r,{}),(0,E.jsx)(j,{})]}),e[3]=o):o=e[3],o};export{N as component};
//# sourceMappingURL=moves-DjvDVkQk.js.map