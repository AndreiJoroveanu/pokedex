import{r,b as f,d as h,j as e,c as b,a as j,e as p,f as v}from"./index-BRizRuJ5.js";import{b as k,B as u,C as w,d as L,a as N,P as y}from"./PokemonTypesDisplayText-BnADILsT.js";function C({title:a,titleId:l,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const D=r.forwardRef(C);function P({title:a,titleId:l,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const F=r.forwardRef(P);function E({title:a,titleId:l,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const B=r.forwardRef(E);function z({title:a,titleId:l,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,r.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const R=r.forwardRef(z);function $({title:a,titleId:l,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,r.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const A=r.forwardRef($),_=()=>{const a=f();return()=>void a(-1)},M=()=>{const a=_(),{name:l}=h(),{starredPokemon:s,toggleStarredPokemon:o}=k();return e.jsxs(e.Fragment,{children:[e.jsxs(u,{onClick:a,style:"indigo",className:"fixed top-22 left-2 z-20 flex items-center gap-2 px-4 sm:top-28 sm:left-4",children:[e.jsx(D,{className:"size-4"})," Back"]}),e.jsx(u,{onClick:()=>o(l),style:"gold",className:"fixed top-22 right-2 z-20 flex items-center gap-2 px-4 sm:top-28 sm:right-4",children:s.includes(l)?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"size-4"})," Starred"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"size-4"})," Star"]})})]})},T=({pokemonSpecies:a,currentForm:l,setCurrentForm:s})=>e.jsx(e.Fragment,{children:a.map((o,n)=>e.jsx(u,{onClick:()=>s(n),disabled:l===n,style:l===n?"indigo":"normal",className:"z-10 px-4 text-nowrap capitalize disabled:cursor-default",children:o.pokemon.name.split("-").join(" ")},o.pokemon.name))}),Z=({src:a,alt:l})=>{const[s,o]=r.useState(!0);return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a??void 0,alt:l,onLoad:()=>o(!1),className:"mx-auto aspect-square max-h-128 w-full object-contain text-transparent dark:brightness-90"}),a===null&&e.jsxs("div",{className:"absolute top-0 flex aspect-square max-h-128 w-full flex-col items-center justify-center gap-4",children:[e.jsx("h2",{className:"text-center text-2xl font-bold sm:text-3xl",children:"This Pokémon Form does not have an image"}),e.jsx("p",{className:"text-center font-semibold text-slate-500 sm:text-lg dark:text-slate-400",children:"Please try another Form by using one of the buttons above."})]}),(s||a===void 0)&&a!==null&&e.jsx("div",{className:"absolute top-0 aspect-square max-h-128 w-full bg-slate-100 dark:bg-slate-800",children:e.jsx(b,{size:24,displaysText:!0})})]})},O=({displayShiny:a,setDisplayShiny:l})=>e.jsxs(u,{onClick:()=>l(s=>!s),style:a?"gold":"normal",className:"flex items-center gap-2 px-4",children:[a?e.jsx(R,{className:"size-4"}):e.jsx(F,{className:"size-4"}),"Shiny Art"]}),I=({abilities:a,className:l})=>e.jsx("p",{className:`capitalize ${l??""}`.trim(),children:a!=null&&a.length?e.jsxs(e.Fragment,{children:[a.length===1?"Ability: ":"Abilities: ",a.map(s=>s.ability.name.split("-").join(" ")).join(", ")]}):"Loading..."}),d=[{label:"HP",backgroundColorLight:"#d7f7b9",backgroundColorDark:"#4e6c30",colorLight:"#94d45c",colorDark:"#8ec45a"},{label:"Attack",backgroundColorLight:"#fcf0b1",backgroundColorDark:"#726530",colorLight:"#ddc460",colorDark:"#d6c15e"},{label:"Defense",backgroundColorLight:"#facbae",backgroundColorDark:"#72482f",colorLight:"#d88c5c",colorDark:"#d6885a"},{label:"Sp. Atk",backgroundColorLight:"#a8ecfc",backgroundColorDark:"#30687a",colorLight:"#5fc4dc",colorDark:"#5bbedc"},{label:"Sp. Def",backgroundColorLight:"#c7cff7",backgroundColorDark:"#3f4970",colorLight:"#7d8ccd",colorDark:"#798bcc"},{label:"Speed",backgroundColorLight:"#f6b2e3",backgroundColorDark:"#69325d",colorLight:"#cc60b5",colorDark:"#c55fb1"}],S=({pokemonStats:a})=>{const{actualTheme:l}=j(),s=n=>l==="dark"?d[n].backgroundColorDark:d[n].backgroundColorLight,o=n=>l==="dark"?d[n].colorDark:d[n].colorLight;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-1 text-lg font-semibold",children:"Base Stats:"}),e.jsxs("div",{className:"mb-4 max-w-lg rounded-lg bg-slate-200 p-4 pb-2 shadow-lg transition-colors dark:bg-slate-700 dark:shadow-none",children:[e.jsx("div",{className:"grid grid-cols-[auto_auto_1fr] gap-2",children:d==null?void 0:d.map((n,c)=>{var i,t;return e.jsxs(r.Fragment,{children:[e.jsxs("h3",{className:"font-semibold capitalize",children:[n.label,":"]}),e.jsx("p",{className:"w-8 text-end",children:((i=a==null?void 0:a[c])==null?void 0:i.base_stat)??0}),e.jsx("div",{style:{backgroundColor:s(c)},className:"my-auto h-3/4 w-full rounded-sm transition-colors dark:bg-green-700",children:e.jsx("div",{style:{width:`${(((t=a==null?void 0:a[c])==null?void 0:t.base_stat)??0)/255*100}%`,backgroundColor:o(c)},className:"h-full rounded-sm"})})]},n.label)})}),e.jsx("h3",{className:"pt-2 font-semibold",children:`Base Stat Total: ${(a==null?void 0:a.map(n=>n.base_stat).reduce((n,c)=>n+c,0))??0}`})]})]})},q=({generation:a})=>e.jsx("p",{children:a?`This Pokémon originates from Generation ${a.split("-")[1].toUpperCase()}`:"Loading..."}),W=({textEntries:a})=>e.jsx(w,{label:"Dex Entries",className:"px-2",children:a!=null&&a.length?e.jsx("ul",{className:"divide-y-2 divide-slate-400/40",children:a.filter(l=>l.language.name==="en").map(l=>{var s,o;return e.jsxs("li",{className:"p-2",children:[e.jsx("span",{className:"font-bold capitalize",children:`${(s=l.version)==null?void 0:s.name.split("-").join(" ")}: `}),l.flavor_text]},(o=l.version)==null?void 0:o.name)})}):e.jsx("p",{children:"Loading..."})}),H=()=>{const[a,l]=r.useState(0),[s,o]=r.useState(!1),{name:n}=h(),{data:c}=L(n),{initialPokemon:i}=p().state??[],[t,g]=r.useState(i);return r.useEffect(()=>{let x=!1;return(async()=>{if(a===0&&i){g(i);return}try{g(void 0);const m=a===0?n:c==null?void 0:c.varieties[a].pokemon.name;!x&&m&&g(await N.getPokemonByName(m))}catch(m){m instanceof Error&&console.error(m.message),g(void 0)}})(),()=>void(x=!0)},[a,i,n,c==null?void 0:c.varieties]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Pokédex - ${v(n)}`}),e.jsx(M,{}),e.jsx("div",{className:"pt-0 md:pt-36 lg:pt-24",children:e.jsxs("div",{className:"mx-auto max-w-3xl bg-slate-100 p-4 transition-colors max-md:pt-42 max-sm:pt-36 md:my-4 md:rounded-lg md:border-2 md:border-slate-400/40 dark:bg-slate-800",children:[c&&c.varieties.length>1&&e.jsx("div",{className:"-mx-4 flex flex-nowrap gap-2 overflow-x-scroll px-2 pb-4 sm:px-4",children:e.jsx(T,{pokemonSpecies:c.varieties,currentForm:a,setCurrentForm:l})}),e.jsx(Z,{src:(t==null?void 0:t.sprites.other.home[s?"front_shiny":"front_default"])??(t==null?void 0:t.sprites.other["official-artwork"][s?"front_shiny":"front_default"]),alt:t==null?void 0:t.name},`${a}${s?"-shiny":""}`),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold capitalize",children:a?(t==null?void 0:t.name.split("-").join(" "))??n:n}),e.jsx(O,{displayShiny:s,setDisplayShiny:o})]}),e.jsx(y,{types:t==null?void 0:t.types}),e.jsx(I,{abilities:t==null?void 0:t.abilities}),e.jsx(S,{pokemonStats:t==null?void 0:t.stats}),e.jsx(q,{generation:c==null?void 0:c.generation.name}),e.jsx(W,{textEntries:c==null?void 0:c.flavor_text_entries})]})})]})};export{H as default};
