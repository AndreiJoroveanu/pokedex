import{c as I,r as y,j as a,L as T,a as A,u as L}from"./index-2EXv5Vtq.js";import{u as $,S as v,Y as E,F as z,a as D}from"./FilterErrorMessage-C1i7Nt3E.js";import{u as R,a as q,b as G,c as Y,F as M}from"./Footer-s4mxqx2q.js";import{u as N,a as O}from"./useStarredPokemon-C5d9kKkG.js";import{P as V}from"./PokemonTypesDisplay-CQA1S4bE.js";const W=t=>{const e=I.c(21),[f]=N("generation"),[s]=N("type"),[i]=N("onlyStarred"),[u]=N("q"),{data:r,isLoading:w}=R(f),{data:l,isLoading:d}=q(s),{starredPokemonIds:P}=O();let m;e:{if(!t){m=void 0;break e}if(r!=null&&r.length&&(l!=null&&l.length)){let x;if(e[0]!==r||e[1]!==l){let j;e[3]!==l?(j=C=>new Set(l.map(H)).has(C.id),e[3]=l,e[4]=j):j=e[4],x=r.filter(j),e[0]=r,e[1]=l,e[2]=x}else x=e[2];m=x;break e}if(r!=null&&r.length){m=r;break e}if(l!=null&&l.length){let x;if(e[5]!==t||e[6]!==l){let j;e[8]!==l?(j=C=>new Set(l.map(J)).has(C.id),e[8]=l,e[9]=j):j=e[9],x=t.filter(j),e[5]=t,e[6]=l,e[7]=x}else x=e[7];m=x;break e}m=t}const c=m;let g,o;e[10]!==c||e[11]!==i||e[12]!==P?(o=c&&i?c.filter(x=>P.includes(x.id)):c,e[10]=c,e[11]=i,e[12]=P,e[13]=o):o=e[13],g=o;const n=g;let h,p;if(e[14]!==u||e[15]!==n){const x=u==null?void 0:u.replace(/[^0-9a-z]/gi,"").trim();p=n&&(x!=null&&x.length)?n.filter(j=>j.name.replace("-","").includes(x.toLowerCase())):n,e[14]=u,e[15]=n,e[16]=p}else p=e[16];h=p;const b=h,k=w||d,S=!!(f??s??i??u);let F;return e[17]!==b||e[18]!==k||e[19]!==S?(F={pokemonList:b,isLoading:k,isFiltered:S},e[17]=b,e[18]=k,e[19]=S,e[20]=F):F=e[20],F};function H(t){return t.id}function J(t){return t.id}const _=y.memo(t=>{const e=I.c(24),{pokemon:f}=t,{id:s,name:i}=f,{data:u}=G(s),[r,w]=y.useState(!0),l=String(s);let d;e[0]!==l?(d={pokemonId:l},e[0]=l,e[1]=d):d=e[1];const P=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${s}.png`;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>w(!1),e[2]=m):m=e[2];let c;e[3]!==i||e[4]!==P?(c=a.jsx("img",{src:P,alt:i,decoding:"async",onLoad:m,className:"aspect-square w-full object-contain text-transparent"}),e[3]=i,e[4]=P,e[5]=c):c=e[5];let g;e[6]!==r?(g=r?a.jsx("div",{className:"absolute top-0 aspect-square w-full rounded-xl bg-slate-200 transition-[background-color] group-hover:bg-slate-300 dark:bg-slate-800 dark:group-hover:bg-slate-700",children:a.jsx(T,{size:8})}):null,e[6]=r,e[7]=g):g=e[7];let o;e[8]!==i?(o=i.replace("-"," "),e[8]=i,e[9]=o):o=e[9];let n;e[10]!==o?(n=a.jsx("h1",{className:"mb-1 text-xl font-bold text-nowrap capitalize max-md:px-1",children:o}),e[10]=o,e[11]=n):n=e[11];const h=u==null?void 0:u.types;let p;e[12]!==h?(p=a.jsx(V,{types:h,className:"-mx-6 scale-75 gap-1 @min-[180px]/card:-mx-7 @min-[200px]/card:-mx-3 @min-[200px]/card:scale-90 @min-[200px]/card:gap-2 @min-[235px]/card:mx-0 @min-[235px]/card:scale-100"}),e[12]=h,e[13]=p):p=e[13];let b;e[14]!==p||e[15]!==n?(b=a.jsxs("div",{className:"p-2 md:p-4",children:[n,p]}),e[14]=p,e[15]=n,e[16]=b):b=e[16];let k;e[17]!==b||e[18]!==c||e[19]!==g?(k=a.jsxs("article",{className:"group @container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:[c,g,b]}),e[17]=b,e[18]=c,e[19]=g,e[20]=k):k=e[20];let S;return e[21]!==k||e[22]!==d?(S=a.jsx(A,{to:"/pokemon/$pokemonId",params:d,children:k}),e[21]=k,e[22]=d,e[23]=S):S=e[23],S});_.displayName="PokemonCard";const ee=()=>{const t=I.c(22),{data:e,isLoading:f}=Y(),{pokemonList:s,isLoading:i,isFiltered:u}=W(e),r=L(K);let w,l;t[0]!==r?(w=()=>r(),l=[r],t[0]=r,t[1]=w,t[2]=l):(w=t[1],l=t[2]),y.useEffect(w,l);const[d,P]=y.useState(!1);$(d);let m,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsxs(v,{children:[a.jsx(v.Search,{itemType:"Pokémon"}),a.jsx(v.GenerationFilter,{}),a.jsx(v.TypeFilter,{}),a.jsx(v.OnlyStarredToggle,{}),a.jsx(v.ClearFilter,{})]}),c=a.jsx(D,{}),t[3]=m,t[4]=c):(m=t[3],c=t[4]);let g;t[5]!==d||t[6]!==f||t[7]!==i||t[8]!==s?(g=!f&&!i&&(s!=null&&s.length)?a.jsxs(a.Fragment,{children:[a.jsx(E,{totalCount:s.length,itemContent:p=>a.jsx(_,{pokemon:s[p]},s[p].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:p=>P(p),className:"w-full",listClassName:`grid grid-cols-2 gap-2 @min-[475px]/grid:gap-4\r
                @min-[580px]/grid:grid-cols-3 @min-[580px]/grid:gap-2 @min-[680px]/grid:gap-4\r
                @min-[800px]/grid:grid-cols-4 @min-[800px]/grid:gap-2 @min-[900px]/grid:gap-4\r
                @min-[1000px]/grid:grid-cols-5 @min-[1000px]/grid:gap-2 @min-[1080px]/grid:gap-4\r
                @min-[1250px]/grid:grid-cols-6 @min-[1250px]/grid:gap-2 @min-[1300px]/grid:gap-4\r
                @min-[1400px]/grid:grid-cols-7 @min-[1400px]/grid:gap-2 @min-[1500px]/grid:gap-4`}),d&&a.jsx(M,{})]}):null,t[5]=d,t[6]=f,t[7]=i,t[8]=s,t[9]=g):g=t[9];let o;t[10]!==d||t[11]!==f||t[12]!==i||t[13]!==(s==null?void 0:s.length)?(o=f||i||!d&&(s!=null&&s.length)?a.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:a.jsx(T,{size:24,displaysText:!0})}):null,t[10]=d,t[11]=f,t[12]=i,t[13]=s==null?void 0:s.length,t[14]=o):o=t[14];let n;t[15]!==u||t[16]!==(s==null?void 0:s.length)?(n=!(s!=null&&s.length)&&u&&a.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:a.jsx(z,{itemType:"Pokémon"})}),t[15]=u,t[16]=s==null?void 0:s.length,t[17]=n):n=t[17];let h;return t[18]!==g||t[19]!==o||t[20]!==n?(h=a.jsxs("div",{className:"relative sm:pt-24",children:[m,c,a.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[g,o,n]})]}),t[18]=g,t[19]=o,t[20]=n,t[21]=h):h=t[21],h};function K(t){return t.resetPokemonDetailsPanels}export{ee as component};
