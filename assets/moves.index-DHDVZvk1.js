import{c as w,j as l,L as M,a as S,r as y}from"./index-DXmJaVjq.js";import{u as C,Y as $,F as I,S as j,a as T}from"./FilterErrorMessage-DQBk8HwN.js";import{d as A,e as z,f as E,g as _,F as D}from"./Footer-DLEFcNJ5.js";import{u as k}from"./useStarredPokemon-CUTkozoa.js";import{t as F,a as G,M as R}from"./MoveInfoDisplay-Baim-wSf.js";import"./MoveCategoryDisplay-C8wPYPKw.js";const L=s=>{const e=w.c(12),[p]=k("generation"),[t]=k("type"),[o]=k("q"),{data:a,isLoading:m}=A(p),{data:i,isLoading:d}=z(t);let n;e:{if(!s){n=void 0;break e}if(a!=null&&a.length&&(i!=null&&i.length)){let h;if(e[0]!==a||e[1]!==i){let u;e[3]!==i?(u=N=>new Set(i.map(P)).has(N.id),e[3]=i,e[4]=u):u=e[4],h=a.filter(u),e[0]=a,e[1]=i,e[2]=h}else h=e[2];n=h;break e}if(a!=null&&a.length){n=a;break e}if(i!=null&&i.length){n=i;break e}n=s}const r=n;let g,c;if(e[5]!==r||e[6]!==o){const h=o==null?void 0:o.replace(/[^0-9a-z]/gi,"").trim();c=r&&(h!=null&&h.length)?r.filter(u=>u.name.split("-").join("").includes(h.toLowerCase())):r,e[5]=r,e[6]=o,e[7]=c}else c=e[7];g=c;const x=g,f=m||d,b=!!(p??t??o);let v;return e[8]!==x||e[9]!==f||e[10]!==b?(v={moveList:x,isLoading:f,isFiltered:b},e[8]=x,e[9]=f,e[10]=b,e[11]=v):v=e[11],v};function P(s){return s.id}const Y=s=>{const e=w.c(19),{move:p}=s,{id:t,name:o}=p,{data:a}=E(t),m=String(t);let i;e[0]!==m?(i={moveId:m},e[0]=m,e[1]=i):i=e[1];let d;e[2]!==a?(d=a?l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${G})`,backgroundPosition:`${F[a.type.name].sprite.x}px ${F[a.type.name].sprite.y}px`}}):l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",children:l.jsx(M,{size:20})}),e[2]=a,e[3]=d):d=e[3];let n;e[4]!==o?(n=o.split("-").join(" "),e[4]=o,e[5]=n):n=e[5];let r;e[6]!==n?(r=l.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:n}),e[6]=n,e[7]=r):r=e[7];let g;e[8]!==a?(g=l.jsx(R,{move:a,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),e[8]=a,e[9]=g):g=e[9];let c;e[10]!==r||e[11]!==g?(c=l.jsxs("div",{className:"w-[calc(100%-76px)]",children:[r,g]}),e[10]=r,e[11]=g,e[12]=c):c=e[12];let x;e[13]!==d||e[14]!==c?(x=l.jsx("article",{className:"@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:l.jsxs("div",{className:"flex",children:[d,c]})}),e[13]=d,e[14]=c,e[15]=x):x=e[15];let f;return e[16]!==i||e[17]!==x?(f=l.jsx(S,{to:"/moves/$moveId",params:i,children:x}),e[16]=i,e[17]=x,e[18]=f):f=e[18],f},V=()=>{const s=w.c(17),{data:e,isLoading:p}=_(),{moveList:t,isLoading:o,isFiltered:a}=L(e),[m,i]=y.useState(!1);C(m);let d;s[0]!==m||s[1]!==o||s[2]!==p||s[3]!==t?(d=!p&&!o&&(t!=null&&t.length)?l.jsxs(l.Fragment,{children:[l.jsx($,{totalCount:t.length,itemContent:c=>l.jsx(Y,{move:t[c]},t[c].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:c=>i(c),className:"w-full",listClassName:`grid grid-cols-1 gap-2
              @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4
              @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4
              @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),m&&l.jsx(D,{})]}):null,s[0]=m,s[1]=o,s[2]=p,s[3]=t,s[4]=d):d=s[4];let n;s[5]!==m||s[6]!==o||s[7]!==p||s[8]!==(t==null?void 0:t.length)?(n=p||o||!m&&(t!=null&&t.length)?l.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:l.jsx(M,{size:24,displaysText:!0})}):null,s[5]=m,s[6]=o,s[7]=p,s[8]=t==null?void 0:t.length,s[9]=n):n=s[9];let r;s[10]!==a||s[11]!==(t==null?void 0:t.length)?(r=!(t!=null&&t.length)&&a&&l.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:l.jsx(I,{itemType:"moves"})}),s[10]=a,s[11]=t==null?void 0:t.length,s[12]=r):r=s[12];let g;return s[13]!==d||s[14]!==n||s[15]!==r?(g=l.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[d,n,r]}),s[13]=d,s[14]=n,s[15]=r,s[16]=g):g=s[16],g},U=()=>{const s=w.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs("div",{className:"relative sm:pt-24",children:[l.jsxs(j,{children:[l.jsx(j.Search,{itemType:"move"}),l.jsx(j.GenerationFilter,{}),l.jsx(j.TypeFilter,{}),l.jsx(j.ClearFilter,{})]}),l.jsx(T,{}),l.jsx(V,{})]}),s[0]=e):e=s[0],e};export{U as component};
