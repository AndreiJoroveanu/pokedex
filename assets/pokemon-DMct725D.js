import{FilterErrorMessage_default as e,ScrollToTopButton_default as t,Sidebar_default as n,Xr as r,useAllItemsParam as i,useScrollRestoration as a}from"./FilterErrorMessage-aHPPQqpx.js";import{Footer_default as o,useAllPokemonByGen as s,useAllPokemonByType as c,useAllPokemonSpecies as l,usePokemon as u}from"./Footer-CTsBMPTj.js";import{Link as d,Loader_default as f,__toESM as p,require_compiler_runtime as m,require_jsx_runtime as h,require_react as g,useRouter as _}from"./index-BoPWUzuI.js";import{useStarredPokemon as v}from"./useStarredPokemon-iXX6mNJ8.js";import{PokemonTypesDisplay_default as y}from"./PokemonTypesDisplay-DVnhrMWx.js";var b=p(m()),x=p(g());const S=e=>{let t=(0,b.c)(21),[n]=i(`generation`),[r]=i(`type`),[a]=i(`onlyStarred`),[o]=i(`q`),{data:l,isLoading:u}=s(n),{data:d,isLoading:f}=c(r),{starredPokemonIds:p}=v(),m;bb0:{if(!e){m=void 0;break bb0}if(l?.length&&d?.length){let e;if(t[0]!==l||t[1]!==d){let n;t[3]===d?n=t[4]:(n=e=>new Set(d.map(C)).has(e.id),t[3]=d,t[4]=n),e=l.filter(n),t[0]=l,t[1]=d,t[2]=e}else e=t[2];m=e;break bb0}if(l?.length){m=l;break bb0}if(d?.length){let n;if(t[5]!==e||t[6]!==d){let r;t[8]===d?r=t[9]:(r=e=>new Set(d.map(w)).has(e.id),t[8]=d,t[9]=r),n=e.filter(r),t[5]=e,t[6]=d,t[7]=n}else n=t[7];m=n;break bb0}m=e}let h=m,g,_;t[10]!==h||t[11]!==a||t[12]!==p?(_=a&&h?h.filter(e=>p.includes(e.id)):h,t[10]=h,t[11]=a,t[12]=p,t[13]=_):_=t[13],g=_;let y=g,x,S;if(t[14]!==o||t[15]!==y){let e=o?.replace(/[^0-9a-z]/gi,``).trim();S=y&&e?.length?y.filter(t=>t.name.replace(`-`,``).includes(e.toLowerCase())):y,t[14]=o,t[15]=y,t[16]=S}else S=t[16];x=S;let T=x,E=u||f,D=!!(n??r??a??o),O;return t[17]!==T||t[18]!==E||t[19]!==D?(O={pokemonList:T,isLoading:E,isFiltered:D},t[17]=T,t[18]=E,t[19]=D,t[20]=O):O=t[20],O};function C(e){return e.id}function w(e){return e.id}var T=p(m()),E=p(h());const D=e=>{let t=(0,T.c)(24),{pokemon:n}=e,{id:r,name:i}=n,{data:a}=u(r),[o,s]=(0,x.useState)(!0),c=String(r),l;t[0]===c?l=t[1]:(l={pokemonId:c},t[0]=c,t[1]=l);let p=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${r}.png`,m;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(m=()=>s(!1),t[2]=m):m=t[2];let h;t[3]!==i||t[4]!==p?(h=(0,E.jsx)(`img`,{src:p,alt:i,decoding:`async`,onLoad:m,className:`aspect-square w-full object-contain text-transparent`}),t[3]=i,t[4]=p,t[5]=h):h=t[5];let g;t[6]===o?g=t[7]:(g=o?(0,E.jsx)(`div`,{className:`absolute top-0 aspect-square w-full rounded-xl bg-slate-200 transition-[background-color] group-hover:bg-slate-300 dark:bg-slate-800 dark:group-hover:bg-slate-700`,children:(0,E.jsx)(f,{size:8})}):null,t[6]=o,t[7]=g);let _;t[8]===i?_=t[9]:(_=i.replace(`-`,` `),t[8]=i,t[9]=_);let v;t[10]===_?v=t[11]:(v=(0,E.jsx)(`h1`,{className:`mb-1 text-xl font-bold text-nowrap capitalize max-md:px-1`,children:_}),t[10]=_,t[11]=v);let b=a?.types,S;t[12]===b?S=t[13]:(S=(0,E.jsx)(y,{types:b,className:`-mx-6 scale-75 gap-1 @min-[180px]/card:-mx-7 @min-[200px]/card:-mx-3 @min-[200px]/card:scale-90 @min-[200px]/card:gap-2 @min-[235px]/card:mx-0 @min-[235px]/card:scale-100`}),t[12]=b,t[13]=S);let C;t[14]!==S||t[15]!==v?(C=(0,E.jsxs)(`div`,{className:`p-2 md:p-4`,children:[v,S]}),t[14]=S,t[15]=v,t[16]=C):C=t[16];let w;t[17]!==C||t[18]!==h||t[19]!==g?(w=(0,E.jsxs)(`article`,{className:`group @container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none`,children:[h,g,C]}),t[17]=C,t[18]=h,t[19]=g,t[20]=w):w=t[20];let D;return t[21]!==w||t[22]!==l?(D=(0,E.jsx)(d,{to:`/pokemon/$pokemonId`,params:l,children:w}),t[21]=w,t[22]=l,t[23]=D):D=t[23],D};var O=D,k=p(m());const A=()=>{let t=(0,k.c)(17),{data:n,isLoading:i}=l(),{pokemonList:s,isLoading:c,isFiltered:u}=S(n),[d,p]=(0,x.useState)(!1);a(d);let m;t[0]!==d||t[1]!==i||t[2]!==c||t[3]!==s?(m=!i&&!c&&s?.length?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r,{totalCount:s.length,itemContent:e=>(0,E.jsx)(O,{pokemon:s[e]},s[e].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:e=>p(e),className:`w-full`,listClassName:`grid grid-cols-2 gap-2 @min-[475px]/grid:gap-4
              @min-[580px]/grid:grid-cols-3 @min-[580px]/grid:gap-2 @min-[680px]/grid:gap-4
              @min-[800px]/grid:grid-cols-4 @min-[800px]/grid:gap-2 @min-[900px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-5 @min-[1000px]/grid:gap-2 @min-[1080px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-6 @min-[1250px]/grid:gap-2 @min-[1300px]/grid:gap-4
              @min-[1400px]/grid:grid-cols-7 @min-[1400px]/grid:gap-2 @min-[1500px]/grid:gap-4`}),d&&(0,E.jsx)(o,{})]}):null,t[0]=d,t[1]=i,t[2]=c,t[3]=s,t[4]=m):m=t[4];let h;t[5]!==d||t[6]!==i||t[7]!==c||t[8]!==s?.length?(h=i||c||!d&&s?.length?(0,E.jsx)(`div`,{className:`fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900`,children:(0,E.jsx)(f,{size:24,displaysText:!0})}):null,t[5]=d,t[6]=i,t[7]=c,t[8]=s?.length,t[9]=h):h=t[9];let g;t[10]!==u||t[11]!==s?.length?(g=!s?.length&&u&&(0,E.jsx)(`div`,{className:`top-0 lg:fixed lg:h-screen`,children:(0,E.jsx)(e,{itemType:`Pokémon`})}),t[10]=u,t[11]=s?.length,t[12]=g):g=t[12];let _;return t[13]!==m||t[14]!==h||t[15]!==g?(_=(0,E.jsxs)(`section`,{className:`@container/grid flex flex-col items-center p-4 pt-2 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0`,children:[m,h,g]}),t[13]=m,t[14]=h,t[15]=g,t[16]=_):_=t[16],_};var j=A,M=p(m());const N=()=>{let e=(0,M.c)(4),r=_(),i,a;e[0]===r?(i=e[1],a=e[2]):(i=()=>{r.loadRouteChunk(r.routesByPath[`/pokemon/$pokemonId`])},a=[r],e[0]=r,e[1]=i,e[2]=a),(0,x.useEffect)(i,a);let o;return e[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,E.jsxs)(`div`,{className:`relative sm:pt-20`,children:[(0,E.jsxs)(n,{children:[(0,E.jsx)(n.Search,{itemType:`Pokémon`}),(0,E.jsx)(n.GenerationFilter,{}),(0,E.jsx)(n.TypeFilter,{}),(0,E.jsx)(n.OnlyStarredToggle,{}),(0,E.jsx)(n.ClearFilter,{})]}),(0,E.jsx)(t,{}),(0,E.jsx)(j,{})]}),e[3]=o):o=e[3],o};export{N as component};