import{r as f,c as w,j as t,L as v,a as M,b as N}from"./index-Baqj2o40.js";import{S as h,Y as y,F,a as k}from"./FilterErrorMessage-FfeUrqZI.js";import{h as S,i as C,d as A,j as T,F as $}from"./Footer-l-c8bU6X.js";import{u as E}from"./useStarredPokemon-D-wF3F5h.js";import{t as j,a as I,M as z}from"./MoveInfoDisplay-2Dgyy2ED.js";import"./MoveCategoryDisplay-DU2Hsskn.js";const D=e=>{const{getUrlParam:s}=E(),x=s("generation")??"",a=s("type")??"",o=s("q")??"",{data:l,isLoading:g}=S(x),{data:r,isLoading:m}=C(a),i=f.useMemo(()=>{if(e)return l!=null&&l.length&&(r!=null&&r.length)?l.filter(n=>new Set(r.map(c=>c.id)).has(n.id)):l!=null&&l.length?l:r!=null&&r.length?r:e},[e,l,r]);return{moveList:f.useMemo(()=>{if(i)return o.trim().length?i==null?void 0:i.filter(n=>n.name.includes(o.toLowerCase().trim())):i},[i,o]),isLoading:g||m,isFiltered:!!(x||a||o)}},b=f.memo(e=>{const s=w.c(17),{move:x}=e,{id:a,name:o}=x,{data:l}=A(a),g=`/pokedex/moves/${a}`;let r;s[0]!==l?(r=l?t.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${I})`,backgroundPosition:`${j[l.type.name].sprite.x}px ${j[l.type.name].sprite.y}px`}}):t.jsx("div",{className:"-m-7 inline-block h-34.25 w-33",children:t.jsx(v,{size:8})}),s[0]=l,s[1]=r):r=s[1];let m;s[2]!==o?(m=o.split("-").join(" "),s[2]=o,s[3]=m):m=s[3];let i;s[4]!==m?(i=t.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:m}),s[4]=m,s[5]=i):i=s[5];let d;s[6]!==l?(d=t.jsx(z,{move:l,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),s[6]=l,s[7]=d):d=s[7];let n;s[8]!==i||s[9]!==d?(n=t.jsxs("div",{className:"w-[calc(100%-76px)]",children:[i,d]}),s[8]=i,s[9]=d,s[10]=n):n=s[10];let c;s[11]!==r||s[12]!==n?(c=t.jsx("article",{className:"@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:t.jsxs("div",{className:"flex",children:[r,n]})}),s[11]=r,s[12]=n,s[13]=c):c=s[13];let p;return s[14]!==g||s[15]!==c?(p=t.jsx(M,{to:g,children:c}),s[14]=g,s[15]=c,s[16]=p):p=s[16],p});b.displayName="MoveCard";const q=()=>{const e=w.c(19),{data:s,isLoading:x}=T(),{moveList:a,isLoading:o,isFiltered:l}=D(s),[g,r]=f.useState(!1);N(g);let m,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs(h,{children:[t.jsx(h.Search,{itemType:"move"}),t.jsx(h.GenerationFilter,{}),t.jsx(h.TypeFilter,{}),t.jsx(h.ClearFilter,{})]}),i=t.jsx(k,{}),e[0]=m,e[1]=i):(m=e[0],i=e[1]);let d;e[2]!==g||e[3]!==o||e[4]!==x||e[5]!==a?(d=!x&&!o&&(a!=null&&a.length)?t.jsxs(t.Fragment,{children:[t.jsx(y,{totalCount:a.length,itemContent:u=>t.jsx(b,{move:a[u]},a[u].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:u=>r(u),className:"w-full",listClassName:`grid grid-cols-1 gap-2
                @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4
                @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4
                @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4
                @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4
                @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),g&&t.jsx($,{})]}):null,e[2]=g,e[3]=o,e[4]=x,e[5]=a,e[6]=d):d=e[6];let n;e[7]!==g||e[8]!==o||e[9]!==x||e[10]!==(a==null?void 0:a.length)?(n=x||o||!g&&(a!=null&&a.length)?t.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:t.jsx(v,{size:24,displaysText:!0})}):null,e[7]=g,e[8]=o,e[9]=x,e[10]=a==null?void 0:a.length,e[11]=n):n=e[11];let c;e[12]!==l||e[13]!==(a==null?void 0:a.length)?(c=!(a!=null&&a.length)&&l&&t.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:t.jsx(F,{itemType:"moves"})}),e[12]=l,e[13]=a==null?void 0:a.length,e[14]=c):c=e[14];let p;return e[15]!==d||e[16]!==n||e[17]!==c?(p=t.jsxs("div",{className:"relative sm:pt-24",children:[m,i,t.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[d,n,c]})]}),e[15]=d,e[16]=n,e[17]=c,e[18]=p):p=e[18],p};export{q as default};
