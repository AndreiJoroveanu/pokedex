import{__toESM as e,require_react as t}from"./Loader-D8Mv-eKS.js";const n=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a=()=>c,o=e=>(n.add(e),()=>n.delete(e)),s={setState:r,getState:i,getInitialState:a,subscribe:o},c=t=e(r,i,s);return s},r=e=>e?n(e):n;var i=e(t(),1);const a=e=>e;function o(e,t=a){let n=i.default.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return i.default.useDebugValue(n),n}const s=e=>{let t=r(e),n=e=>o(t,e);return Object.assign(n,t),n},c=e=>e?s(e):s,l=localStorage.getItem(`theme`)??`system`;document.documentElement.className=l;const u=window.matchMedia(`(prefers-color-scheme: dark)`),d=e=>(u.removeEventListener(`change`,f),e===`system`&&u.addEventListener(`change`,f),e===`system`?u.matches?`dark`:`light`:e),f=e=>m.setState({effectiveTheme:e.matches?`dark`:`light`}),p=c(e=>({theme:l,effectiveTheme:d(l),changeTheme:t=>{e({theme:t}),localStorage.setItem(`theme`,t),e({effectiveTheme:d(t)}),document.documentElement.className=t},volume:Number(localStorage.getItem(`volume`)??5),changeVolume:t=>{e({volume:t}),localStorage.setItem(`volume`,String(t))},isGenPanelOpen:!1,toggleGenPanelOpen:()=>e(e=>({isGenPanelOpen:!e.isGenPanelOpen})),isTypePanelOpen:!1,toggleTypePanelOpen:()=>e(e=>({isTypePanelOpen:!e.isTypePanelOpen})),resetSidebarPanels:()=>e({isGenPanelOpen:!1,isTypePanelOpen:!1}),isLearnsetPanelOpen:!1,toggleLearnsetPanelOpen:()=>e(e=>({isLearnsetPanelOpen:!e.isLearnsetPanelOpen})),isDexEntriesPanelOpen:!1,toggleDexEntriesPanelOpen:()=>e(e=>({isDexEntriesPanelOpen:!e.isDexEntriesPanelOpen})),resetPokemonDetailsPanels:()=>e({isLearnsetPanelOpen:!1,isDexEntriesPanelOpen:!1})}));var m=p;const h=e=>Symbol.iterator in e,g=e=>`entries`in e,_=(e,t)=>{let n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(let[e,t]of n)if(!Object.is(t,r.get(e)))return!1;return!0},v=(e,t)=>{let n=e[Symbol.iterator](),r=t[Symbol.iterator](),i=n.next(),a=r.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=r.next()}return!!i.done&&!!a.done};function y(e,t){return Object.is(e,t)?!0:typeof e!=`object`||!e||typeof t!=`object`||!t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:h(e)&&h(t)?g(e)&&g(t)?_(e,t):v(e,t):_({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function b(e){let t=i.default.useRef(void 0);return n=>{let r=e(n);return y(t.current,r)?t.current:t.current=r}}export{m as useAppStore_default,b as useShallow};