import{CollapsingPanel_default as e,pokemonTypes as t}from"./Footer-DlKd5Jti.js";import{AnimatePresence as n,Button_default as r,__toESM as i,defaultGetScrollRestorationKey as a,getCssSelector as o,motion as s,require_compiler_runtime as c,require_jsx_runtime as l,require_react as u,require_react_dom as d,scrollRestorationCache as f,setupScrollRestoration as p,useNavigate as m,useRouter as h,useRouterState as g,useSearch as _}from"./index-BeP9pGss.js";import{orderSearchParams as v,useStarredPokemon as y}from"./useStarredPokemon-BqLadYtT.js";function b(){let e=h();p(e,!0)}function ee(e){var t,n;b();let r=h(),i=e.getKey||a,s=``;if(e.id)s=`[data-scroll-restoration-id="${e.id}"]`;else{let n=(t=e.getElement)?.call(e);if(!n)return;s=n instanceof Window?`window`:o(n)}let c=i(r.latestLocation),l=(n=f)?.state[c];return l?.[s]}var x=i(u());function S({title:e,titleId:t,...n},r){return x.createElement(`svg`,Object.assign({xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,strokeWidth:1.5,stroke:`currentColor`,"aria-hidden":`true`,"data-slot":`icon`,ref:r,"aria-labelledby":t},n),e?x.createElement(`title`,{id:t},e):null,x.createElement(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`m4.5 18.75 7.5-7.5 7.5 7.5`}),x.createElement(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,d:`m4.5 12.75 7.5-7.5 7.5 7.5`}))}const C=x.forwardRef(S);var w=C,T=i(c());const te=e=>{let t=(0,T.c)(15),n;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(n={select:ne},t[0]=n):n=t[0];let r=g(n),i=r===`/pokedex/pokemon`?`/pokemon`:r===`/pokedex/moves`?`/moves`:void 0,a;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(a={strict:!1},t[1]=a):a=t[1];let o=_(a),s=(0,x.useRef)(o),c,l;t[2]===o?(c=t[3],l=t[4]):(c=()=>void(s.current=o),l=[o],t[2]=o,t[3]=c,t[4]=l),(0,x.useEffect)(c,l);let u;t[5]===i?u=t[6]:(u={from:i},t[5]=i,t[6]=u);let d=m(u),f;t[7]===e?f=t[8]:(f={strict:!1,select:t=>t[e]},t[7]=e,t[8]=f);let p=_(f),h;t[9]!==e||t[10]!==d?(h=t=>{let n={...s.current},r=!!n[e];n[e]=t;let i=r?n:v(n,[`generation`,`type`,`onlyStarred`,`q`,`isGenPanelOpen`,`isTypePanelOpen`]);d({to:`.`,search:i,replace:!0,resetScroll:e!==`isGenPanelOpen`&&e!==`isTypePanelOpen`,viewTransition:e!==`isGenPanelOpen`&&e!==`isTypePanelOpen`,mask:{to:`.`,search:{...i,isGenPanelOpen:void 0,isTypePanelOpen:void 0}}})},t[9]=e,t[10]=d,t[11]=h):h=t[11];let y=h,b;return t[12]!==y||t[13]!==p?(b=[p,y],t[12]=y,t[13]=p,t[14]=b):b=t[14],b};function ne(e){return e.location.pathname}var re=i(c()),E=i(l());const ie=e=>{let t=(0,re.c)(11),{itemType:n}=e,[r,i]=te(`q`),[a,o]=(0,x.useState)(r??``),s,c;t[0]===r?(s=t[1],c=t[2]):(s=()=>{r||o(``)},c=[r],t[0]=r,t[1]=s,t[2]=c),(0,x.useEffect)(s,c);let l;t[3]===i?l=t[4]:(l=e=>{o(e),i(e||void 0)},t[3]=i,t[4]=l);let u=l,d=`Search by ${n} name`,f;t[5]===u?f=t[6]:(f=e=>u(e.target.value),t[5]=u,t[6]=f);let p;return t[7]!==a||t[8]!==d||t[9]!==f?(p=(0,E.jsx)(`input`,{type:`text`,placeholder:d,value:a,onChange:f,className:`w-full rounded-xl bg-slate-200 py-2 text-center shadow-md transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-lg focus:shadow-lg dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none dark:focus:shadow-none`}),t[7]=a,t[8]=d,t[9]=f,t[10]=p):p=t[10],p};var ae=ie;const oe=[{value:`i`,label:`Gen. I`},{value:`ii`,label:`Gen. II`},{value:`iii`,label:`Gen. III`},{value:`iv`,label:`Gen. IV`},{value:`v`,label:`Gen. V`},{value:`vi`,label:`Gen. VI`},{value:`vii`,label:`Gen. VII`},{value:`viii`,label:`Gen. VIII`},{value:`ix`,label:`Gen. IX`}];var se=i(c());const ce=t=>{let n=(0,se.c)(9),{name:i,values:a,isOpen:o,toggleOpen:s}=t,[c,l]=te(i),u=`${i} Filtering`,d;n[0]!==c||n[1]!==l||n[2]!==a?(d=a?.map(e=>{let{value:t,label:n}=e;return(0,E.jsx)(r,{onClick:()=>l(c===t?void 0:t),style:c===t?`indigo`:`normal`,className:`capitalize`,children:n},t)}),n[0]=c,n[1]=l,n[2]=a,n[3]=d):d=n[3];let f;return n[4]!==o||n[5]!==u||n[6]!==d||n[7]!==s?(f=(0,E.jsx)(e,{label:u,initialIsOpen:o,toggleOpen:s,className:`grid grid-cols-3 gap-2 p-2 lg:grid-cols-2 xl:grid-cols-3`,children:d}),n[4]=o,n[5]=u,n[6]=d,n[7]=s,n[8]=f):f=n[8],f};var le=ce,ue=i(c());const de=()=>{let e=(0,ue.c)(6),[t,n]=te(`isGenPanelOpen`),r;e[0]!==t||e[1]!==n?(r=()=>n(t?void 0:!0),e[0]=t,e[1]=n,e[2]=r):r=e[2];let i;return e[3]!==t||e[4]!==r?(i=(0,E.jsx)(le,{name:`generation`,values:oe,isOpen:t,toggleOpen:r}),e[3]=t,e[4]=r,e[5]=i):i=e[5],i};var fe=de,pe=i(c());const me=()=>{let e=(0,pe.c)(7),[n,r]=te(`isTypePanelOpen`),i;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=Object.entries(t).map(ge),e[0]=i):i=e[0];let a;e[1]!==n||e[2]!==r?(a=()=>r(n?void 0:!0),e[1]=n,e[2]=r,e[3]=a):a=e[3];let o;return e[4]!==n||e[5]!==a?(o=(0,E.jsx)(le,{name:`type`,values:i,isOpen:n,toggleOpen:a}),e[4]=n,e[5]=a,e[6]=o):o=e[6],o};var he=me;function ge(e){let[t,n]=e,{label:r}=n;return{value:t,label:r}}var _e=i(c());const ve=()=>{let e=(0,_e.c)(7),[t,n]=te(`onlyStarred`),{length:i}=y(),a;e[0]!==t||e[1]!==n?(a=()=>n(t?void 0:!0),e[0]=t,e[1]=n,e[2]=a):a=e[2];let o=t?`gold`:`normal`,s=`Show${t?`ing ${i}`:` only`} starred PokÃ©mon`,c;return e[3]!==a||e[4]!==o||e[5]!==s?(c=(0,E.jsx)(r,{onClick:a,style:o,className:`mb-4 w-full`,children:s}),e[3]=a,e[4]=o,e[5]=s,e[6]=c):c=e[6],c};var ye=ve,be=i(c());const xe=()=>{let e=(0,be.c)(9),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t={select:Se},e[0]=t):t=e[0];let n=g(t),r=n===`/pokedex/pokemon`?`/pokemon`:n===`/pokedex/moves`?`/moves`:void 0,i;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(i={strict:!1},e[1]=i):i=e[1];let a=_(i),o;e[2]===r?o=e[3]:(o={from:r},e[2]=r,e[3]=o);let s=m(o),c;e[4]===s?c=e[5]:(c=()=>void s({to:`.`,search:Ce,mask:{to:`.`,search:{}},replace:!0}),e[4]=s,e[5]=c);let l=c,u=!!(a.generation??a.type??a.onlyStarred??a.q),d;return e[6]!==u||e[7]!==l?(d={reset:l,canReset:u},e[6]=u,e[7]=l,e[8]=d):d=e[8],d};function Se(e){return e.location.pathname}function Ce(e){return{isGenPanelOpen:e.isGenPanelOpen,isTypePanelOpen:e.isTypePanelOpen}}var we=i(c());const Te=()=>{let e=(0,we.c)(4),{reset:t,canReset:n}=xe(),i=!n,a=n?`indigo`:`normal`,o;return e[0]!==t||e[1]!==i||e[2]!==a?(o=(0,E.jsx)(r,{onClick:t,disabled:i,style:a,className:`w-full disabled:cursor-not-allowed disabled:opacity-25 lg:mb-4`,children:`Clear Filtering`}),e[0]=t,e[1]=i,e[2]=a,e[3]=o):o=e[3],o};var Ee=Te,De=i(c());const Oe=e=>{let t=(0,De.c)(2),{children:n}=e,r;return t[0]===n?r=t[1]:(r=(0,E.jsx)(`aside`,{className:`z-10 p-4 max-lg:pb-0 max-sm:pt-0 lg:fixed lg:h-[calc(100vh-96px)] lg:w-1/5 lg:max-w-80 lg:min-w-62.5 lg:overflow-y-scroll`,children:n}),t[0]=n,t[1]=r),r};Oe.Search=ae,Oe.GenerationFilter=fe,Oe.TypeFilter=he,Oe.OnlyStarredToggle=ye,Oe.ClearFilter=Ee;var ke=Oe;const Ae=500,je={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},Me=()=>{let[e,t]=(0,x.useState)(!1),i=(0,x.useRef)(null);return(0,x.useEffect)(()=>{let e=()=>{i.current??=window.setTimeout(()=>{t(window.scrollY>Ae),i.current=null},200)};return window.addEventListener(`scroll`,e),()=>{window.removeEventListener(`scroll`,e),i.current&&clearTimeout(i.current)}},[]),(0,E.jsx)(n,{children:e&&(0,E.jsx)(s.div,{variants:je,initial:`hidden`,animate:`visible`,exit:`hidden`,transition:{type:`spring`,bounce:0,duration:.3},className:`fixed bottom-20 left-4 z-10 sm:bottom-4 lg:left-[calc(20vw+16px)]`,children:(0,E.jsxs)(r,{onClick:()=>{window.scrollTo({top:0}),t(!1)},style:`gold`,className:`flex items-center gap-2 rounded-full px-4 py-4 sm:rounded-xl sm:px-3 sm:py-2`,children:[(0,E.jsx)(w,{className:`size-5`}),(0,E.jsx)(`span`,{className:`max-sm:hidden`,children:`Scroll to top`})]})})})};var Ne=Me,Pe=i(d(),1);const Fe=0,Ie=1,Le=2,Re=4;function ze(e){return()=>e}function Be(e){e()}function Ve(e,t){return n=>e(t(n))}function He(e,t){return()=>e(t)}function Ue(e,t){return n=>e(t,n)}function We(e){return e!==void 0}function Ge(...e){return()=>{e.map(Be)}}function Ke(){}function qe(e,t){return t(e),e}function Je(e,t){return t(e)}function D(...e){return e}function O(e,t){return e(Ie,t)}function k(e,t){e(Fe,t)}function Ye(e){e(Le)}function A(e){return e(Re)}function j(e,t){return O(e,Ue(t,Fe))}function Xe(e,t){let n=e(Ie,e=>{n(),t(e)});return n}function Ze(e){let t,n;return r=>i=>{t=i,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function Qe(e,t){return e===t}function M(e=Qe){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function N(e){return t=>n=>{e(n)&&t(n)}}function P(e){return t=>Ve(t,e)}function $e(e){return t=>()=>{t(e)}}function F(e,...t){let n=rt(...t);return(t,r)=>{switch(t){case Le:Ye(e);return;case Ie:return O(e,n(r))}}}function et(e,t){return n=>r=>{n(t=e(t,r))}}function tt(e){return t=>n=>{e>0?e--:t(n)}}function nt(e){let t=null,n;return r=>i=>{t=i,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function I(...e){let t=Array(e.length),n=0,r=null,i=2**e.length-1;return e.forEach((e,a)=>{let o=2**a;O(e,e=>{let s=n;n|=o,t[a]=e,s!==i&&n===i&&r&&(r(),r=null)})}),e=>a=>{let o=()=>{e([a].concat(t))};n===i?o():r=o}}function rt(...e){return t=>e.reduceRight(Je,t)}function it(e){let t,n,r=()=>t?.();return function(i,a){switch(i){case Ie:return a?n===a?void 0:(r(),n=a,t=O(e,a),t):(r(),Ke);case Le:r(),n=null;return}}}function L(e){let t=e,n=z();return(e,r)=>{switch(e){case Fe:t=r;break;case Ie:r(t);break;case Re:return t}return n(e,r)}}function R(e,t){return qe(L(t),t=>j(e,t))}function z(){let e=[];return(t,n)=>{switch(t){case Fe:e.slice().forEach(e=>{e(n)});return;case Le:e.splice(0,e.length);return;case Ie:return e.push(n),()=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function B(e){return qe(z(),t=>j(e,t))}function V(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:at(),singleton:n}}const at=()=>Symbol();function ot(e){let t=new Map,n=({constructor:e,dependencies:r,id:i,singleton:a})=>{if(a&&t.has(i))return t.get(i);let o=e(r.map(e=>n(e)));return a&&t.set(i,o),o};return n(e)}function H(...e){let t=z(),n=Array(e.length),r=0,i=2**e.length-1;return e.forEach((e,a)=>{let o=2**a;O(e,e=>{n[a]=e,r|=o,r===i&&k(t,n)})}),function(e,a){switch(e){case Le:Ye(t);return;case Ie:return r===i&&a(n),O(t,a)}}}function U(e,t=Qe){return F(e,M(t))}function st(...e){return function(t,n){switch(t){case Le:return;case Ie:return Ge(...e.map(e=>O(e,n)))}}}var W=(e=>(e[e.DEBUG=0]=`DEBUG`,e[e.INFO=1]=`INFO`,e[e.WARN=2]=`WARN`,e[e.ERROR=3]=`ERROR`,e))(W||{});const ct={0:`debug`,3:`error`,1:`log`,2:`warn`},lt=()=>typeof globalThis>`u`?window:globalThis,ut=V(()=>{let e=L(3);return{log:L((t,n,r=1)=>{var i;let a=(i=lt().VIRTUOSO_LOG_LEVEL)??A(e);r>=a&&console[ct[r]](`%creact-virtuoso: %c%s %o`,`color: #0253b3; font-weight: bold`,`color: initial`,t,n)}),logLevel:e}},[],{singleton:!0});function dt(e,t,n){return ft(e,t,n).callbackRef}function ft(e,t,n){let r=x.useRef(null),i=e=>{},a=x.useMemo(()=>typeof ResizeObserver<`u`?new ResizeObserver(t=>{let r=()=>{let n=t[0].target;n.offsetParent!==null&&e(n)};n?r():requestAnimationFrame(r)}):null,[e,n]);return i=e=>{e&&t?(a?.observe(e),r.current=e):(r.current&&a?.unobserve(r.current),r.current=null)},{callbackRef:i,ref:r}}function pt(e,t,n,r,i,a,o,s,c){let l=x.useCallback(n=>{let c=mt(n.children,t,s?`offsetWidth`:`offsetHeight`,i),l=n.parentElement;for(;!l.dataset.virtuosoScroller;)l=l.parentElement;let u=l.lastElementChild.dataset.viewportType===`window`,d;u&&(d=l.ownerDocument.defaultView);let f=o?s?o.scrollLeft:o.scrollTop:u?s?d.scrollX||d.document.documentElement.scrollLeft:d.scrollY||d.document.documentElement.scrollTop:s?l.scrollLeft:l.scrollTop,p=o?s?o.scrollWidth:o.scrollHeight:u?s?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight:s?l.scrollWidth:l.scrollHeight,m=o?s?o.offsetWidth:o.offsetHeight:u?s?d.innerWidth:d.innerHeight:s?l.offsetWidth:l.offsetHeight;r({scrollHeight:p,scrollTop:Math.max(f,0),viewportHeight:m}),a?.(s?ht(`column-gap`,getComputedStyle(n).columnGap,i):ht(`row-gap`,getComputedStyle(n).rowGap,i)),c!==null&&e(c)},[e,t,i,a,o,r,s]);return ft(l,n,c)}function mt(e,t,n,r){let i=e.length;if(i===0)return null;let a=[];for(let o=0;o<i;o++){let i=e.item(o);if(i.dataset.index===void 0)continue;let s=parseInt(i.dataset.index),c=parseFloat(i.dataset.knownSize),l=t(i,n);if(l===0&&r(`Zero-sized element, this should not happen`,{child:i},W.ERROR),l===c)continue;let u=a[a.length-1];a.length===0||u.size!==l||u.endIndex!==s-1?a.push({endIndex:s,size:l,startIndex:s}):a[a.length-1].endIndex++}return a}function ht(e,t,n){return t!==`normal`&&!(t!=null&&t.endsWith(`px`))&&n(`${e} was not resolved to pixel value correctly`,t,W.WARN),t===`normal`?0:parseInt(t??`0`,10)}function gt(e,t,n){let r=x.useRef(null),i=x.useCallback(n=>{if(!(n!=null&&n.offsetParent))return;let i=n.getBoundingClientRect(),a=i.width,s,c;if(t){let e=t.getBoundingClientRect(),n=i.top-e.top;c=e.height-Math.max(0,n),s=n+t.scrollTop}else{let e=o.current.ownerDocument.defaultView;c=e.innerHeight-Math.max(0,i.top),s=i.top+e.scrollY}r.current={offsetTop:s,visibleHeight:c,visibleWidth:a},e(r.current)},[e,t]),{callbackRef:a,ref:o}=ft(i,!0,n),s=x.useCallback(()=>{i(o.current)},[i,o]);return x.useEffect(()=>{var e;if(t){t.addEventListener(`scroll`,s);let e=new ResizeObserver(()=>{requestAnimationFrame(s)});return e.observe(t),()=>{t.removeEventListener(`scroll`,s),e.unobserve(t)}}else{let t=(e=o.current)?.ownerDocument.defaultView;return t?.addEventListener(`scroll`,s),t?.addEventListener(`resize`,s),()=>{t?.removeEventListener(`scroll`,s),t?.removeEventListener(`resize`,s)}}},[s,t,o]),a}const G=V(()=>{let e=z(),t=z(),n=L(0),r=z(),i=L(0),a=z(),o=z(),s=L(0),c=L(0),l=L(0),u=L(0),d=z(),f=z(),p=L(!1),m=L(!1),h=L(!1);return j(F(e,P(({scrollTop:e})=>e)),t),j(F(e,P(({scrollHeight:e})=>e)),o),j(t,i),{deviation:n,fixedFooterHeight:l,fixedHeaderHeight:c,footerHeight:u,headerHeight:s,horizontalDirection:m,scrollBy:f,scrollContainerState:e,scrollHeight:o,scrollingInProgress:p,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:h,smoothScrollTargetReached:r,statefulScrollTop:i,viewportHeight:a}},[],{singleton:!0}),_t={lvl:0};function vt(e,t){let n=e.length;if(n===0)return[];let{index:r,value:i}=t(e[0]),a=[];for(let o=1;o<n;o++){let{index:n,value:s}=t(e[o]);a.push({end:n-1,start:r,value:i}),r=n,i=s}return a.push({end:1/0,start:r,value:i}),a}function K(e){return e===_t}function yt(e,t){if(!K(e))return t===e.k?e.v:t<e.k?yt(e.l,t):yt(e.r,t)}function bt(e,t,n=`k`){if(K(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){let r=bt(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return bt(e.l,t,n)}function q(e,t,n){return K(e)?At(t,n,1):t===e.k?J(e,{k:t,v:n}):t<e.k?jt(J(e,{l:q(e.l,t,n)})):jt(J(e,{r:q(e.r,t,n)}))}function xt(){return _t}function St(e,t,n){if(K(e))return[];let r=bt(e,t)[0];return Pt(Tt(e,r,n))}function Ct(e,t){if(K(e))return _t;let{k:n,l:r,r:i}=e;if(t===n){if(K(r))return i;if(K(i))return r;{let[t,n]=kt(r);return Et(J(e,{k:t,l:Dt(r),v:n}))}}else return Et(t<n?J(e,{l:Ct(r,t)}):J(e,{r:Ct(i,t)}))}function wt(e){return K(e)?[]:[...wt(e.l),{k:e.k,v:e.v},...wt(e.r)]}function Tt(e,t,n){if(K(e))return[];let{k:r,l:i,r:a,v:o}=e,s=[];return r>t&&(s=s.concat(Tt(i,t,n))),r>=t&&r<=n&&s.push({k:r,v:o}),r<=n&&(s=s.concat(Tt(a,t,n))),s}function Et(e){let{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(Ot(t))return Mt(J(e,{lvl:n-1}));if(!K(t)&&!K(t.r))return J(t.r,{l:J(t,{r:t.r.l}),lvl:n,r:J(e,{l:t.r.r,lvl:n-1})});throw Error(`Unexpected empty nodes`)}else{if(Ot(e))return Nt(J(e,{lvl:n-1}));if(!K(r)&&!K(r.l)){let t=r.l,i=Ot(t)?r.lvl-1:r.lvl;return J(t,{l:J(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:Nt(J(r,{l:t.r,lvl:i}))})}else throw Error(`Unexpected empty nodes`)}}function J(e,t){return At(t.k===void 0?e.k:t.k,t.v===void 0?e.v:t.v,t.lvl===void 0?e.lvl:t.lvl,t.l===void 0?e.l:t.l,t.r===void 0?e.r:t.r)}function Dt(e){return K(e.r)?e.l:Et(J(e,{r:Dt(e.r)}))}function Ot(e){return K(e)||e.lvl>e.r.lvl}function kt(e){return K(e.r)?[e.k,e.v]:kt(e.r)}function At(e,t,n,r=_t,i=_t){return{k:e,l:r,lvl:n,r:i,v:t}}function jt(e){return Nt(Mt(e))}function Mt(e){let{l:t}=e;return!K(t)&&t.lvl===e.lvl?J(t,{r:J(e,{l:t.r})}):e}function Nt(e){let{lvl:t,r:n}=e;return!K(n)&&!K(n.r)&&n.lvl===t&&n.r.lvl===t?J(n,{l:J(e,{r:n.l}),lvl:t+1}):e}function Pt(e){return vt(e,({k:e,v:t})=>({index:e,value:t}))}function Ft(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function It(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Lt=V(()=>({recalcInProgress:L(!1)}),[],{singleton:!0});function Rt(e,t,n){return e[zt(e,t,n)]}function zt(e,t,n,r=0){let i=e.length-1;for(;r<=i;){let a=Math.floor((r+i)/2),o=e[a],s=n(o,t);if(s===0)return a;if(s===-1){if(i-r<2)return a-1;i=a-1}else{if(i===r)return a;r=a+1}}throw Error(`Failed binary finding record in array - ${e.join(`,`)}, searched for ${t}`)}function Bt(e,t,n,r){let i=zt(e,t,r),a=zt(e,n,r,i);return e.slice(i,a+1)}function Vt(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ht(e){return!K(e.groupOffsetTree)}function Ut({index:e},t){return t===e?0:t<e?-1:1}function Wt(){return{groupIndices:[],groupOffsetTree:xt(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:xt()}}function Gt(e,t){let n=K(e)?0:1/0;for(let r of t){let{endIndex:t,size:i,startIndex:a}=r;if(n=Math.min(n,a),K(e)){e=q(e,0,i);continue}let o=St(e,a-1,t+1);if(o.some(rn(r)))continue;let s=!1,c=!1;for(let{end:n,start:r,value:a}of o)s?(t>=r||i===a)&&(e=Ct(e,r)):(c=a!==i,s=!0),n>t&&t>=r&&a!==i&&(e=q(e,t+1,a));c&&(e=q(e,a,i))}return[e,n]}function Kt(e){return typeof e.groupIndex<`u`}function qt({offset:e},t){return t===e?0:t<e?-1:1}function Jt(e,t,n){if(t.length===0)return 0;let{index:r,offset:i,size:a}=Rt(t,e,Ut),o=e-r,s=a*o+(o-1)*n+i;return s>0?s+n:s}function Yt(e,t){if(!Ht(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function Xt(e,t,n){if(Kt(e))return t.groupIndices[e.groupIndex]+1;{let r=e.index===`LAST`?n:e.index,i=Yt(r,t);return i=Math.max(0,i,Math.min(n,i)),i}}function Zt(e,t,n,r=0){return r>0&&(t=Math.max(t,Rt(e,r,Ut).offset)),vt(Bt(e,t,n,qt),nn)}function Qt(e,[t,n,r,i]){t.length>0&&r(`received item sizes`,t,W.DEBUG);let a=e.sizeTree,o=a,s=0;if(n.length>0&&K(a)&&t.length===2){let e=t[0].size,r=t[1].size;o=n.reduce((t,n)=>q(q(t,n,e),n+1,r),o)}else [o,s]=Gt(o,t);if(o===a)return e;let{lastIndex:c,lastOffset:l,lastSize:u,offsetTree:d}=tn(e.offsetTree,s,o,i);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>q(e,t,Jt(t,d,i)),xt()),lastIndex:c,lastOffset:l,lastSize:u,offsetTree:d,sizeTree:o}}function $t(e){return wt(e).map(({k:e,v:t},n,r)=>{let i=r[n+1];return{endIndex:i?i.k-1:1/0,size:t,startIndex:e}})}function en(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function tn(e,t,n,r){let i=e,a=0,o=0,s=0,c=0;if(t!==0){c=zt(i,t-1,Ut),s=i[c].offset;let e=bt(n,t-1);a=e[0],o=e[1],i.length&&i[c].size===bt(n,t)[1]&&--c,i=i.slice(0,c+1)}else i=[];for(let{start:e,value:c}of St(n,t,1/0)){let t=e-a,n=t*o+s+t*r;i.push({index:e,offset:n,size:c}),a=e,s=n,o=c}return{lastIndex:a,lastOffset:s,lastSize:o,offsetTree:i}}function nn(e){return{index:e.index,value:e}}function rn(e){let{endIndex:t,size:n,startIndex:r}=e;return e=>e.start===r&&(e.end===t||e.end===1/0)&&e.value===n}const an={offsetHeight:`height`,offsetWidth:`width`},on=V(([{log:e},{recalcInProgress:t}])=>{let n=z(),r=z(),i=R(r,0),a=z(),o=z(),s=L(0),c=L([]),l=L(void 0),u=L(void 0),d=L((e,t)=>Vt(e,an[t])),f=L(void 0),p=L(0),m=Wt(),h=R(F(n,I(c,e,p),et(Qt,m),M()),m),g=R(F(c,M(),et((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),P(({prev:e})=>e)),[]);j(F(c,N(e=>e.length>0),I(h,p),P(([e,t,n])=>{let r=e.reduce((e,r,i)=>q(e,r,Jt(r,t.offsetTree,n)||i),xt());return{...t,groupIndices:e,groupOffsetTree:r}})),h),j(F(r,I(h),N(([e,{lastIndex:t}])=>e<t),P(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),j(l,u);let _=R(F(l,P(e=>e===void 0)),!0);j(F(u,N(e=>e!==void 0&&K(A(h).sizeTree)),P(e=>[{endIndex:0,size:e,startIndex:0}])),n);let v=B(F(n,I(h),et(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:m}),P(e=>e.changed)));O(F(s,et((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),P(e=>e.diff)),e=>{let{groupIndices:n}=A(h);if(e>0)k(t,!0),k(a,e+en(e,n));else if(e<0){let t=A(g);t.length>0&&(e-=en(-e,t)),k(o,e)}}),O(F(s,I(e)),([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},W.ERROR)});let y=B(a);j(F(a,I(h),P(([e,t])=>{let n=t.groupIndices.length>0,r=[],i=t.lastSize;if(n){let n=yt(t.sizeTree,0),a=0,o=0;for(;a<e;){let e=t.groupIndices[o],s=t.groupIndices.length===o+1?1/0:t.groupIndices[o+1]-e-1;r.push({endIndex:e,size:n,startIndex:e}),r.push({endIndex:e+1+s-1,size:i,startIndex:e+1}),o++,a+=s+1}let s=wt(t.sizeTree);return a!==e&&s.shift(),s.reduce((t,{k:n,v:r})=>{let i=t.ranges;return t.prevSize!==0&&(i=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:r,ranges:i}},{prevIndex:e,prevSize:0,ranges:r}).ranges}return wt(t.sizeTree).reduce((t,{k:n,v:r})=>({prevIndex:n+e,prevSize:r,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:i,ranges:[]}).ranges})),n);let b=B(F(o,I(h,p),P(([e,{offsetTree:t},n])=>{let r=-e;return Jt(r,t,n)})));return j(F(o,I(h,p),P(([e,t,n])=>{if(t.groupIndices.length>0){if(K(t.sizeTree))return t;let r=xt(),i=A(g),a=0,o=0,s=0;for(;a<-e;){s=i[o];let e=i[o+1]-s-1;o++,a+=e+1}if(r=wt(t.sizeTree).reduce((t,{k:n,v:r})=>q(t,Math.max(0,n+e),r),r),a!==-e){let n=yt(t.sizeTree,s);r=q(r,0,n);let i=bt(t.sizeTree,-e+1)[1];r=q(r,1,i)}return{...t,sizeTree:r,...tn(t.offsetTree,0,r,n)}}else{let r=wt(t.sizeTree).reduce((t,{k:n,v:r})=>q(t,Math.max(0,n+e),r),xt());return{...t,sizeTree:r,...tn(t.offsetTree,0,r,n)}}})),h),{beforeUnshiftWith:y,data:f,defaultItemSize:u,firstItemIndex:s,fixedItemSize:l,gap:p,groupIndices:c,itemSize:d,listRefresh:v,shiftWith:o,shiftWithOffset:b,sizeRanges:n,sizes:h,statefulTotalCount:i,totalCount:r,trackItemSizes:_,unshiftWith:a}},D(ut,Lt),{singleton:!0});function sn(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const cn=V(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:i}])=>{let a=z(),o=z(),s=B(F(a,P(sn)));return j(F(s,P(e=>e.totalCount)),n),j(F(s,P(e=>e.groupIndices)),e),j(F(H(i,t,r),N(([e,t])=>Ht(t)),P(([e,t,n])=>bt(t.groupOffsetTree,Math.max(e-n,0),`v`)[0]),M(),P(e=>[e])),o),{groupCounts:a,topItemsIndexes:o}},D(on,G)),ln=V(([{log:e}])=>{let t=L(!1),n=B(F(t,N(e=>e),M()));return O(t,t=>{t&&A(e)(`props updated`,{},W.DEBUG)}),{didMount:n,propsReady:t}},D(ut),{singleton:!0}),un=typeof document<`u`&&`scrollBehavior`in document.documentElement.style;function dn(e){let t=typeof e==`number`?{index:e}:e;return t.align||=`start`,(!t.behavior||!un)&&(t.behavior=`auto`),t.offset||=0,t}const fn=V(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:i,fixedHeaderHeight:a,footerHeight:o,headerHeight:s,scrollingInProgress:c,scrollTo:l,smoothScrollTargetReached:u,viewportHeight:d},{log:f}])=>{let p=z(),m=z(),h=L(0),g=null,_=null,v=null;function y(){g&&(g(),g=null),v&&(v(),v=null),_&&(clearTimeout(_),_=null),k(c,!1)}return j(F(p,I(n,d,r,h,s,o,f),I(e,a,i),P(([[e,n,r,i,a,o,s,l],d,f,h])=>{let b=dn(e),{align:ee,behavior:x,offset:S}=b,C=i-1,w=Xt(b,n,C),T=Jt(w,n.offsetTree,d)+o;ee===`end`?(T+=f+bt(n.sizeTree,w)[1]-r+h,w===C&&(T+=s)):ee===`center`?T+=(f+bt(n.sizeTree,w)[1]-r+h)/2:T-=a,S&&(T+=S);let te=t=>{y(),t?(l(`retrying to scroll to`,{location:e},W.DEBUG),k(p,e)):(k(m,!0),l(`list did not change, scroll successful`,{},W.DEBUG))};if(y(),x===`smooth`){let e=!1;v=O(t,t=>{e||=t}),g=Xe(u,()=>{te(e)})}else g=Xe(F(t,pn(150)),te);return _=setTimeout(()=>{y()},1200),k(c,!0),l(`scrolling from index to`,{behavior:x,index:w,top:T},W.DEBUG),{behavior:x,top:T}})),l),{scrollTargetReached:m,scrollToIndex:p,topListHeight:h}},D(on,G,ut),{singleton:!0});function pn(e){return t=>{let n=setTimeout(()=>{t(!1)},e);return e=>{e&&(t(!0),clearTimeout(n))}}}function mn(e,t){e==0?t():requestAnimationFrame(()=>{mn(e-1,t)})}function hn(e,t){let n=t-1;return typeof e==`number`?e:e.index===`LAST`?n:e.index}const gn=V(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:i,scrollToIndex:a},{didMount:o}])=>{let s=L(!0),c=L(0),l=L(!0);return j(F(o,I(c),N(([e,t])=>!!t),$e(!1)),s),j(F(o,I(c),N(([e,t])=>!!t),$e(!1)),l),O(F(H(t,o),I(s,n,e,l),N(([[,e],t,{sizeTree:n},r,i])=>e&&(!K(n)||We(r))&&!t&&!i),I(c)),([,e])=>{Xe(i,()=>{k(l,!0)}),mn(4,()=>{Xe(r,()=>{k(s,!0)}),k(a,e)})}),{initialItemFinalLocationReached:l,initialTopMostItemIndex:c,scrolledToInitialItem:s}},D(on,G,fn,ln),{singleton:!0});function _n(e,t){return Math.abs(e-t)<1.01}const vn=`up`,yn=`down`,bn=`none`,xn={atBottom:!1,notAtBottomBecause:`NOT_SHOWING_LAST_ITEM`,state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Sn=0,Cn=V(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:i,viewportHeight:a}])=>{let o=L(!1),s=L(!0),c=z(),l=z(),u=L(4),d=L(Sn),f=R(F(st(F(U(i),tt(1),$e(!0)),F(U(i),tt(1),$e(!1),Ze(100))),M()),!1),p=R(F(st(F(n,$e(!0)),F(n,$e(!1),Ze(200))),M()),!1);j(F(H(U(i),U(d)),P(([e,t])=>e<=t),M()),s),j(F(s,nt(50)),l);let m=B(F(H(r,U(a),U(t),U(e),U(u)),et((e,[{scrollHeight:t,scrollTop:n},r,i,a,o])=>{let s=n+r-t>-o,c={scrollHeight:t,scrollTop:n,viewportHeight:r};if(s){let t,r;return n>e.state.scrollTop?(t=`SCROLLED_DOWN`,r=e.state.scrollTop-n):(t=`SIZE_DECREASED`,r=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:r,state:c}}let l;return l=c.scrollHeight>e.state.scrollHeight?`SIZE_INCREASED`:r<e.state.viewportHeight?`VIEWPORT_HEIGHT_DECREASING`:n<e.state.scrollTop?`SCROLLING_UPWARDS`:`NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM`,{atBottom:!1,notAtBottomBecause:l,state:c}},xn),M((e,t)=>e&&e.atBottom===t.atBottom))),h=R(F(r,et((e,{scrollHeight:t,scrollTop:n,viewportHeight:r})=>{if(_n(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{let i=t-(n+r)<1;return e.scrollTop!==n&&i?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),N(e=>e.changed),P(e=>e.jump)),0);j(F(m,P(e=>e.atBottom)),o),j(F(o,nt(50)),c);let g=L(yn);j(F(r,P(({scrollTop:e})=>e),M(),et((e,t)=>A(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?vn:yn,prevScrollTop:t},{direction:yn,prevScrollTop:0}),P(e=>e.direction)),g),j(F(r,nt(50),$e(bn)),g);let _=L(0);return j(F(f,N(e=>!e),$e(0)),_),j(F(i,nt(100),I(f),N(([e,t])=>!!t),et(([e,t],[n])=>[t,n],[0,0]),P(([e,t])=>t-e)),_),{atBottomState:m,atBottomStateChange:c,atBottomThreshold:u,atTopStateChange:l,atTopThreshold:d,isAtBottom:o,isAtTop:s,isScrolling:f,lastJumpDueToItemResize:h,scrollDirection:g,scrollVelocity:_}},D(G)),wn=`top`,Tn=`bottom`,En=`none`;function Dn(e,t,n){return typeof e==`number`?n===vn&&t===wn||n===yn&&t===Tn?e:0:n===vn?t===wn?e.main:e.reverse:t===Tn?e.main:e.reverse}function On(e,t){var n;return typeof e==`number`?e:(n=e[t])??0}const kn=V(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:i}])=>{let a=z(),o=L(0),s=L(0),c=L(0),l=R(F(H(U(r),U(i),U(n),U(a,It),U(c),U(o),U(t),U(e),U(s)),P(([e,t,n,[r,i],a,o,s,c,l])=>{let u=e-c,d=o+s,f=Math.max(n-u,0),p=En,m=On(l,wn),h=On(l,Tn);return r-=c,r+=n+s,i+=n+s,i-=c,r>e+d-m&&(p=vn),i<e-f+t+h&&(p=yn),p===En?null:[Math.max(u-n-Dn(a,wn,p)-m,0),u-f-s+t+Dn(a,Tn,p)+h]}),N(e=>e!=null),M(It)),[0,0]);return{increaseViewportBy:s,listBoundary:a,overscan:c,topListHeight:o,visibleRange:l}},D(G),{singleton:!0});function An(e,t,n){if(Ht(t)){let r=Yt(e,t);return[{index:bt(t.groupOffsetTree,r)[0],offset:0,size:0},{data:n?.[0],index:r,offset:0,size:0}]}return[{data:n?.[0],index:e,offset:0,size:0}]}const jn={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Mn(e,t,n,r,i,a){let{lastIndex:o,lastOffset:s,lastSize:c}=i,l=0,u=0;if(e.length>0){l=e[0].offset;let t=e[e.length-1];u=t.offset+t.size}let d=n-o,f=s+d*c+(d-1)*r,p=l,m=f-u;return{bottom:u,firstItemIndex:a,items:Pn(e,i,a),offsetBottom:m,offsetTop:l,top:p,topItems:Pn(t,i,a),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function Nn(e,t,n,r,i,a){let o=0;if(n.groupIndices.length>0)for(let t of n.groupIndices){if(t-o>=e)break;o++}let s=e+o,c=hn(t,s),l=Array.from({length:s}).map((e,t)=>({data:a[t+c],index:t+c,offset:0,size:0}));return Mn(l,[],s,i,n,r)}function Pn(e,t,n){if(e.length===0)return[];if(!Ht(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));let r=e[0].index,i=e[e.length-1].index,a=[],o=St(t.groupOffsetTree,r,i),s,c=0;for(let r of e){(!s||s.end<r.index)&&(s=o.shift(),c=t.groupIndices.indexOf(s.start));let e;e=r.index===s.start?{index:c,type:`group`}:{groupIndex:c,index:r.index-(c+1)+n},a.push({...e,data:r.data,offset:r.offset,originalIndex:r.index,size:r.size})}return a}const Fn=V(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:i},a,{listBoundary:o,topListHeight:s,visibleRange:c},{initialTopMostItemIndex:l,scrolledToInitialItem:u},{topListHeight:d},f,{didMount:p},{recalcInProgress:m}])=>{let h=L([]),g=L(0),_=z();j(a.topItemsIndexes,h);let v=R(F(H(p,m,U(c,It),U(i),U(r),U(l),u,U(h),U(t),U(n),e),N(([e,t,,n,,,,,,,r])=>{let i=r&&r.length!==n;return e&&!t&&!i}),P(([,,[e,t],n,r,i,a,o,s,c,l])=>{let u=r,{offsetTree:d,sizeTree:f}=u,p=A(g);if(n===0)return{...jn,totalCount:n};if(e===0&&t===0)return p===0?{...jn,totalCount:n}:Nn(p,i,r,s,c,l||[]);if(K(f))return p>0?null:Mn(An(hn(i,n),u,l),[],n,c,u,s);let m=[];if(o.length>0){let e=o[0],t=o[o.length-1],n=0;for(let r of St(f,e,t)){let i=r.value,a=Math.max(r.start,e),o=Math.min(r.end,t);for(let e=a;e<=o;e++)m.push({data:l?.[e],index:e,offset:n,size:i}),n+=i}}if(!a)return Mn([],m,n,c,u,s);let h=o.length>0?o[o.length-1]+1:0,_=Zt(d,e,t,h);if(_.length===0)return null;let v=n-1,y=qe([],n=>{for(let r of _){let i=r.value,a=i.offset,o=r.start,s=i.size;if(i.offset<e){o+=Math.floor((e-i.offset+c)/(s+c));let t=o-r.start;a+=t*s+t*c}o<h&&(a+=(h-o)*s,o=h);let u=Math.min(r.end,v);for(let e=o;e<=u&&!(a>=t);e++)n.push({data:l?.[e],index:e,offset:a,size:s}),a+=s+c}});return Mn(y,m,n,c,u,s)}),N(e=>e!==null),M()),jn);j(F(e,N(We),P(e=>e?.length)),i),j(F(v,P(e=>e.topListHeight)),d),j(d,s),j(F(v,P(e=>[e.top,e.bottom])),o),j(F(v,P(e=>e.items)),_);let y=B(F(v,N(({items:e})=>e.length>0),I(i,e),N(([{items:e},t])=>e[e.length-1].originalIndex===t-1),P(([,e,t])=>[e-1,t]),M(It),P(([e])=>e))),b=B(F(v,nt(200),N(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),P(({items:e})=>e[0].index),M())),ee=B(F(v,N(({items:e})=>e.length>0),P(({items:e})=>{let t=0,n=e.length-1;for(;e[t].type===`group`&&t<n;)t++;for(;e[n].type===`group`&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),M(Ft)));return{endReached:y,initialItemCount:g,itemsRendered:_,listState:v,rangeChanged:ee,startReached:b,topItemsIndexes:h,...f}},D(on,cn,kn,gn,fn,Cn,ln,Lt),{singleton:!0}),In=V(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:i}])=>{let a=z(),o=R(F(H(n,e,r,t,i),P(([e,t,n,r,i])=>e+t+n+r+i.offsetBottom+i.bottom)),0);return j(U(o),a),{totalListHeight:o,totalListHeightChanged:a}},D(G,Fn),{singleton:!0}),Ln=V(([{viewportHeight:e},{totalListHeight:t}])=>{let n=L(!1),r=R(F(H(n,e,t),N(([e])=>e),P(([,e,t])=>Math.max(0,e-t)),nt(0),M()),0);return{alignToBottom:n,paddingTopAddition:r}},D(G,In),{singleton:!0});function Rn(e){return e?e===`smooth`?`smooth`:`auto`:!1}const zn=(e,t)=>typeof e==`function`?Rn(e(t)):t&&Rn(e),Bn=V(([{listRefresh:e,totalCount:t,fixedItemSize:n},{atBottomState:r,isAtBottom:i},{scrollToIndex:a},{scrolledToInitialItem:o},{didMount:s,propsReady:c},{log:l},{scrollingInProgress:u}])=>{let d=L(!1),f=z(),p=null;function m(e){k(a,{align:`end`,behavior:e,index:`LAST`})}O(F(H(F(U(t),tt(1)),s),I(U(d),i,o,u),P(([[e,t],n,r,i,a])=>{let o=t&&i,s=`auto`;return o&&(s=zn(n,r||a),o&&=!!s),{followOutputBehavior:s,shouldFollow:o,totalCount:e}}),N(({shouldFollow:e})=>e)),({followOutputBehavior:t,totalCount:r})=>{p&&(p(),p=null),A(n)?requestAnimationFrame(()=>{A(l)(`following output to `,{totalCount:r},W.DEBUG),m(t)}):p=Xe(e,()=>{A(l)(`following output to `,{totalCount:r},W.DEBUG),m(t),p=null})});function h(e){let t=Xe(r,t=>{e&&!t.atBottom&&t.notAtBottomBecause===`SIZE_INCREASED`&&!p&&(A(l)(`scrolling to bottom due to increased size`,{},W.DEBUG),m(`auto`))});setTimeout(t,100)}return O(F(H(U(d),t,c),N(([e,,t])=>e&&t),et(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),N(({refreshed:e})=>e),I(d,t)),([,e])=>{A(o)&&h(e!==!1)}),O(f,()=>{h(A(d)!==!1)}),O(H(U(d),r),([e,t])=>{e&&!t.atBottom&&t.notAtBottomBecause===`VIEWPORT_HEIGHT_DECREASING`&&m(`auto`)}),{autoscrollToBottom:f,followOutput:d}},D(on,Cn,fn,gn,ln,ut,G)),Vn=V(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(j(F(s,I(a),N(([,e])=>e!==0),I(i,r,t,n,e),P(([[,e],t,n,r,i,a=[]])=>Nn(e,t,n,r,i,a))),o),{}),D(on,gn,Fn,ln),{singleton:!0}),Hn=V(([{didMount:e},{scrollTo:t},{listState:n}])=>{let r=L(0);return O(F(e,I(r),N(([,e])=>e!==0),P(([,e])=>({top:e}))),e=>{Xe(F(n,tt(1),N(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{k(t,e)})})}),{initialScrollTop:r}},D(ln,G,Fn),{singleton:!0}),Un=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...i},viewportBottom:a,viewportTop:o})=>t<o?{...i,align:n??`start`,behavior:r}:e>a?{...i,align:n??`end`,behavior:r}:null,Wn=V(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,headerHeight:a,scrollingInProgress:o,scrollTop:s,viewportHeight:c},{scrollToIndex:l}])=>{let u=z();return j(F(u,I(t,c,n,a,i,r,s),I(e),P(([[e,t,n,r,i,a,s,c],l])=>{let{align:u,behavior:d,calculateViewLocation:f=Un,done:p,...m}=e,h=Xt(e,t,r-1),g=Jt(h,t.offsetTree,l)+i+a,_=g+bt(t.sizeTree,h)[1],v=c+a,y=c+n-s,b=f({itemBottom:_,itemTop:g,locationParams:{align:u,behavior:d,...m},viewportBottom:y,viewportTop:v});return b?p&&Xe(F(o,N(e=>!e),tt(A(o)?1:2)),p):p&&p(),b}),N(e=>e!==null)),l),{scrollIntoView:u}},D(on,G,fn,Fn,ut),{singleton:!0}),Gn=V(([{scrollVelocity:e}])=>{let t=L(!1),n=z(),r=L(!1);return j(F(e,I(r,t,n),N(([e,t])=>!!t),P(([e,t,n,r])=>{let{enter:i,exit:a}=t;if(n){if(a(e,r))return!1}else if(i(e,r))return!0;return n}),M()),t),O(F(H(t,e,n),I(r)),([[e,t,n],r])=>{e&&r&&r.change&&r.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},D(Cn),{singleton:!0}),Kn=V(([{scrollContainerState:e,scrollTo:t}])=>{let n=z(),r=z(),i=z(),a=L(!1),o=L(void 0);return j(F(H(n,r),P(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:r}])=>({scrollHeight:e,scrollTop:Math.max(0,t-r),viewportHeight:n}))),e),j(F(t,I(r),P(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),i),{customScrollParent:o,useWindowScroll:a,windowScrollContainerState:n,windowScrollTo:i,windowViewportRect:r}},D(G)),qn=V(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:c}])=>{let l=z(),u=L(void 0),d=L(null),f=L(null);return j(s,d),j(c,f),O(F(l,I(t,r,o,d,f,n)),([e,t,n,r,i,a,o])=>{let s=$t(t.sizeTree);r&&i!==null&&a!==null&&(n=i.scrollTop-a.offsetTop),n-=o,e({ranges:s,scrollTop:n})}),j(F(u,N(We),P(Jn)),i),j(F(a,I(u),N(([,e])=>e!==void 0),M(),P(([,e])=>e.ranges)),e),{getState:l,restoreStateFrom:u}},D(on,G,gn,ln,Kn));function Jn(e){return{align:`start`,index:0,offset:e.scrollTop}}const Yn=V(([{topItemsIndexes:e}])=>{let t=L(0);return j(F(t,N(e=>e>=0),P(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},D(Fn));function Xn(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const Zn=Xn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Qn=V(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:i,isScrolling:a,lastJumpDueToItemResize:o,scrollDirection:s},{listState:c},{beforeUnshiftWith:l,gap:u,shiftWithOffset:d,sizes:f},{log:p},{recalcInProgress:m}])=>{let h=B(F(c,I(o),et(([,e,t,n],[{bottom:r,items:i,offsetBottom:a,totalCount:o},s])=>{let c=r+a,l=0;return t===o&&e.length>0&&i.length>0&&(i[0].originalIndex===0&&e[0].originalIndex===0||(l=c-n,l!==0&&(l+=s))),[l,i,o,c]},[0,[],0,0]),N(([e])=>e!==0),I(r,s,n,i,p,m),N(([,e,t,n,,,r])=>!r&&!n&&e!==0&&t===vn),P(([[e],,,,,t])=>(t(`Upward scrolling compensation`,{amount:e},W.DEBUG),e))));function g(n){n>0?(k(t,{behavior:`auto`,top:-n}),k(e,0)):(k(e,0),k(t,{behavior:`auto`,top:-n}))}return O(F(h,I(e,a)),([t,n,r])=>{r&&Zn()?k(e,n-t):g(-t)}),O(F(H(R(a,!1),e,m),N(([e,t,n])=>!e&&!n&&t!==0),P(([e,t])=>t),nt(1)),g),j(F(d,P(e=>({top:-e}))),t),O(F(l,I(f,u),P(([e,{groupIndices:t,lastSize:n,sizeTree:r},i])=>{function a(e){return e*(n+i)}if(t.length===0)return a(e);{let n=0,i=yt(r,0),o=0,s=0;for(;o<e;){o++,n+=i;let r=t.length===s+1?1/0:t[s+1]-t[s]-1;o+r>e&&(n-=i,r=e-o+1),o+=r,n+=a(r),s++}return n}})),n=>{k(e,n),requestAnimationFrame(()=>{k(t,{top:n}),requestAnimationFrame(()=>{k(e,0),k(m,!1)})})}),{deviation:e}},D(G,Cn,Fn,on,ut,Lt)),$n=V(([e,t,n,r,i,a,o,s,c,l])=>({...e,...t,...n,...r,...i,...a,...o,...s,...c,...l}),D(kn,Vn,ln,Gn,In,Hn,Ln,Kn,Wn,ut)),er=V(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:i,groupIndices:a,itemSize:o,sizeRanges:s,sizes:c,statefulTotalCount:l,totalCount:u,trackItemSizes:d},{initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:m},h,g,_,{listState:v,topItemsIndexes:y,...b},{scrollToIndex:ee},x,{topItemCount:S},{groupCounts:C},w])=>(j(b.rangeChanged,w.scrollSeekRangeChanged),j(F(w.windowViewportRect,P(e=>e.visibleHeight)),h.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:i,groupCounts:C,initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:m,sizeRanges:s,topItemCount:S,topItemsIndexes:y,totalCount:u,..._,groupIndices:a,itemSize:o,listState:v,scrollToIndex:ee,statefulTotalCount:l,trackItemSizes:d,...b,...w,...h,sizes:c,...g}),D(on,gn,G,qn,Bn,Fn,fn,Qn,Yn,cn,$n));function tr(e,t){let n={},r={},i=0,a=e.length;for(;i<a;)r[e[i]]=1,i+=1;for(let e in t)Object.hasOwn(r,e)||(n[e]=t[e]);return n}const nr=typeof document<`u`?x.useLayoutEffect:x.useEffect;function rr(e,t,n){let r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),a=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),s=x.createContext({});function c(e,n){e.propsReady&&k(e.propsReady,!1);for(let i of r){let r=e[t.required[i]];k(r,n[i])}for(let r of i)if(r in n){let i=e[t.optional[r]];k(i,n[r])}e.propsReady&&k(e.propsReady,!0)}function l(e){return a.reduce((n,r)=>(n[r]=n=>{let i=e[t.methods[r]];k(i,n)},n),{})}function u(e){return o.reduce((n,r)=>(n[r]=it(e[t.events[r]]),n),{})}let d=x.forwardRef((t,a)=>{let{children:d,...f}=t,[p]=x.useState(()=>qe(ot(e),e=>{c(e,f)})),[m]=x.useState(He(u,p));nr(()=>{for(let e of o)e in f&&O(m[e],f[e]);return()=>{Object.values(m).map(Ye)}},[f,m,p]),nr(()=>{c(p,f)}),x.useImperativeHandle(a,ze(l(p)));let h=n;return(0,E.jsx)(s.Provider,{value:p,children:n?(0,E.jsx)(h,{...tr([...r,...i,...o],f),children:d}):d})}),f=e=>{let t=x.useContext(s);return x.useCallback(n=>{k(t[e],n)},[t,e])},p=e=>{let t=x.useContext(s)[e],n=x.useCallback(e=>O(t,e),[t]);return x.useSyncExternalStore(n,()=>A(t),()=>A(t))},m=e=>{let t=x.useContext(s)[e],[n,r]=x.useState(He(A,t));return nr(()=>O(t,e=>{e!==n&&r(ze(e))}),[t,n]),n},h=x.version.startsWith(`18`)?p:m;return{Component:d,useEmitter:(e,t)=>{let n=x.useContext(s)[e];nr(()=>O(n,t),[t,n])},useEmitterValue:h,usePublisher:f}}const ir=x.createContext(void 0),ar=x.createContext(void 0),or=typeof document<`u`?x.useLayoutEffect:x.useEffect;function sr(e){return`self`in e}function cr(e){return`body`in e}function lr(e,t,n,r=Ke,i,a){let o=x.useRef(null),s=x.useRef(null),c=x.useRef(null),l=x.useCallback(n=>{let r,i,o,l=n.target;if(cr(l)||sr(l)){let e=sr(l)?l:l.defaultView;o=a?e.scrollX:e.scrollY,r=a?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,i=a?e.innerWidth:e.innerHeight}else o=a?l.scrollLeft:l.scrollTop,r=a?l.scrollWidth:l.scrollHeight,i=a?l.offsetWidth:l.offsetHeight;let u=()=>{e({scrollHeight:r,scrollTop:Math.max(o,0),viewportHeight:i})};n.suppressFlushSync?u():Pe.flushSync(u),s.current!==null&&(o===s.current||o<=0||o===r-i)&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,a]);x.useEffect(()=>{let e=i||o.current;return r(i||o.current),l({suppressFlushSync:!0,target:e}),e.addEventListener(`scroll`,l,{passive:!0}),()=>{r(null),e.removeEventListener(`scroll`,l)}},[o,l,n,r,i]);function u(n){let r=o.current;if(!r||(a?`offsetWidth`in r&&r.offsetWidth===0:`offsetHeight`in r&&r.offsetHeight===0))return;let i=n.behavior===`smooth`,l,u,d;sr(r)?(u=Math.max(Vt(r.document.documentElement,a?`width`:`height`),a?r.document.documentElement.scrollWidth:r.document.documentElement.scrollHeight),l=a?r.innerWidth:r.innerHeight,d=a?window.scrollX:window.scrollY):(u=r[a?`scrollWidth`:`scrollHeight`],l=Vt(r,a?`width`:`height`),d=r[a?`scrollLeft`:`scrollTop`]);let f=u-l;if(n.top=Math.ceil(Math.max(Math.min(f,n.top),0)),_n(l,u)||n.top===d){e({scrollHeight:u,scrollTop:d,viewportHeight:l}),i&&t(!0);return}i?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,s.current=null,t(!0)},1e3)):s.current=null,a&&(n={behavior:n.behavior,left:n.top}),r.scrollTo(n)}function d(e){a&&(e={behavior:e.behavior,left:e.top}),o.current.scrollBy(e)}return{scrollByCallback:d,scrollerRef:o,scrollToCallback:u}}const ur=`-webkit-sticky`,dr=`sticky`,fr=Xn(()=>{if(typeof document>`u`)return dr;let e=document.createElement(`div`);return e.style.position=ur,e.style.position===ur?ur:dr});function pr(e){return e}const mr=V(()=>{let e=L(e=>`Item ${e}`),t=L(null),n=L(e=>`Group ${e}`),r=L({}),i=L(pr),a=L(`div`),o=L(Ke),s=(e,t=null)=>R(F(r,P(t=>t[e]),M()),t);return{components:r,computeItemKey:i,context:t,EmptyPlaceholder:s(`EmptyPlaceholder`),FooterComponent:s(`Footer`),GroupComponent:s(`Group`,`div`),groupContent:n,HeaderComponent:s(`Header`),HeaderFooterTag:a,ItemComponent:s(`Item`,`div`),itemContent:e,ListComponent:s(`List`,`div`),ScrollerComponent:s(`Scroller`,`div`),scrollerRef:o,ScrollSeekPlaceholder:s(`ScrollSeekPlaceholder`),TopItemListComponent:s(`TopItemList`)}}),hr=V(([e,t])=>({...e,...t}),D(er,mr)),gr=({height:e})=>(0,E.jsx)(`div`,{style:{height:e}}),_r={overflowAnchor:`none`,position:fr(),zIndex:1},vr={overflowAnchor:`none`},yr={...vr,display:`inline-block`,height:`100%`},br=x.memo(function({showTopList:e=!1}){let t=X(`listState`),n=Ir(`sizeRanges`),r=X(`useWindowScroll`),i=X(`customScrollParent`),a=Ir(`windowScrollContainerState`),o=Ir(`scrollContainerState`),s=i||r?a:o,c=X(`itemContent`),l=X(`context`),u=X(`groupContent`),d=X(`trackItemSizes`),f=X(`itemSize`),p=X(`log`),m=Ir(`gap`),h=X(`horizontalDirection`),{callbackRef:g}=pt(n,f,d,e?Ke:s,p,m,i,h,X(`skipAnimationFrameInResizeObserver`)),[_,v]=x.useState(0);Fr(`deviation`,e=>{_!==e&&v(e)});let y=X(`EmptyPlaceholder`),b=X(`ScrollSeekPlaceholder`)||gr,ee=X(`ListComponent`),S=X(`ItemComponent`),C=X(`GroupComponent`),w=X(`computeItemKey`),T=X(`isSeeking`),te=X(`groupIndices`).length>0,ne=X(`alignToBottom`),re=X(`initialItemFinalLocationReached`),ie=e?{}:{boxSizing:`border-box`,...h?{display:`inline-block`,height:`100%`,marginLeft:_===0?ne?`auto`:0:_,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:`nowrap`}:{marginTop:_===0?ne?`auto`:0:_,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...re?{}:{visibility:`hidden`}};return!e&&t.totalCount===0&&y?(0,E.jsx)(y,{...Y(y,l)}):(0,E.jsx)(ee,{...Y(ee,l),"data-testid":e?`virtuoso-top-item-list`:`virtuoso-item-list`,ref:g,style:ie,children:(e?t.topItems:t.items).map(e=>{let n=e.originalIndex,r=w(n+t.firstItemIndex,e.data,l);return T?(0,x.createElement)(b,{...Y(b,l),height:e.size,index:e.index,key:r,type:e.type||`item`,...e.type===`group`?{}:{groupIndex:e.groupIndex}}):e.type===`group`?(0,x.createElement)(C,{...Y(C,l),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:r,style:_r},u(e.index,l)):(0,x.createElement)(S,{...Y(S,l),...Tr(S,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:r,style:h?yr:vr},te?c(e.index,e.groupIndex,e.data,l):c(e.index,e.data,l))})})}),xr={height:`100%`,outline:`none`,overflowY:`auto`,position:`relative`,WebkitOverflowScrolling:`touch`},Sr={outline:`none`,overflowX:`auto`,position:`relative`},Cr=e=>({height:`100%`,position:`absolute`,top:0,width:`100%`,...e?{display:`flex`,flexDirection:`column`}:{}}),wr={position:fr(),top:0,width:`100%`,zIndex:1};function Y(e,t){if(typeof e!=`string`)return{context:t}}function Tr(e,t){return{item:typeof e==`string`?void 0:t}}const Er=x.memo(function(){let e=X(`HeaderComponent`),t=Ir(`headerHeight`),n=X(`HeaderFooterTag`),r=dt(x.useMemo(()=>e=>{t(Vt(e,`height`))},[t]),!0,X(`skipAnimationFrameInResizeObserver`)),i=X(`context`);return e?(0,E.jsx)(n,{ref:r,children:(0,E.jsx)(e,{...Y(e,i)})}):null}),Dr=x.memo(function(){let e=X(`FooterComponent`),t=Ir(`footerHeight`),n=X(`HeaderFooterTag`),r=dt(x.useMemo(()=>e=>{t(Vt(e,`height`))},[t]),!0,X(`skipAnimationFrameInResizeObserver`)),i=X(`context`);return e?(0,E.jsx)(n,{ref:r,children:(0,E.jsx)(e,{...Y(e,i)})}):null});function Or({useEmitter:e,useEmitterValue:t,usePublisher:n}){return x.memo(function({children:r,style:i,...a}){let o=n(`scrollContainerState`),s=t(`ScrollerComponent`),c=n(`smoothScrollTargetReached`),l=t(`scrollerRef`),u=t(`context`),d=t(`horizontalDirection`)||!1,{scrollByCallback:f,scrollerRef:p,scrollToCallback:m}=lr(o,c,s,l,void 0,d);return e(`scrollTo`,m),e(`scrollBy`,f),(0,E.jsx)(s,{"data-testid":`virtuoso-scroller`,"data-virtuoso-scroller":!0,ref:p,style:{...d?Sr:xr,...i},tabIndex:0,...a,...Y(s,u),children:r})})}function kr({useEmitter:e,useEmitterValue:t,usePublisher:n}){return x.memo(function({children:r,style:i,...a}){let o=n(`windowScrollContainerState`),s=t(`ScrollerComponent`),c=n(`smoothScrollTargetReached`),l=t(`totalListHeight`),u=t(`deviation`),d=t(`customScrollParent`),f=t(`context`),p=x.useRef(null),m=t(`scrollerRef`),{scrollByCallback:h,scrollerRef:g,scrollToCallback:_}=lr(o,c,s,m,d);return or(()=>{var e;return g.current=d||(e=p.current)?.ownerDocument.defaultView,()=>{g.current=null}},[g,d]),e(`windowScrollTo`,_),e(`scrollBy`,h),(0,E.jsx)(s,{ref:p,"data-virtuoso-scroller":!0,style:{position:`relative`,...i,...l===0?{}:{height:l+u}},...a,...Y(s,f),children:r})})}const Ar=({children:e})=>{let t=x.useContext(ir),n=Ir(`viewportHeight`),r=Ir(`fixedItemHeight`),i=X(`alignToBottom`),a=X(`horizontalDirection`),o=x.useMemo(()=>Ve(n,e=>Vt(e,a?`width`:`height`)),[n,a]),s=dt(o,!0,X(`skipAnimationFrameInResizeObserver`));return x.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,E.jsx)(`div`,{"data-viewport-type":`element`,ref:s,style:Cr(i),children:e})},jr=({children:e})=>{let t=x.useContext(ir),n=Ir(`windowViewportRect`),r=Ir(`fixedItemHeight`),i=X(`customScrollParent`),a=gt(n,i,X(`skipAnimationFrameInResizeObserver`)),o=X(`alignToBottom`);return x.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,E.jsx)(`div`,{"data-viewport-type":`window`,ref:a,style:Cr(o),children:e})},Mr=({children:e})=>{let t=X(`TopItemListComponent`)||`div`,n=X(`headerHeight`),r={...wr,marginTop:`${n}px`},i=X(`context`);return(0,E.jsx)(t,{style:r,...Y(t,i),children:e})},Nr=x.memo(function(e){let t=X(`useWindowScroll`),n=X(`topItemsIndexes`).length>0,r=X(`customScrollParent`),i=X(`context`),a=r||t?Rr:Lr,o=r||t?jr:Ar;return(0,E.jsxs)(a,{...e,...Y(a,i),children:[n&&(0,E.jsx)(Mr,{children:(0,E.jsx)(br,{showTopList:!0})}),(0,E.jsxs)(o,{children:[(0,E.jsx)(Er,{}),(0,E.jsx)(br,{}),(0,E.jsx)(Dr,{})]})]})}),{Component:Pr,useEmitter:Fr,useEmitterValue:X,usePublisher:Ir}=rr(hr,{required:{},optional:{restoreStateFrom:`restoreStateFrom`,context:`context`,followOutput:`followOutput`,itemContent:`itemContent`,groupContent:`groupContent`,overscan:`overscan`,increaseViewportBy:`increaseViewportBy`,totalCount:`totalCount`,groupCounts:`groupCounts`,topItemCount:`topItemCount`,firstItemIndex:`firstItemIndex`,initialTopMostItemIndex:`initialTopMostItemIndex`,components:`components`,atBottomThreshold:`atBottomThreshold`,atTopThreshold:`atTopThreshold`,computeItemKey:`computeItemKey`,defaultItemHeight:`defaultItemHeight`,fixedItemHeight:`fixedItemHeight`,itemSize:`itemSize`,scrollSeekConfiguration:`scrollSeekConfiguration`,headerFooterTag:`HeaderFooterTag`,data:`data`,initialItemCount:`initialItemCount`,initialScrollTop:`initialScrollTop`,alignToBottom:`alignToBottom`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`,horizontalDirection:`horizontalDirection`,skipAnimationFrameInResizeObserver:`skipAnimationFrameInResizeObserver`},methods:{scrollToIndex:`scrollToIndex`,scrollIntoView:`scrollIntoView`,scrollTo:`scrollTo`,scrollBy:`scrollBy`,autoscrollToBottom:`autoscrollToBottom`,getState:`getState`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,totalListHeightChanged:`totalListHeightChanged`,itemsRendered:`itemsRendered`,groupIndices:`groupIndices`}},Nr),Lr=Or({useEmitter:Fr,useEmitterValue:X,usePublisher:Ir}),Rr=kr({useEmitter:Fr,useEmitterValue:X,usePublisher:Ir}),zr=Pr,Br=Pr,Vr=V(()=>{let e=L(e=>(0,E.jsxs)(`td`,{children:[`Item $`,e]})),t=L(null),n=L(e=>(0,E.jsxs)(`td`,{colSpan:1e3,children:[`Group `,e]})),r=L(null),i=L(null),a=L({}),o=L(pr),s=L(Ke),c=(e,t=null)=>R(F(a,P(t=>t[e]),M()),t);return{components:a,computeItemKey:o,context:t,EmptyPlaceholder:c(`EmptyPlaceholder`),FillerRow:c(`FillerRow`),fixedFooterContent:i,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:c(`Scroller`,`div`),scrollerRef:s,ScrollSeekPlaceholder:c(`ScrollSeekPlaceholder`),TableBodyComponent:c(`TableBody`,`tbody`),TableComponent:c(`Table`,`table`),TableFooterComponent:c(`TableFoot`,`tfoot`),TableHeadComponent:c(`TableHead`,`thead`),TableRowComponent:c(`TableRow`,`tr`),GroupComponent:c(`Group`,`tr`)}}),Hr=V(([e,t])=>({...e,...t}),D(er,Vr)),Ur=({height:e})=>(0,E.jsx)(`tr`,{children:(0,E.jsx)(`td`,{style:{height:e}})}),Wr=({height:e})=>(0,E.jsx)(`tr`,{children:(0,E.jsx)(`td`,{style:{border:0,height:e,padding:0}})}),Gr={overflowAnchor:`none`},Kr={position:fr(),zIndex:2,overflowAnchor:`none`},qr=x.memo(function({showTopList:e=!1}){let t=Z(`listState`),n=Z(`computeItemKey`),r=Z(`firstItemIndex`),i=Z(`context`),a=Z(`isSeeking`),o=Z(`fixedHeaderHeight`),s=Z(`groupIndices`).length>0,c=Z(`itemContent`),l=Z(`groupContent`),u=Z(`ScrollSeekPlaceholder`)||Ur,d=Z(`GroupComponent`),f=Z(`TableRowComponent`),p=(e?t.topItems:[]).reduce((e,t,n)=>(n===0?e.push(t.size):e.push(e[n-1]+t.size),e),[]),m=(e?t.topItems:t.items).map(t=>{let m=t.originalIndex,h=n(m+r,t.data,i),g=e?m===0?0:p[m-1]:0;return a?(0,x.createElement)(u,{...Y(u,i),height:t.size,index:t.index,key:h,type:t.type||`item`}):t.type===`group`?(0,x.createElement)(d,{...Y(d,i),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,key:h,style:{...Kr,top:o}},l(t.index,i)):(0,x.createElement)(f,{...Y(f,i),...Tr(f,t.data),"data-index":m,"data-item-index":t.index,"data-known-size":t.size,"data-item-group-index":t.groupIndex,key:h,style:e?{...Kr,top:o+g}:Gr},s?c(t.index,t.groupIndex,t.data,i):c(t.index,t.data,i))});return(0,E.jsx)(E.Fragment,{children:m})}),Jr=x.memo(function(){let e=Z(`listState`),t=Z(`topItemsIndexes`).length>0,n=ei(`sizeRanges`),r=Z(`useWindowScroll`),i=Z(`customScrollParent`),a=ei(`windowScrollContainerState`),o=ei(`scrollContainerState`),s=i||r?a:o,c=Z(`trackItemSizes`),l=Z(`itemSize`),u=Z(`log`),{callbackRef:d,ref:f}=pt(n,l,c,s,u,void 0,i,!1,Z(`skipAnimationFrameInResizeObserver`)),[p,m]=x.useState(0);$r(`deviation`,e=>{p!==e&&(f.current.style.marginTop=`${e}px`,m(e))});let h=Z(`EmptyPlaceholder`),g=Z(`FillerRow`)||Wr,_=Z(`TableBodyComponent`),v=Z(`paddingTopAddition`),y=Z(`statefulTotalCount`),b=Z(`context`);if(y===0&&h)return(0,E.jsx)(h,{...Y(h,b)});let ee=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),S=e.offsetTop+v+p-ee,C=e.offsetBottom,w=S>0?(0,E.jsx)(g,{context:b,height:S},`padding-top`):null,T=C>0?(0,E.jsx)(g,{context:b,height:C},`padding-bottom`):null;return(0,E.jsxs)(_,{"data-testid":`virtuoso-item-list`,ref:d,...Y(_,b),children:[w,t&&(0,E.jsx)(qr,{showTopList:!0}),(0,E.jsx)(qr,{}),T]})}),Yr=({children:e})=>{let t=x.useContext(ir),n=ei(`viewportHeight`),r=ei(`fixedItemHeight`),i=dt(x.useMemo(()=>Ve(n,e=>Vt(e,`height`)),[n]),!0,Z(`skipAnimationFrameInResizeObserver`));return x.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,E.jsx)(`div`,{"data-viewport-type":`element`,ref:i,style:Cr(!1),children:e})},Xr=({children:e})=>{let t=x.useContext(ir),n=ei(`windowViewportRect`),r=ei(`fixedItemHeight`),i=Z(`customScrollParent`),a=gt(n,i,Z(`skipAnimationFrameInResizeObserver`));return x.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,E.jsx)(`div`,{"data-viewport-type":`window`,ref:a,style:Cr(!1),children:e})},Zr=x.memo(function(e){let t=Z(`useWindowScroll`),n=Z(`customScrollParent`),r=ei(`fixedHeaderHeight`),i=ei(`fixedFooterHeight`),a=Z(`fixedHeaderContent`),o=Z(`fixedFooterContent`),s=Z(`context`),c=dt(x.useMemo(()=>Ve(r,e=>Vt(e,`height`)),[r]),!0,Z(`skipAnimationFrameInResizeObserver`)),l=dt(x.useMemo(()=>Ve(i,e=>Vt(e,`height`)),[i]),!0,Z(`skipAnimationFrameInResizeObserver`)),u=n||t?ni:ti,d=n||t?Xr:Yr,f=Z(`TableComponent`),p=Z(`TableHeadComponent`),m=Z(`TableFooterComponent`),h=a?(0,E.jsx)(p,{ref:c,style:{position:`sticky`,top:0,zIndex:2},...Y(p,s),children:a()},`TableHead`):null,g=o?(0,E.jsx)(m,{ref:l,style:{bottom:0,position:`sticky`,zIndex:1},...Y(m,s),children:o()},`TableFoot`):null;return(0,E.jsx)(u,{...e,...Y(u,s),children:(0,E.jsx)(d,{children:(0,E.jsxs)(f,{style:{borderSpacing:0,overflowAnchor:`none`},...Y(f,s),children:[h,(0,E.jsx)(Jr,{},`TableBody`),g]})})})}),{Component:Qr,useEmitter:$r,useEmitterValue:Z,usePublisher:ei}=rr(Hr,{required:{},optional:{restoreStateFrom:`restoreStateFrom`,context:`context`,followOutput:`followOutput`,firstItemIndex:`firstItemIndex`,itemContent:`itemContent`,groupContent:`groupContent`,fixedHeaderContent:`fixedHeaderContent`,fixedFooterContent:`fixedFooterContent`,overscan:`overscan`,increaseViewportBy:`increaseViewportBy`,totalCount:`totalCount`,topItemCount:`topItemCount`,initialTopMostItemIndex:`initialTopMostItemIndex`,components:`components`,groupCounts:`groupCounts`,atBottomThreshold:`atBottomThreshold`,atTopThreshold:`atTopThreshold`,computeItemKey:`computeItemKey`,defaultItemHeight:`defaultItemHeight`,fixedItemHeight:`fixedItemHeight`,itemSize:`itemSize`,scrollSeekConfiguration:`scrollSeekConfiguration`,data:`data`,initialItemCount:`initialItemCount`,initialScrollTop:`initialScrollTop`,alignToBottom:`alignToBottom`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`},methods:{scrollToIndex:`scrollToIndex`,scrollIntoView:`scrollIntoView`,scrollTo:`scrollTo`,scrollBy:`scrollBy`,getState:`getState`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,totalListHeightChanged:`totalListHeightChanged`,itemsRendered:`itemsRendered`,groupIndices:`groupIndices`}},Zr),ti=Or({useEmitter:$r,useEmitterValue:Z,usePublisher:ei}),ni=kr({useEmitter:$r,useEmitterValue:Z,usePublisher:ei}),ri=Qr,ii=Qr,ai={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},oi={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:si,floor:ci,max:li,min:ui,round:di}=Math;function fi(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>({data:n===null?null:n[r+e],index:r+e}))}function pi(e){return{...oi,items:e}}function mi(e,t){return e&&e.width===t.width&&e.height===t.height}function hi(e,t){return e&&e.column===t.column&&e.row===t.row}const gi=V(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:i,headerHeight:a,scrollBy:o,scrollContainerState:s,scrollTo:c,scrollTop:l,smoothScrollTargetReached:u,viewportHeight:d},f,p,{didMount:m,propsReady:h},{customScrollParent:g,useWindowScroll:_,windowScrollContainerState:v,windowScrollTo:y,windowViewportRect:b},ee])=>{let x=L(0),S=L(0),C=L(ai),w=L({height:0,width:0}),T=L({height:0,width:0}),te=z(),ne=z(),re=L(0),E=L(null),ie=L({column:0,row:0}),ae=z(),oe=z(),se=L(!1),ce=L(0),le=L(!0),ue=L(!1),de=L(!1);O(F(m,I(ce),N(([e,t])=>!!t)),()=>{k(le,!1)}),O(F(H(m,le,T,w,ce,ue),N(([e,t,n,r,,i])=>e&&!t&&n.height!==0&&r.height!==0&&!i)),([,,,,e])=>{k(ue,!0),mn(1,()=>{k(te,e)}),Xe(F(l),()=>{k(t,[0,0]),k(le,!0)})}),j(F(oe,N(e=>e!=null&&e.scrollTop>0),$e(0)),S),O(F(m,I(oe),N(([,e])=>e!=null)),([,e])=>{e&&(k(w,e.viewport),k(T,e.item),k(ie,e.gap),e.scrollTop>0&&(k(se,!0),Xe(F(l,tt(1)),e=>{k(se,!1)}),k(c,{top:e.scrollTop})))}),j(F(w,P(({height:e})=>e)),d),j(F(H(U(w,mi),U(T,mi),U(ie,(e,t)=>e&&e.column===t.column&&e.row===t.row),U(l)),P(([e,t,n,r])=>({gap:n,item:t,scrollTop:r,viewport:e}))),ae),j(F(H(U(x),r,U(ie,hi),U(T,mi),U(w,mi),U(E),U(S),U(se),U(le),U(ce)),N(([,,,,,,,e])=>!e),P(([e,[t,n],r,i,a,o,s,,c,l])=>{let{column:u,row:d}=r,{height:f,width:p}=i,{width:m}=a;if(s===0&&(e===0||m===0))return ai;if(p===0){let t=hn(l,e),n=t+Math.max(s-1,0);return pi(fi(t,n,o))}let h=_i(m,p,u),g,_;c?t===0&&n===0&&s>0?(g=0,_=s-1):(g=h*ci((t+d)/(f+d)),_=h*si((n+d)/(f+d))-1,_=ui(e-1,li(_,h-1)),g=ui(_,li(0,g))):(g=0,_=-1);let v=fi(g,_,o),{bottom:y,top:b}=vi(a,r,i,v),ee=si(e/h),x=ee*f+(ee-1)*d-y;return{bottom:y,itemHeight:f,items:v,itemWidth:p,offsetBottom:x,offsetTop:b,top:b}})),C),j(F(E,N(e=>e!==null),P(e=>e.length)),x),j(F(H(w,T,C,ie),N(([e,t,{items:n}])=>n.length>0&&t.height!==0&&e.height!==0),P(([e,t,{items:n},r])=>{let{bottom:i,top:a}=vi(e,r,t,n);return[a,i]}),M(It)),t);let fe=L(!1);j(F(l,I(fe),P(([e,t])=>t||e!==0)),fe);let pe=B(F(H(C,x),N(([{items:e}])=>e.length>0),I(fe),N(([[e,t],n])=>{let r=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&e.offsetBottom===0&&e.items.length===t)&&r}),P(([[,e]])=>e-1),M())),me=B(F(U(C),N(({items:e})=>e.length>0&&e[0].index===0),$e(0),M())),he=B(F(U(C),I(se),N(([{items:e},t])=>e.length>0&&!t),P(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),M(Ft),nt(0)));j(he,p.scrollSeekRangeChanged),j(F(te,I(w,T,x,ie),P(([e,t,n,r,i])=>{let a=dn(e),{align:o,behavior:s,offset:c}=a,l=a.index;l===`LAST`&&(l=r-1),l=li(0,l,ui(r-1,l));let u=yi(t,i,n,l);return o===`end`?u=di(u-t.height+n.height):o===`center`&&(u=di(u-t.height/2+n.height/2)),c&&(u+=c),{behavior:s,top:u}})),c);let ge=R(F(C,P(e=>e.offsetBottom+e.bottom)),0);return j(F(b,P(e=>({height:e.visibleHeight,width:e.visibleWidth}))),w),{customScrollParent:g,data:E,deviation:re,footerHeight:i,gap:ie,headerHeight:a,increaseViewportBy:e,initialItemCount:S,itemDimensions:T,overscan:n,restoreStateFrom:oe,scrollBy:o,scrollContainerState:s,scrollHeight:ne,scrollTo:c,scrollToIndex:te,scrollTop:l,smoothScrollTargetReached:u,totalCount:x,useWindowScroll:_,viewportDimensions:w,windowScrollContainerState:v,windowScrollTo:y,windowViewportRect:b,...p,gridState:C,horizontalDirection:de,initialTopMostItemIndex:ce,totalListHeight:ge,...f,endReached:pe,propsReady:h,rangeChanged:he,startReached:me,stateChanged:ae,stateRestoreInProgress:se,...ee}},D(kn,G,Cn,Gn,ln,Kn,ut));function _i(e,t,n){return li(1,ci((e+n)/(ci(t)+n)))}function vi(e,t,n,r){let{height:i}=n;if(i===void 0||r.length===0)return{bottom:0,top:0};let a=yi(e,t,n,r[0].index);return{bottom:yi(e,t,n,r[r.length-1].index)+i,top:a}}function yi(e,t,n,r){let i=_i(e.width,n.width,t.column),a=ci(r/i),o=a*n.height+li(0,a-1)*t.row;return o>0?o+t.row:o}const bi=V(()=>{let e=L(e=>`Item ${e}`),t=L({}),n=L(null),r=L(`virtuoso-grid-item`),i=L(`virtuoso-grid-list`),a=L(pr),o=L(`div`),s=L(Ke),c=(e,n=null)=>R(F(t,P(t=>t[e]),M()),n),l=L(!1),u=L(!1);return j(U(u),l),{components:t,computeItemKey:a,context:n,FooterComponent:c(`Footer`),HeaderComponent:c(`Header`),headerFooterTag:o,itemClassName:r,ItemComponent:c(`Item`,`div`),itemContent:e,listClassName:i,ListComponent:c(`List`,`div`),readyStateChanged:l,reportReadyState:u,ScrollerComponent:c(`Scroller`,`div`),scrollerRef:s,ScrollSeekPlaceholder:c(`ScrollSeekPlaceholder`,`div`)}}),xi=V(([e,t])=>({...e,...t}),D(gi,bi)),Si=x.memo(function(){let e=Q(`gridState`),t=Q(`listClassName`),n=Q(`itemClassName`),r=Q(`itemContent`),i=Q(`computeItemKey`),a=Q(`isSeeking`),o=$(`scrollHeight`),s=Q(`ItemComponent`),c=Q(`ListComponent`),l=Q(`ScrollSeekPlaceholder`),u=Q(`context`),d=$(`itemDimensions`),f=$(`gap`),p=Q(`log`),m=Q(`stateRestoreInProgress`),h=$(`reportReadyState`),g=dt(x.useMemo(()=>e=>{let t=e.parentElement.parentElement.scrollHeight;o(t);let n=e.firstChild;if(n){let{height:e,width:t}=n.getBoundingClientRect();d({height:e,width:t})}f({column:Mi(`column-gap`,getComputedStyle(e).columnGap,p),row:Mi(`row-gap`,getComputedStyle(e).rowGap,p)})},[o,d,f,p]),!0,!1);return or(()=>{e.itemHeight>0&&e.itemWidth>0&&h(!0)},[e]),m?null:(0,E.jsx)(c,{className:t,ref:g,...Y(c,u),"data-testid":`virtuoso-item-list`,style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{let o=i(t.index,t.data,u);return a?(0,E.jsx)(l,{...Y(l,u),height:e.itemHeight,index:t.index,width:e.itemWidth},o):(0,x.createElement)(s,{...Y(s,u),className:n,"data-index":t.index,key:o},r(t.index,t.data,u))})})}),Ci=x.memo(function(){let e=Q(`HeaderComponent`),t=$(`headerHeight`),n=Q(`headerFooterTag`),r=dt(x.useMemo(()=>e=>{t(Vt(e,`height`))},[t]),!0,!1),i=Q(`context`);return e?(0,E.jsx)(n,{ref:r,children:(0,E.jsx)(e,{...Y(e,i)})}):null}),wi=x.memo(function(){let e=Q(`FooterComponent`),t=$(`footerHeight`),n=Q(`headerFooterTag`),r=dt(x.useMemo(()=>e=>{t(Vt(e,`height`))},[t]),!0,!1),i=Q(`context`);return e?(0,E.jsx)(n,{ref:r,children:(0,E.jsx)(e,{...Y(e,i)})}):null}),Ti=({children:e})=>{let t=x.useContext(ar),n=$(`itemDimensions`),r=$(`viewportDimensions`),i=dt(x.useMemo(()=>e=>{r(e.getBoundingClientRect())},[r]),!0,!1);return x.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),(0,E.jsx)(`div`,{ref:i,style:Cr(!1),children:e})},Ei=({children:e})=>{let t=x.useContext(ar),n=$(`windowViewportRect`),r=$(`itemDimensions`),i=Q(`customScrollParent`),a=gt(n,i,!1);return x.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),(0,E.jsx)(`div`,{ref:a,style:Cr(!1),children:e})},Di=x.memo(function({...e}){let t=Q(`useWindowScroll`),n=Q(`customScrollParent`),r=n||t?ji:Ai,i=n||t?Ei:Ti,a=Q(`context`);return(0,E.jsx)(r,{...e,...Y(r,a),children:(0,E.jsxs)(i,{children:[(0,E.jsx)(Ci,{}),(0,E.jsx)(Si,{}),(0,E.jsx)(wi,{})]})})}),{Component:Oi,useEmitter:ki,useEmitterValue:Q,usePublisher:$}=rr(xi,{optional:{context:`context`,totalCount:`totalCount`,overscan:`overscan`,itemContent:`itemContent`,components:`components`,computeItemKey:`computeItemKey`,data:`data`,initialItemCount:`initialItemCount`,scrollSeekConfiguration:`scrollSeekConfiguration`,headerFooterTag:`headerFooterTag`,listClassName:`listClassName`,itemClassName:`itemClassName`,useWindowScroll:`useWindowScroll`,customScrollParent:`customScrollParent`,scrollerRef:`scrollerRef`,logLevel:`logLevel`,restoreStateFrom:`restoreStateFrom`,initialTopMostItemIndex:`initialTopMostItemIndex`,increaseViewportBy:`increaseViewportBy`},methods:{scrollTo:`scrollTo`,scrollBy:`scrollBy`,scrollToIndex:`scrollToIndex`},events:{isScrolling:`isScrolling`,endReached:`endReached`,startReached:`startReached`,rangeChanged:`rangeChanged`,atBottomStateChange:`atBottomStateChange`,atTopStateChange:`atTopStateChange`,stateChanged:`stateChanged`,readyStateChanged:`readyStateChanged`}},Di),Ai=Or({useEmitter:ki,useEmitterValue:Q,usePublisher:$}),ji=kr({useEmitter:ki,useEmitterValue:Q,usePublisher:$});function Mi(e,t,n){return t!==`normal`&&!(t!=null&&t.endsWith(`px`))&&n(`${e} was not resolved to pixel value correctly`,t,W.WARN),t===`normal`?0:parseInt(t??`0`,10)}const Ni=Oi;var Pi=i(c());const Fi=e=>{let t=(0,Pi.c)(7),n;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(n={getElement:Ii},t[0]=n):n=t[0];let r=ee(n),i;t[1]!==e||t[2]!==r?.scrollY?(i=()=>{r?.scrollY&&e&&window.scrollTo(0,r?.scrollY)},t[1]=e,t[2]=r?.scrollY,t[3]=i):i=t[3];let a=r?.scrollY,o;t[4]!==e||t[5]!==a?(o=[e,a],t[4]=e,t[5]=a,t[6]=o):o=t[6],(0,x.useEffect)(i,o)};function Ii(){return window}var Li=i(c());const Ri=e=>{let t=(0,Li.c)(8),{itemType:n}=e,{reset:i}=xe(),a;t[0]===n?a=t[1]:(a=(0,E.jsxs)(`h2`,{className:`text-3xl font-bold`,children:[`No `,n,` Found`]}),t[0]=n,t[1]=a);let o;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,E.jsx)(`p`,{className:`mb-2 font-semibold text-slate-600 dark:text-slate-400`,children:`Try other filtering options or another search query`}),t[2]=o):o=t[2];let s;t[3]===i?s=t[4]:(s=(0,E.jsx)(r,{onClick:i,style:`indigo`,className:`w-full max-lg:hidden`,children:`Clear Filtering`}),t[3]=i,t[4]=s);let c;return t[5]!==a||t[6]!==s?(c=(0,E.jsxs)(`div`,{className:`flex flex-col items-center justify-center gap-4 pt-4 pb-16 text-center sm:pb-6 lg:h-screen`,children:[a,o,s]}),t[5]=a,t[6]=s,t[7]=c):c=t[7],c};var zi=Ri;export{zi as FilterErrorMessage_default,Ne as ScrollToTopButton_default,ke as Sidebar_default,Ni as Xr,te as useAllItemsParam,Fi as useScrollRestoration};