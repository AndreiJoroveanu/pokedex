import{c as C,r as N,j as l,L as T,a as _,u as $,b as A}from"./index-B1npORrW.js";import{u as y,a as E,Y as L,F as R,S,b as z}from"./FilterErrorMessage-CddlypJW.js";import{u as D,a as G,b as q,c as Y,F as M}from"./Footer-DEeAMTfD.js";import{u as O}from"./useStarredPokemon-CBnhb8p5.js";import{P as V}from"./PokemonTypesDisplay-6civvEAQ.js";const W=t=>{const e=C.c(21),[c]=y("generation"),[s]=y("type"),[r]=y("onlyStarred"),[o]=y("q"),{data:a,isLoading:v}=D(c),{data:n,isLoading:m}=G(s),{starredPokemonIds:p}=O();let d;e:{if(!t){d=void 0;break e}if(a!=null&&a.length&&(n!=null&&n.length)){let g;if(e[0]!==a||e[1]!==n){let h;e[3]!==n?(h=I=>new Set(n.map(B)).has(I.id),e[3]=n,e[4]=h):h=e[4],g=a.filter(h),e[0]=a,e[1]=n,e[2]=g}else g=e[2];d=g;break e}if(a!=null&&a.length){d=a;break e}if(n!=null&&n.length){let g;if(e[5]!==t||e[6]!==n){let h;e[8]!==n?(h=I=>new Set(n.map(H)).has(I.id),e[8]=n,e[9]=h):h=e[9],g=t.filter(h),e[5]=t,e[6]=n,e[7]=g}else g=e[7];d=g;break e}d=t}const i=d;let k,u;e[10]!==i||e[11]!==r||e[12]!==p?(u=r&&i?i.filter(g=>p.includes(g.id)):i,e[10]=i,e[11]=r,e[12]=p,e[13]=u):u=e[13],k=u;const x=k;let w,f;if(e[14]!==o||e[15]!==x){const g=o==null?void 0:o.replace(/[^0-9a-z]/gi,"").trim();f=x&&(g!=null&&g.length)?x.filter(h=>h.name.replace("-","").includes(g.toLowerCase())):x,e[14]=o,e[15]=x,e[16]=f}else f=e[16];w=f;const j=w,b=v||m,P=!!(c??s??r??o);let F;return e[17]!==j||e[18]!==b||e[19]!==P?(F={pokemonList:j,isLoading:b,isFiltered:P},e[17]=j,e[18]=b,e[19]=P,e[20]=F):F=e[20],F};function B(t){return t.id}function H(t){return t.id}const J=t=>{const e=C.c(24),{pokemon:c}=t,{id:s,name:r}=c,{data:o}=q(s),[a,v]=N.useState(!0),n=String(s);let m;e[0]!==n?(m={pokemonId:n},e[0]=n,e[1]=m):m=e[1];const p=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${s}.png`;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>v(!1),e[2]=d):d=e[2];let i;e[3]!==r||e[4]!==p?(i=l.jsx("img",{src:p,alt:r,decoding:"async",onLoad:d,className:"aspect-square w-full object-contain text-transparent"}),e[3]=r,e[4]=p,e[5]=i):i=e[5];let k;e[6]!==a?(k=a?l.jsx("div",{className:"absolute top-0 aspect-square w-full rounded-xl bg-slate-200 transition-[background-color] group-hover:bg-slate-300 dark:bg-slate-800 dark:group-hover:bg-slate-700",children:l.jsx(T,{size:8})}):null,e[6]=a,e[7]=k):k=e[7];let u;e[8]!==r?(u=r.replace("-"," "),e[8]=r,e[9]=u):u=e[9];let x;e[10]!==u?(x=l.jsx("h1",{className:"mb-1 text-xl font-bold text-nowrap capitalize max-md:px-1",children:u}),e[10]=u,e[11]=x):x=e[11];const w=o==null?void 0:o.types;let f;e[12]!==w?(f=l.jsx(V,{types:w,className:"-mx-6 scale-75 gap-1 @min-[180px]/card:-mx-7 @min-[200px]/card:-mx-3 @min-[200px]/card:scale-90 @min-[200px]/card:gap-2 @min-[235px]/card:mx-0 @min-[235px]/card:scale-100"}),e[12]=w,e[13]=f):f=e[13];let j;e[14]!==f||e[15]!==x?(j=l.jsxs("div",{className:"p-2 md:p-4",children:[x,f]}),e[14]=f,e[15]=x,e[16]=j):j=e[16];let b;e[17]!==j||e[18]!==i||e[19]!==k?(b=l.jsxs("article",{className:"group @container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:[i,k,j]}),e[17]=j,e[18]=i,e[19]=k,e[20]=b):b=e[20];let P;return e[21]!==b||e[22]!==m?(P=l.jsx(_,{to:"/pokemon/$pokemonId",params:m,children:b}),e[21]=b,e[22]=m,e[23]=P):P=e[23],P},K=()=>{const t=C.c(17),{data:e,isLoading:c}=Y(),{pokemonList:s,isLoading:r,isFiltered:o}=W(e),[a,v]=N.useState(!1);E(a);let n;t[0]!==a||t[1]!==c||t[2]!==r||t[3]!==s?(n=!c&&!r&&(s!=null&&s.length)?l.jsxs(l.Fragment,{children:[l.jsx(L,{totalCount:s.length,itemContent:i=>l.jsx(J,{pokemon:s[i]},s[i].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:i=>v(i),className:"w-full",listClassName:`grid grid-cols-2 gap-2 @min-[475px]/grid:gap-4
              @min-[580px]/grid:grid-cols-3 @min-[580px]/grid:gap-2 @min-[680px]/grid:gap-4
              @min-[800px]/grid:grid-cols-4 @min-[800px]/grid:gap-2 @min-[900px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-5 @min-[1000px]/grid:gap-2 @min-[1080px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-6 @min-[1250px]/grid:gap-2 @min-[1300px]/grid:gap-4
              @min-[1400px]/grid:grid-cols-7 @min-[1400px]/grid:gap-2 @min-[1500px]/grid:gap-4`}),a&&l.jsx(M,{})]}):null,t[0]=a,t[1]=c,t[2]=r,t[3]=s,t[4]=n):n=t[4];let m;t[5]!==a||t[6]!==c||t[7]!==r||t[8]!==(s==null?void 0:s.length)?(m=c||r||!a&&(s!=null&&s.length)?l.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:l.jsx(T,{size:24,displaysText:!0})}):null,t[5]=a,t[6]=c,t[7]=r,t[8]=s==null?void 0:s.length,t[9]=m):m=t[9];let p;t[10]!==o||t[11]!==(s==null?void 0:s.length)?(p=!(s!=null&&s.length)&&o&&l.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:l.jsx(R,{itemType:"Pokémon"})}),t[10]=o,t[11]=s==null?void 0:s.length,t[12]=p):p=t[12];let d;return t[13]!==n||t[14]!==m||t[15]!==p?(d=l.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[n,m,p]}),t[13]=n,t[14]=m,t[15]=p,t[16]=d):d=t[16],d},se=()=>{const t=C.c(6),e=$(U);let c;t[0]!==e?(c=[e],t[0]=e,t[1]=c):c=t[1],N.useEffect(e,c);const s=A();let r,o;t[2]!==s?(r=()=>{s.loadRouteChunk(s.routesByPath["/pokemon/$pokemonId"])},o=[s],t[2]=s,t[3]=r,t[4]=o):(r=t[3],o=t[4]),N.useEffect(r,o);let a;return t[5]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("div",{className:"relative sm:pt-24",children:[l.jsxs(S,{children:[l.jsx(S.Search,{itemType:"Pokémon"}),l.jsx(S.GenerationFilter,{}),l.jsx(S.TypeFilter,{}),l.jsx(S.OnlyStarredToggle,{}),l.jsx(S.ClearFilter,{})]}),l.jsx(z,{}),l.jsx(K,{})]}),t[5]=a):a=t[5],a};function U(t){return t.resetPokemonDetailsPanels}export{se as component};
