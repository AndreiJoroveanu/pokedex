import{r as f,c as b,j as t,L as j,a as N,u as y}from"./index-O6Vd23wt.js";import{u as M,d as k,e as F,S as h,j as S,F as C,c as L}from"./FilterErrorMessage-0YYF3q6E.js";import{u as T,a as $}from"./usePokemonMove-CWzmK_oQ.js";import{t as v,a as A,M as z}from"./MoveInfoDisplay-D3Q9EiWD.js";import{F as E}from"./Footer-C-amuDqJ.js";import"./CollapsingPanel-ClUqo8hf.js";import"./MoveCategoryDisplay-BIulYyxx.js";const P=s=>{const{getUrlParam:e}=M(),u=e("generation")??"",l=e("type")??"",m=e("q")??"",{data:a,isLoading:g}=k(u),{data:r,isLoading:d}=F(l),o=f.useMemo(()=>{if(s)return a!=null&&a.length&&(r!=null&&r.length)?a.filter(i=>new Set(r.map(n=>n.id)).has(i.id)):a!=null&&a.length?a:r!=null&&r.length?r:s},[s,a,r]);return{moveList:f.useMemo(()=>{if(o)return m.trim().length?o==null?void 0:o.filter(i=>i.name.includes(m.toLowerCase().trim())):o},[o,m]),isLoading:g||d,isFiltered:!!(u||l||m)}},w=f.memo(s=>{const e=b.c(20),{move:u}=s,{id:l,name:m}=u,{data:a}=T(l),g=`/pokedex/move/${l}`;let r;e[0]!==a?(r={initialMove:a},e[0]=a,e[1]=r):r=e[1];let d;e[2]!==a?(d=a?t.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${A})`,backgroundPosition:`${v[a.type.name].sprite.x}px ${v[a.type.name].sprite.y}px`}}):t.jsx("div",{className:"-m-7 inline-block h-34.25 w-33",children:t.jsx(j,{size:8})}),e[2]=a,e[3]=d):d=e[3];let o;e[4]!==m?(o=m.split("-").join(" "),e[4]=m,e[5]=o):o=e[5];let c;e[6]!==o?(c=t.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize max-md:px-0",children:o}),e[6]=o,e[7]=c):c=e[7];let i;e[8]!==a?(i=t.jsx(z,{move:a,className:"-mx-6 -my-1 scale-75 @[275px]/card:-mx-2 @[275px]/card:scale-90 @[300px]/card:m-1 @[300px]/card:scale-100"}),e[8]=a,e[9]=i):i=e[9];let n;e[10]!==c||e[11]!==i?(n=t.jsxs("div",{className:"w-[calc(100%-76px)]",children:[c,i]}),e[10]=c,e[11]=i,e[12]=n):n=e[12];let x;e[13]!==d||e[14]!==n?(x=t.jsx("article",{className:"@container/card relative rounded-sm border border-slate-400/40 bg-slate-100 shadow-lg transition-colors hover:bg-slate-200/75 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700/75 dark:hover:shadow-none",children:t.jsxs("div",{className:"flex",children:[d,n]})}),e[13]=d,e[14]=n,e[15]=x):x=e[15];let p;return e[16]!==g||e[17]!==r||e[18]!==x?(p=t.jsx(N,{to:g,state:r,children:x}),e[16]=g,e[17]=r,e[18]=x,e[19]=p):p=e[19],p});w.displayName="MoveCard";const V=()=>{const s=b.c(15),{data:e,isLoading:u}=$(),{moveList:l,isLoading:m,isFiltered:a}=P(e),[g,r]=f.useState(!1);y(g);let d,o;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs(h,{children:[t.jsx(h.Search,{itemType:"move"}),t.jsx(h.GenerationFilter,{}),t.jsx(h.TypeFilter,{}),t.jsx(h.ClearFilter,{})]}),o=t.jsx(L,{}),s[0]=d,s[1]=o):(d=s[0],o=s[1]);let c;s[2]!==m||s[3]!==u||s[4]!==l?(c=!u&&!m?l!=null&&l.length?t.jsx(S,{totalCount:l.length,itemContent:p=>t.jsx(w,{move:l[p]},l[p].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},components:{Footer:D},readyStateChanged:p=>r(p),className:"w-full",listClassName:"grid grid-cols-1 gap-2 @[600px]/grid:gap-4 @[600px]/grid:grid-cols-2 @[800px]/grid:grid-cols-3 @[1000px]/grid:grid-cols-4 @[1200px]/grid:grid-cols-5"}):null:t.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-50 dark:bg-slate-900",children:t.jsx(j,{size:24,displaysText:!0})}),s[2]=m,s[3]=u,s[4]=l,s[5]=c):c=s[5];let i;s[6]!==g?(i=!g&&t.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-50 dark:bg-slate-900",children:t.jsx(j,{size:24,displaysText:!0})}),s[6]=g,s[7]=i):i=s[7];let n;s[8]!==a||s[9]!==(l==null?void 0:l.length)?(n=!(l!=null&&l.length)&&a&&t.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:t.jsx(C,{itemType:"moves"})}),s[8]=a,s[9]=l==null?void 0:l.length,s[10]=n):n=s[10];let x;return s[11]!==c||s[12]!==i||s[13]!==n?(x=t.jsxs("div",{className:"relative pt-18 sm:pt-24",children:[d,o,t.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)]",children:[c,i,n]})]}),s[11]=c,s[12]=i,s[13]=n,s[14]=x):x=s[14],x};function D(){return t.jsx(E,{className:"pb-4"})}export{V as default};
