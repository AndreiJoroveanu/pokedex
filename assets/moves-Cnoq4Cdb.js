import{FilterErrorMessage_default as e,ScrollToTopButton_default as t,Sidebar_default as n,Xr as r,useAllItemsParam as i,useScrollRestoration as a}from"./FilterErrorMessage-B4G8u6Po.js";import{Footer_default as o,useAllMoves as s,useAllMovesByGen as c,useAllMovesByType as l,useMove as u}from"./Footer-BgBVxsMy.js";import{Link as d,Loader_default as f,__toESM as p,require_compiler_runtime as m,require_jsx_runtime as h,require_react as g,useRouter as _}from"./index-CJ6aUuip.js";import{MoveInfoDisplay_default as v,tmDiscs as y,tm_discs_default as b}from"./MoveInfoDisplay-D5ka-EV-.js";import"./MoveCategoryDisplay-D1YHfZTw.js";import"./useStarredPokemon-BHLuzJAv.js";var x=p(m()),S=p(g());const C=e=>{let t=(0,x.c)(12),[n]=i(`generation`),[r]=i(`type`),[a]=i(`q`),{data:o,isLoading:s}=c(n),{data:u,isLoading:d}=l(r),f;bb0:{if(!e){f=void 0;break bb0}if(o?.length&&u?.length){let e;if(t[0]!==o||t[1]!==u){let n;t[3]===u?n=t[4]:(n=e=>new Set(u.map(w)).has(e.id),t[3]=u,t[4]=n),e=o.filter(n),t[0]=o,t[1]=u,t[2]=e}else e=t[2];f=e;break bb0}if(o?.length){f=o;break bb0}if(u?.length){f=u;break bb0}f=e}let p=f,m,h;if(t[5]!==p||t[6]!==a){let e=a?.replace(/[^0-9a-z]/gi,``).trim();h=p&&e?.length?p.filter(t=>t.name.split(`-`).join(``).includes(e.toLowerCase())):p,t[5]=p,t[6]=a,t[7]=h}else h=t[7];m=h;let g=m,_=s||d,v=!!(n??r??a),y;return t[8]!==g||t[9]!==_||t[10]!==v?(y={moveList:g,isLoading:_,isFiltered:v},t[8]=g,t[9]=_,t[10]=v,t[11]=y):y=t[11],y};function w(e){return e.id}var T=p(m()),E=p(h());const D=e=>{let t=(0,T.c)(19),{move:n}=e,{id:r,name:i}=n,{data:a}=u(r),o=String(r),s;t[0]===o?s=t[1]:(s={moveId:o},t[0]=o,t[1]=s);let c;t[2]===a?c=t[3]:(c=a?(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,style:{backgroundImage:`url(${b})`,backgroundPosition:`${y[a.type.name].sprite.x}px ${y[a.type.name].sprite.y}px`}}):(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,children:(0,E.jsx)(f,{size:20})}),t[2]=a,t[3]=c);let l;t[4]===i?l=t[5]:(l=i.split(`-`).join(` `),t[4]=i,t[5]=l);let p;t[6]===l?p=t[7]:(p=(0,E.jsx)(`h1`,{className:`my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize`,children:l}),t[6]=l,t[7]=p);let m;t[8]===a?m=t[9]:(m=(0,E.jsx)(v,{move:a,className:`-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100`}),t[8]=a,t[9]=m);let h;t[10]!==p||t[11]!==m?(h=(0,E.jsxs)(`div`,{className:`w-[calc(100%-76px)]`,children:[p,m]}),t[10]=p,t[11]=m,t[12]=h):h=t[12];let g;t[13]!==c||t[14]!==h?(g=(0,E.jsx)(`article`,{className:`@container/card relative rounded-xl bg-base-200 shadow-lg transition-[background-color_shadow] hover:bg-base-300 hover:shadow-xl dark:bg-base-800 dark:shadow-none dark:hover:bg-base-700 dark:hover:shadow-none`,children:(0,E.jsxs)(`div`,{className:`flex`,children:[c,h]})}),t[13]=c,t[14]=h,t[15]=g):g=t[15];let _;return t[16]!==s||t[17]!==g?(_=(0,E.jsx)(d,{to:`/moves/$moveId`,params:s,children:g}),t[16]=s,t[17]=g,t[18]=_):_=t[18],_};var O=D,k=p(m());const A=()=>{let t=(0,k.c)(17),{data:n,isLoading:i}=s(),{moveList:c,isLoading:l,isFiltered:u}=C(n),[d,p]=(0,S.useState)(!1);a(d);let m;t[0]!==d||t[1]!==l||t[2]!==i||t[3]!==c?(m=!i&&!l&&c?.length?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r,{totalCount:c.length,itemContent:e=>(0,E.jsx)(O,{move:c[e]},c[e].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:e=>p(e),className:`w-full`,listClassName:`grid grid-cols-1 gap-2 @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4 @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4 @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4 @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4 @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),d&&(0,E.jsx)(o,{})]}):null,t[0]=d,t[1]=l,t[2]=i,t[3]=c,t[4]=m):m=t[4];let h;t[5]!==d||t[6]!==l||t[7]!==i||t[8]!==c?.length?(h=i||l||!d&&c?.length?(0,E.jsx)(`div`,{className:`fixed top-0 flex h-screen w-full items-center justify-center bg-base-100 dark:bg-base-900`,children:(0,E.jsx)(f,{size:24,displaysText:!0})}):null,t[5]=d,t[6]=l,t[7]=i,t[8]=c?.length,t[9]=h):h=t[9];let g;t[10]!==u||t[11]!==c?.length?(g=!c?.length&&u&&(0,E.jsx)(`div`,{className:`top-0 lg:fixed lg:h-screen`,children:(0,E.jsx)(e,{itemType:`moves`})}),t[10]=u,t[11]=c?.length,t[12]=g):g=t[12];let _;return t[13]!==m||t[14]!==h||t[15]!==g?(_=(0,E.jsxs)(`section`,{className:`@container/grid flex flex-col items-center p-4 pt-2 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0`,children:[m,h,g]}),t[13]=m,t[14]=h,t[15]=g,t[16]=_):_=t[16],_};var j=A,M=p(m());const N=()=>{let e=(0,M.c)(4),r=_(),i,a;e[0]===r?(i=e[1],a=e[2]):(i=()=>{r.loadRouteChunk(r.routesByPath[`/moves/$moveId`])},a=[r],e[0]=r,e[1]=i,e[2]=a),(0,S.useEffect)(i,a);let o;return e[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,E.jsxs)(`div`,{className:`relative sm:pt-20`,children:[(0,E.jsxs)(n,{children:[(0,E.jsx)(n.Search,{itemType:`move`}),(0,E.jsx)(n.GenerationFilter,{}),(0,E.jsx)(n.TypeFilter,{}),(0,E.jsx)(n.ClearFilter,{})]}),(0,E.jsx)(t,{}),(0,E.jsx)(j,{})]}),e[3]=o):o=e[3],o};export{N as component};