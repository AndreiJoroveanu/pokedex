import{r as n,b as h,d as u,j as e,c as b,a as x,e as f,f as j}from"./index-KGuPi_Zu.js";import{b as p,B as m,C as k,d as v,a as L,P as N}from"./PokemonTypesDisplayText-BAQK_X2W.js";function w({title:a,titleId:s,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},o),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const C=n.forwardRef(w);function D({title:a,titleId:s,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},o),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const y=n.forwardRef(D),P=()=>{const a=h();return()=>void a(-1)},z=()=>{const a=P(),{name:s}=u(),{starredPokemon:o,toggleStarredPokemon:r}=p();return e.jsxs(e.Fragment,{children:[e.jsxs(m,{onClick:a,style:"indigo",className:"fixed top-22 left-4 z-20 flex items-center gap-2 px-4 sm:top-28",children:[e.jsx(C,{className:"size-4"}),"Back"]}),e.jsxs(m,{onClick:()=>r(s),style:"gold",className:"fixed top-22 right-4 z-20 flex items-center gap-2 px-4 sm:top-28",children:[e.jsx(y,{className:"size-4"}),o.includes(s)?"Starred":"Star"]})]})},B=({pokemonSpecies:a,currentForm:s,setCurrentForm:o})=>e.jsx(e.Fragment,{children:a.map((r,t)=>e.jsx(m,{onClick:()=>o(t),disabled:s===t,style:s===t?"indigo":"normal",className:"z-10 border-2 px-4 capitalize disabled:cursor-default disabled:border-transparent disabled:bg-origin-border",children:r.pokemon.name.split("-").join(" ")},r.pokemon.name))}),F=({src:a,alt:s})=>{const[o,r]=n.useState(!0);return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a??void 0,alt:s,onLoad:()=>r(!1),className:"mx-auto aspect-square max-h-128 w-full object-contain text-transparent dark:brightness-90"}),(o||!a)&&e.jsx("div",{className:"absolute top-0 aspect-square max-h-128 w-full bg-slate-100 dark:bg-slate-800",children:e.jsx(b,{size:24,displaysText:!0})})]})},T=({abilities:a,className:s})=>e.jsx("p",{className:`capitalize ${s??""}`.trim(),children:a!=null&&a.length?e.jsxs(e.Fragment,{children:[a.length===1?"Ability: ":"Abilities: ",a.map(o=>o.ability.name.split("-").join(" ")).join(", ")]}):"Loading..."}),i=[{label:"HP",backgroundColorLight:"#d7f7b9",backgroundColorDark:"#4e6c30",colorLight:"#94d45c",colorDark:"#8ec45a"},{label:"Attack",backgroundColorLight:"#fcf0b1",backgroundColorDark:"#726530",colorLight:"#ddc460",colorDark:"#d6c15e"},{label:"Defense",backgroundColorLight:"#facbae",backgroundColorDark:"#72482f",colorLight:"#d88c5c",colorDark:"#d6885a"},{label:"Sp. Atk",backgroundColorLight:"#a8ecfc",backgroundColorDark:"#30687a",colorLight:"#5fc4dc",colorDark:"#5bbedc"},{label:"Sp. Def",backgroundColorLight:"#c7cff7",backgroundColorDark:"#3f4970",colorLight:"#7d8ccd",colorDark:"#798bcc"},{label:"Speed",backgroundColorLight:"#f6b2e3",backgroundColorDark:"#69325d",colorLight:"#cc60b5",colorDark:"#c55fb1"}],_=({pokemonStats:a})=>{const{actualTheme:s}=x(),o=t=>s==="dark"?i[t].backgroundColorDark:i[t].backgroundColorLight,r=t=>s==="dark"?i[t].colorDark:i[t].colorLight;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-1 text-lg font-semibold",children:"Base Stats:"}),e.jsxs("div",{className:"mb-4 max-w-lg rounded-lg bg-slate-200 p-4 pb-2 shadow-lg transition-colors dark:bg-slate-700 dark:shadow-none",children:[e.jsx("div",{className:"grid grid-cols-[auto_auto_1fr] gap-2",children:i==null?void 0:i.map((t,l)=>{var c,d;return e.jsxs(n.Fragment,{children:[e.jsxs("h3",{className:"font-semibold capitalize",children:[t.label,":"]}),e.jsx("p",{className:"w-8 text-end",children:((c=a==null?void 0:a[l])==null?void 0:c.base_stat)??0}),e.jsx("div",{style:{backgroundColor:o(l)},className:"my-auto h-3/4 w-full rounded-sm transition-colors dark:bg-green-700",children:e.jsx("div",{style:{width:`${(((d=a==null?void 0:a[l])==null?void 0:d.base_stat)??0)/255*100}%`,backgroundColor:r(l)},className:"h-full rounded-sm"})})]},t.label)})}),e.jsx("h3",{className:"pt-2 font-semibold",children:`Base Stat Total: ${(a==null?void 0:a.map(t=>t.base_stat).reduce((t,l)=>t+l,0))??0}`})]})]})},E=({generation:a})=>e.jsx("p",{children:a?`This Pokémon originates from Generation ${a.split("-")[1].toUpperCase()}`:"Loading..."}),A=({textEntries:a})=>e.jsx(k,{label:"Dex Entries",className:"px-2",children:a!=null&&a.length?e.jsx("ul",{className:"divide-y-2 divide-slate-400/40",children:a.filter(s=>s.language.name==="en").map(s=>{var o,r;return e.jsxs("li",{className:"p-2",children:[e.jsx("span",{className:"font-bold capitalize",children:`${(o=s.version)==null?void 0:o.name.split("-").join(" ")}: `}),s.flavor_text]},(r=s.version)==null?void 0:r.name)})}):e.jsx("p",{children:"Loading..."})}),I=()=>{const[a,s]=n.useState(0),{name:o}=u(),{data:r}=v(o),{initialPokemon:t}=f().state??[],[l,c]=n.useState(t);return n.useEffect(()=>{let d=!1;return(async()=>{if(a===0&&t){c(t);return}try{c(void 0);const g=a===0?o:r==null?void 0:r.varieties[a].pokemon.name;!d&&g&&c(await L.getPokemonByName(g))}catch(g){g instanceof Error&&console.error(g.message),c(void 0)}})(),()=>void(d=!0)},[a,t,o,r==null?void 0:r.varieties]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Pokédex - ${j(o)}`}),e.jsx(z,{}),e.jsx("div",{className:"pt-0 md:pt-36 lg:pt-24",children:e.jsxs("div",{className:"mx-auto max-w-3xl bg-slate-100 p-4 transition-colors max-md:pt-44 max-sm:pt-36 md:my-4 md:rounded-lg md:border-2 md:border-slate-400/40 dark:bg-slate-800",children:[r&&r.varieties.length>1&&e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(B,{pokemonSpecies:r.varieties,currentForm:a,setCurrentForm:s})}),e.jsx(F,{src:l==null?void 0:l.sprites.other.home.front_default,alt:l==null?void 0:l.name},a),e.jsx("h1",{className:"text-2xl font-bold capitalize",children:o}),e.jsx(N,{types:l==null?void 0:l.types}),e.jsx(T,{abilities:l==null?void 0:l.abilities}),e.jsx(_,{pokemonStats:l==null?void 0:l.stats}),e.jsx(E,{generation:r==null?void 0:r.generation.name}),e.jsx(A,{textEntries:r==null?void 0:r.flavor_text_entries})]})})]})};export{I as default};
