import{r as n,b as x,d as u,j as e,c as h,a as b,e as f,f as j}from"./index-i-3G66HN.js";import{b as p,B as g,C as k,d as v,a as N,P as w}from"./PokemonTypesDisplayText-B6GJgFRH.js";function L({title:a,titleId:t,...l},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?n.createElement("title",{id:t},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const C=n.forwardRef(L);function y({title:a,titleId:t,...l},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),a?n.createElement("title",{id:t},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const P=n.forwardRef(y),D=()=>{const a=x();return()=>void a(-1)},F=()=>{const a=D(),{name:t}=u(),{starredPokemon:l,toggleStarredPokemon:s}=p();return e.jsxs(e.Fragment,{children:[e.jsxs(g,{onClick:a,style:"indigo",className:"fixed top-22 left-2 z-20 flex items-center gap-2 px-4 sm:top-28 sm:left-4",children:[e.jsx(C,{className:"size-4"}),"Back"]}),e.jsxs(g,{onClick:()=>s(t),style:"gold",className:"fixed top-22 right-2 z-20 flex items-center gap-2 px-4 sm:top-28 sm:right-4",children:[e.jsx(P,{className:"size-4"}),l.includes(t)?"Starred":"Star"]})]})},z=({pokemonSpecies:a,currentForm:t,setCurrentForm:l})=>e.jsx(e.Fragment,{children:a.map((s,o)=>e.jsx(g,{onClick:()=>l(o),disabled:t===o,style:t===o?"indigo":"normal",className:"z-10 border-2 px-4 text-nowrap capitalize disabled:cursor-default disabled:border-transparent disabled:bg-origin-border",children:s.pokemon.name.split("-").join(" ")},s.pokemon.name))}),B=({src:a,alt:t})=>{const[l,s]=n.useState(!0);return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a??void 0,alt:t,onLoad:()=>s(!1),className:"mx-auto aspect-square max-h-128 w-full object-contain text-transparent dark:brightness-90"}),a===null&&e.jsxs("div",{className:"absolute top-0 flex aspect-square max-h-128 w-full flex-col items-center justify-center gap-4",children:[e.jsx("h2",{className:"text-center text-2xl font-bold sm:text-3xl",children:"This Pokémon Form does not have an image"}),e.jsx("p",{className:"text-center font-semibold text-slate-500 sm:text-lg dark:text-slate-400",children:"Please try another Form by using one of the buttons above."})]}),(l||a===void 0)&&a!==null&&e.jsx("div",{className:"absolute top-0 aspect-square max-h-128 w-full bg-slate-100 dark:bg-slate-800",children:e.jsx(h,{size:24,displaysText:!0})})]})},T=({abilities:a,className:t})=>e.jsx("p",{className:`capitalize ${t??""}`.trim(),children:a!=null&&a.length?e.jsxs(e.Fragment,{children:[a.length===1?"Ability: ":"Abilities: ",a.map(l=>l.ability.name.split("-").join(" ")).join(", ")]}):"Loading..."}),i=[{label:"HP",backgroundColorLight:"#d7f7b9",backgroundColorDark:"#4e6c30",colorLight:"#94d45c",colorDark:"#8ec45a"},{label:"Attack",backgroundColorLight:"#fcf0b1",backgroundColorDark:"#726530",colorLight:"#ddc460",colorDark:"#d6c15e"},{label:"Defense",backgroundColorLight:"#facbae",backgroundColorDark:"#72482f",colorLight:"#d88c5c",colorDark:"#d6885a"},{label:"Sp. Atk",backgroundColorLight:"#a8ecfc",backgroundColorDark:"#30687a",colorLight:"#5fc4dc",colorDark:"#5bbedc"},{label:"Sp. Def",backgroundColorLight:"#c7cff7",backgroundColorDark:"#3f4970",colorLight:"#7d8ccd",colorDark:"#798bcc"},{label:"Speed",backgroundColorLight:"#f6b2e3",backgroundColorDark:"#69325d",colorLight:"#cc60b5",colorDark:"#c55fb1"}],_=({pokemonStats:a})=>{const{actualTheme:t}=b(),l=o=>t==="dark"?i[o].backgroundColorDark:i[o].backgroundColorLight,s=o=>t==="dark"?i[o].colorDark:i[o].colorLight;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-1 text-lg font-semibold",children:"Base Stats:"}),e.jsxs("div",{className:"mb-4 max-w-lg rounded-lg bg-slate-200 p-4 pb-2 shadow-lg transition-colors dark:bg-slate-700 dark:shadow-none",children:[e.jsx("div",{className:"grid grid-cols-[auto_auto_1fr] gap-2",children:i==null?void 0:i.map((o,r)=>{var c,d;return e.jsxs(n.Fragment,{children:[e.jsxs("h3",{className:"font-semibold capitalize",children:[o.label,":"]}),e.jsx("p",{className:"w-8 text-end",children:((c=a==null?void 0:a[r])==null?void 0:c.base_stat)??0}),e.jsx("div",{style:{backgroundColor:l(r)},className:"my-auto h-3/4 w-full rounded-sm transition-colors dark:bg-green-700",children:e.jsx("div",{style:{width:`${(((d=a==null?void 0:a[r])==null?void 0:d.base_stat)??0)/255*100}%`,backgroundColor:s(r)},className:"h-full rounded-sm"})})]},o.label)})}),e.jsx("h3",{className:"pt-2 font-semibold",children:`Base Stat Total: ${(a==null?void 0:a.map(o=>o.base_stat).reduce((o,r)=>o+r,0))??0}`})]})]})},E=({generation:a})=>e.jsx("p",{children:a?`This Pokémon originates from Generation ${a.split("-")[1].toUpperCase()}`:"Loading..."}),A=({textEntries:a})=>e.jsx(k,{label:"Dex Entries",className:"px-2",children:a!=null&&a.length?e.jsx("ul",{className:"divide-y-2 divide-slate-400/40",children:a.filter(t=>t.language.name==="en").map(t=>{var l,s;return e.jsxs("li",{className:"p-2",children:[e.jsx("span",{className:"font-bold capitalize",children:`${(l=t.version)==null?void 0:l.name.split("-").join(" ")}: `}),t.flavor_text]},(s=t.version)==null?void 0:s.name)})}):e.jsx("p",{children:"Loading..."})}),I=()=>{const[a,t]=n.useState(0),{name:l}=u(),{data:s}=v(l),{initialPokemon:o}=f().state??[],[r,c]=n.useState(o);return n.useEffect(()=>{let d=!1;return(async()=>{if(a===0&&o){c(o);return}try{c(void 0);const m=a===0?l:s==null?void 0:s.varieties[a].pokemon.name;!d&&m&&c(await N.getPokemonByName(m))}catch(m){m instanceof Error&&console.error(m.message),c(void 0)}})(),()=>void(d=!0)},[a,o,l,s==null?void 0:s.varieties]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Pokédex - ${j(l)}`}),e.jsx(F,{}),e.jsx("div",{className:"pt-0 md:pt-36 lg:pt-24",children:e.jsxs("div",{className:"mx-auto max-w-3xl bg-slate-100 p-4 transition-colors max-md:pt-42 max-sm:pt-36 md:my-4 md:rounded-lg md:border-2 md:border-slate-400/40 dark:bg-slate-800",children:[s&&s.varieties.length>1&&e.jsx("div",{className:"-mx-4 flex flex-nowrap gap-2 overflow-x-scroll px-2 pb-4 sm:px-4",children:e.jsx(z,{pokemonSpecies:s.varieties,currentForm:a,setCurrentForm:t})}),e.jsx(B,{src:(r==null?void 0:r.sprites.other.home.front_default)??(r==null?void 0:r.sprites.other["official-artwork"].front_default),alt:r==null?void 0:r.name},a),e.jsx("h1",{className:"text-2xl font-bold capitalize",children:a?r==null?void 0:r.name.split("-").join(" "):l}),e.jsx(w,{types:r==null?void 0:r.types}),e.jsx(T,{abilities:r==null?void 0:r.abilities}),e.jsx(_,{pokemonStats:r==null?void 0:r.stats}),e.jsx(E,{generation:s==null?void 0:s.generation.name}),e.jsx(A,{textEntries:s==null?void 0:s.flavor_text_entries})]})})]})};export{I as default};
