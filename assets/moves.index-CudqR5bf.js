import{c as k,j as l,L as N,a as S,r as y}from"./index-2EXv5Vtq.js";import{u as C,S as j,Y as $,F as I,a as T}from"./FilterErrorMessage-C1i7Nt3E.js";import{d as A,e as z,f as E,g as _,F as D}from"./Footer-s4mxqx2q.js";import{u as b}from"./useStarredPokemon-C5d9kKkG.js";import{t as F,a as R,M as G}from"./MoveInfoDisplay-Vr3GUtw1.js";import"./MoveCategoryDisplay-CTav7onX.js";const L=s=>{const e=k.c(12),[h]=b("generation"),[t]=b("type"),[c]=b("q"),{data:a,isLoading:m}=A(h),{data:i,isLoading:p}=z(t);let r;e:{if(!s){r=void 0;break e}if(a!=null&&a.length&&(i!=null&&i.length)){let f;if(e[0]!==a||e[1]!==i){let u;e[3]!==i?(u=M=>new Set(i.map(P)).has(M.id),e[3]=i,e[4]=u):u=e[4],f=a.filter(u),e[0]=a,e[1]=i,e[2]=f}else f=e[2];r=f;break e}if(a!=null&&a.length){r=a;break e}if(i!=null&&i.length){r=i;break e}r=s}const n=r;let d,o;if(e[5]!==n||e[6]!==c){const f=c==null?void 0:c.replace(/[^0-9a-z]/gi,"").trim();o=n&&(f!=null&&f.length)?n.filter(u=>u.name.split("-").join("").includes(f.toLowerCase())):n,e[5]=n,e[6]=c,e[7]=o}else o=e[7];d=o;const g=d,x=m||p,w=!!(h??t??c);let v;return e[8]!==g||e[9]!==x||e[10]!==w?(v={moveList:g,isLoading:x,isFiltered:w},e[8]=g,e[9]=x,e[10]=w,e[11]=v):v=e[11],v};function P(s){return s.id}const Y=s=>{const e=k.c(19),{move:h}=s,{id:t,name:c}=h,{data:a}=E(t),m=String(t);let i;e[0]!==m?(i={moveId:m},e[0]=m,e[1]=i):i=e[1];let p;e[2]!==a?(p=a?l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${R})`,backgroundPosition:`${F[a.type.name].sprite.x}px ${F[a.type.name].sprite.y}px`}}):l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",children:l.jsx(N,{size:20})}),e[2]=a,e[3]=p):p=e[3];let r;e[4]!==c?(r=c.split("-").join(" "),e[4]=c,e[5]=r):r=e[5];let n;e[6]!==r?(n=l.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:r}),e[6]=r,e[7]=n):n=e[7];let d;e[8]!==a?(d=l.jsx(G,{move:a,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),e[8]=a,e[9]=d):d=e[9];let o;e[10]!==n||e[11]!==d?(o=l.jsxs("div",{className:"w-[calc(100%-76px)]",children:[n,d]}),e[10]=n,e[11]=d,e[12]=o):o=e[12];let g;e[13]!==p||e[14]!==o?(g=l.jsx("article",{className:"@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:l.jsxs("div",{className:"flex",children:[p,o]})}),e[13]=p,e[14]=o,e[15]=g):g=e[15];let x;return e[16]!==i||e[17]!==g?(x=l.jsx(S,{to:"/moves/$moveId",params:i,children:g}),e[16]=i,e[17]=g,e[18]=x):x=e[18],x},O=()=>{const s=k.c(19),{data:e,isLoading:h}=_(),{moveList:t,isLoading:c,isFiltered:a}=L(e),[m,i]=y.useState(!1);C(m);let p,r;s[0]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsxs(j,{children:[l.jsx(j.Search,{itemType:"move"}),l.jsx(j.GenerationFilter,{}),l.jsx(j.TypeFilter,{}),l.jsx(j.ClearFilter,{})]}),r=l.jsx(T,{}),s[0]=p,s[1]=r):(p=s[0],r=s[1]);let n;s[2]!==m||s[3]!==c||s[4]!==h||s[5]!==t?(n=!h&&!c&&(t!=null&&t.length)?l.jsxs(l.Fragment,{children:[l.jsx($,{totalCount:t.length,itemContent:x=>l.jsx(Y,{move:t[x]},t[x].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:x=>i(x),className:"w-full",listClassName:`grid grid-cols-1 gap-2\r
                @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4\r
                @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4\r
                @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4\r
                @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4\r
                @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),m&&l.jsx(D,{})]}):null,s[2]=m,s[3]=c,s[4]=h,s[5]=t,s[6]=n):n=s[6];let d;s[7]!==m||s[8]!==c||s[9]!==h||s[10]!==(t==null?void 0:t.length)?(d=h||c||!m&&(t!=null&&t.length)?l.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:l.jsx(N,{size:24,displaysText:!0})}):null,s[7]=m,s[8]=c,s[9]=h,s[10]=t==null?void 0:t.length,s[11]=d):d=s[11];let o;s[12]!==a||s[13]!==(t==null?void 0:t.length)?(o=!(t!=null&&t.length)&&a&&l.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:l.jsx(I,{itemType:"moves"})}),s[12]=a,s[13]=t==null?void 0:t.length,s[14]=o):o=s[14];let g;return s[15]!==n||s[16]!==d||s[17]!==o?(g=l.jsxs("div",{className:"relative sm:pt-24",children:[p,r,l.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[n,d,o]})]}),s[15]=n,s[16]=d,s[17]=o,s[18]=g):g=s[18],g};export{O as component};
