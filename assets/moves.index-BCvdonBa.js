import{Link as e,Loader_default as t,__toESM as n,require_compiler_runtime as r,require_jsx_runtime as i,require_react as a}from"./Loader-D8Mv-eKS.js";import{FilterErrorMessage_default as o,ScrollToTopButton_default as s,Sidebar_default as c,Yr as l,useScrollRestoration as u}from"./FilterErrorMessage-Cb6FPzMI.js";import{Footer_default as d,useAllMoves as f,useAllMovesByGen as p,useAllMovesByType as m,useMove as h}from"./Footer-BVDUx6A5.js";import"./shallow-DlnzSQjn.js";import{MoveInfoDisplay_default as g,tmDiscs as _,tm_discs_default as v}from"./MoveInfoDisplay-DuV32Okc.js";import"./MoveCategoryDisplay-BTm316fW.js";import{useAllItemsParam as y}from"./useStarredPokemon-Btx-5DP8.js";var b=n(r()),x=n(a());const S=e=>{let t=(0,b.c)(12),[n]=y(`generation`),[r]=y(`type`),[i]=y(`q`),{data:a,isLoading:o}=p(n),{data:s,isLoading:c}=m(r),l;bb0:{if(!e){l=void 0;break bb0}if(a?.length&&s?.length){let e;if(t[0]!==a||t[1]!==s){let n;t[3]===s?n=t[4]:(n=e=>new Set(s.map(C)).has(e.id),t[3]=s,t[4]=n),e=a.filter(n),t[0]=a,t[1]=s,t[2]=e}else e=t[2];l=e;break bb0}if(a?.length){l=a;break bb0}if(s?.length){l=s;break bb0}l=e}let u=l,d,f;if(t[5]!==u||t[6]!==i){let e=i?.replace(/[^0-9a-z]/gi,``).trim();f=u&&e?.length?u.filter(t=>t.name.split(`-`).join(``).includes(e.toLowerCase())):u,t[5]=u,t[6]=i,t[7]=f}else f=t[7];d=f;let h=d,g=o||c,_=!!(n??r??i),v;return t[8]!==h||t[9]!==g||t[10]!==_?(v={moveList:h,isLoading:g,isFiltered:_},t[8]=h,t[9]=g,t[10]=_,t[11]=v):v=t[11],v};function C(e){return e.id}var w=n(r()),T=n(i());const E=n=>{let r=(0,w.c)(19),{move:i}=n,{id:a,name:o}=i,{data:s}=h(a),c=String(a),l;r[0]===c?l=r[1]:(l={moveId:c},r[0]=c,r[1]=l);let u;r[2]===s?u=r[3]:(u=s?(0,T.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,style:{backgroundImage:`url(${v})`,backgroundPosition:`${_[s.type.name].sprite.x}px ${_[s.type.name].sprite.y}px`}}):(0,T.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,children:(0,T.jsx)(t,{size:20})}),r[2]=s,r[3]=u);let d;r[4]===o?d=r[5]:(d=o.split(`-`).join(` `),r[4]=o,r[5]=d);let f;r[6]===d?f=r[7]:(f=(0,T.jsx)(`h1`,{className:`my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize`,children:d}),r[6]=d,r[7]=f);let p;r[8]===s?p=r[9]:(p=(0,T.jsx)(g,{move:s,className:`-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100`}),r[8]=s,r[9]=p);let m;r[10]!==f||r[11]!==p?(m=(0,T.jsxs)(`div`,{className:`w-[calc(100%-76px)]`,children:[f,p]}),r[10]=f,r[11]=p,r[12]=m):m=r[12];let y;r[13]!==u||r[14]!==m?(y=(0,T.jsx)(`article`,{className:`@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none`,children:(0,T.jsxs)(`div`,{className:`flex`,children:[u,m]})}),r[13]=u,r[14]=m,r[15]=y):y=r[15];let b;return r[16]!==l||r[17]!==y?(b=(0,T.jsx)(e,{to:`/moves/$moveId`,params:l,children:y}),r[16]=l,r[17]=y,r[18]=b):b=r[18],b};var D=E,O=n(r());const k=()=>{let e=(0,O.c)(17),{data:n,isLoading:r}=f(),{moveList:i,isLoading:a,isFiltered:s}=S(n),[c,p]=(0,x.useState)(!1);u(c);let m;e[0]!==c||e[1]!==a||e[2]!==r||e[3]!==i?(m=!r&&!a&&i?.length?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(l,{totalCount:i.length,itemContent:e=>(0,T.jsx)(D,{move:i[e]},i[e].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:e=>p(e),className:`w-full`,listClassName:`grid grid-cols-1 gap-2
              @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4
              @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4
              @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),c&&(0,T.jsx)(d,{})]}):null,e[0]=c,e[1]=a,e[2]=r,e[3]=i,e[4]=m):m=e[4];let h;e[5]!==c||e[6]!==a||e[7]!==r||e[8]!==i?.length?(h=r||a||!c&&i?.length?(0,T.jsx)(`div`,{className:`fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900`,children:(0,T.jsx)(t,{size:24,displaysText:!0})}):null,e[5]=c,e[6]=a,e[7]=r,e[8]=i?.length,e[9]=h):h=e[9];let g;e[10]!==s||e[11]!==i?.length?(g=!i?.length&&s&&(0,T.jsx)(`div`,{className:`top-0 lg:fixed lg:h-screen`,children:(0,T.jsx)(o,{itemType:`moves`})}),e[10]=s,e[11]=i?.length,e[12]=g):g=e[12];let _;return e[13]!==m||e[14]!==h||e[15]!==g?(_=(0,T.jsxs)(`section`,{className:`@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0`,children:[m,h,g]}),e[13]=m,e[14]=h,e[15]=g,e[16]=_):_=e[16],_};var A=k,j=n(r());const M=()=>{let e=(0,j.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,T.jsxs)(`div`,{className:`relative sm:pt-24`,children:[(0,T.jsxs)(c,{children:[(0,T.jsx)(c.Search,{itemType:`move`}),(0,T.jsx)(c.GenerationFilter,{}),(0,T.jsx)(c.TypeFilter,{}),(0,T.jsx)(c.ClearFilter,{})]}),(0,T.jsx)(s,{}),(0,T.jsx)(A,{})]}),e[0]=t):t=e[0],t};export{M as component};