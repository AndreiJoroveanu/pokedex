import{r as f,c as v,j as a,L as w,a as M,b as y}from"./index-DXXg8WhP.js";import{S as u,Y as N,F,a as S}from"./FilterErrorMessage-BBdsjiRk.js";import{d as k,e as C,f as I,g as T,F as $}from"./Footer-CYCfVRz4.js";import{u as A}from"./useStarredPokemon-CGthgqqU.js";import{t as j,a as z,M as E}from"./MoveInfoDisplay-DXqUv5GD.js";import"./MoveCategoryDisplay-BBcvH2_2.js";const D=e=>{const{getUrlParam:s}=A(),p=s("generation")??"",t=s("type")??"",c=s("q")??"",{data:l,isLoading:m}=k(p),{data:r,isLoading:g}=C(t),o=f.useMemo(()=>{if(e)return l!=null&&l.length&&(r!=null&&r.length)?l.filter(i=>new Set(r.map(n=>n.id)).has(i.id)):l!=null&&l.length?l:r!=null&&r.length?r:e},[e,l,r]);return{moveList:f.useMemo(()=>{const i=c.replace(/[^0-9a-z]/gi,"").trim();return o&&i.length?o.filter(n=>n.name.split("-").join("").includes(i.toLowerCase())):o},[o,c]),isLoading:m||g,isFiltered:!!(p||t||c)}},b=f.memo(e=>{const s=v.c(19),{move:p}=e,{id:t,name:c}=p,{data:l}=I(t),m=String(t);let r;s[0]!==m?(r={moveId:m},s[0]=m,s[1]=r):r=s[1];let g;s[2]!==l?(g=l?a.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${z})`,backgroundPosition:`${j[l.type.name].sprite.x}px ${j[l.type.name].sprite.y}px`}}):a.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",children:a.jsx(w,{size:20})}),s[2]=l,s[3]=g):g=s[3];let o;s[4]!==c?(o=c.split("-").join(" "),s[4]=c,s[5]=o):o=s[5];let d;s[6]!==o?(d=a.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:o}),s[6]=o,s[7]=d):d=s[7];let i;s[8]!==l?(i=a.jsx(E,{move:l,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),s[8]=l,s[9]=i):i=s[9];let n;s[10]!==d||s[11]!==i?(n=a.jsxs("div",{className:"w-[calc(100%-76px)]",children:[d,i]}),s[10]=d,s[11]=i,s[12]=n):n=s[12];let x;s[13]!==g||s[14]!==n?(x=a.jsx("article",{className:"@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:a.jsxs("div",{className:"flex",children:[g,n]})}),s[13]=g,s[14]=n,s[15]=x):x=s[15];let h;return s[16]!==r||s[17]!==x?(h=a.jsx(M,{to:"/moves/$moveId",params:r,children:x}),s[16]=r,s[17]=x,s[18]=h):h=s[18],h});b.displayName="MoveCard";const Y=()=>{const e=v.c(19),{data:s,isLoading:p}=T(),{moveList:t,isLoading:c,isFiltered:l}=D(s),[m,r]=f.useState(!1);y(m);let g,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsxs(u,{children:[a.jsx(u.Search,{itemType:"move"}),a.jsx(u.GenerationFilter,{}),a.jsx(u.TypeFilter,{}),a.jsx(u.ClearFilter,{})]}),o=a.jsx(S,{}),e[0]=g,e[1]=o):(g=e[0],o=e[1]);let d;e[2]!==m||e[3]!==c||e[4]!==p||e[5]!==t?(d=!p&&!c&&(t!=null&&t.length)?a.jsxs(a.Fragment,{children:[a.jsx(N,{totalCount:t.length,itemContent:h=>a.jsx(b,{move:t[h]},t[h].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:h=>r(h),className:"w-full",listClassName:`grid grid-cols-1 gap-2
                @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4
                @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4
                @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4
                @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4
                @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),m&&a.jsx($,{})]}):null,e[2]=m,e[3]=c,e[4]=p,e[5]=t,e[6]=d):d=e[6];let i;e[7]!==m||e[8]!==c||e[9]!==p||e[10]!==(t==null?void 0:t.length)?(i=p||c||!m&&(t!=null&&t.length)?a.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:a.jsx(w,{size:24,displaysText:!0})}):null,e[7]=m,e[8]=c,e[9]=p,e[10]=t==null?void 0:t.length,e[11]=i):i=e[11];let n;e[12]!==l||e[13]!==(t==null?void 0:t.length)?(n=!(t!=null&&t.length)&&l&&a.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:a.jsx(F,{itemType:"moves"})}),e[12]=l,e[13]=t==null?void 0:t.length,e[14]=n):n=e[14];let x;return e[15]!==d||e[16]!==i||e[17]!==n?(x=a.jsxs("div",{className:"relative sm:pt-24",children:[g,o,a.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[d,i,n]})]}),e[15]=d,e[16]=i,e[17]=n,e[18]=x):x=e[18],x};export{Y as component};
