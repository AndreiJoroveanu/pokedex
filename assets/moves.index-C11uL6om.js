import{c as b,j as l,L as M,a as y,r as N,u as C}from"./index-CwrKYYA7.js";import{u as k,a as $,Y as I,F as T,S as j,b as A}from"./FilterErrorMessage-G2KsY5v9.js";import{d as E,e as R,f as z,g as _,F as D}from"./Footer-5Lr7WAjP.js";import{t as F,a as G,M as P}from"./MoveInfoDisplay-CWEInVNj.js";import"./useStarredPokemon-C3LqxG5l.js";import"./MoveCategoryDisplay-D8SeQTXW.js";const L=s=>{const e=b.c(12),[c]=k("generation"),[t]=k("type"),[i]=k("q"),{data:a,isLoading:p}=E(c),{data:n,isLoading:g}=R(t);let r;e:{if(!s){r=void 0;break e}if(a!=null&&a.length&&(n!=null&&n.length)){let h;if(e[0]!==a||e[1]!==n){let f;e[3]!==n?(f=S=>new Set(n.map(Y)).has(S.id),e[3]=n,e[4]=f):f=e[4],h=a.filter(f),e[0]=a,e[1]=n,e[2]=h}else h=e[2];r=h;break e}if(a!=null&&a.length){r=a;break e}if(n!=null&&n.length){r=n;break e}r=s}const o=r;let m,d;if(e[5]!==o||e[6]!==i){const h=i==null?void 0:i.replace(/[^0-9a-z]/gi,"").trim();d=o&&(h!=null&&h.length)?o.filter(f=>f.name.split("-").join("").includes(h.toLowerCase())):o,e[5]=o,e[6]=i,e[7]=d}else d=e[7];m=d;const x=m,u=p||g,w=!!(c??t??i);let v;return e[8]!==x||e[9]!==u||e[10]!==w?(v={moveList:x,isLoading:u,isFiltered:w},e[8]=x,e[9]=u,e[10]=w,e[11]=v):v=e[11],v};function Y(s){return s.id}const V=s=>{const e=b.c(19),{move:c}=s,{id:t,name:i}=c,{data:a}=z(t),p=String(t);let n;e[0]!==p?(n={moveId:p},e[0]=p,e[1]=n):n=e[1];let g;e[2]!==a?(g=a?l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",style:{backgroundImage:`url(${G})`,backgroundPosition:`${F[a.type.name].sprite.x}px ${F[a.type.name].sprite.y}px`}}):l.jsx("div",{className:"-m-7 inline-block h-34.25 w-33 scale-40",children:l.jsx(M,{size:20})}),e[2]=a,e[3]=g):g=e[3];let r;e[4]!==i?(r=i.split("-").join(" "),e[4]=i,e[5]=r):r=e[5];let o;e[6]!==r?(o=l.jsx("h1",{className:"my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize",children:r}),e[6]=r,e[7]=o):o=e[7];let m;e[8]!==a?(m=l.jsx(P,{move:a,className:"-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100"}),e[8]=a,e[9]=m):m=e[9];let d;e[10]!==o||e[11]!==m?(d=l.jsxs("div",{className:"w-[calc(100%-76px)]",children:[o,m]}),e[10]=o,e[11]=m,e[12]=d):d=e[12];let x;e[13]!==g||e[14]!==d?(x=l.jsx("article",{className:"@container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:l.jsxs("div",{className:"flex",children:[g,d]})}),e[13]=g,e[14]=d,e[15]=x):x=e[15];let u;return e[16]!==n||e[17]!==x?(u=l.jsx(y,{to:"/moves/$moveId",params:n,children:x}),e[16]=n,e[17]=x,e[18]=u):u=e[18],u},W=()=>{const s=b.c(17),{data:e,isLoading:c}=_(),{moveList:t,isLoading:i,isFiltered:a}=L(e),[p,n]=N.useState(!1);$(p);let g;s[0]!==p||s[1]!==i||s[2]!==c||s[3]!==t?(g=!c&&!i&&(t!=null&&t.length)?l.jsxs(l.Fragment,{children:[l.jsx(I,{totalCount:t.length,itemContent:d=>l.jsx(V,{move:t[d]},t[d].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:d=>n(d),className:"w-full",listClassName:`grid grid-cols-1 gap-2
              @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4
              @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4
              @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),p&&l.jsx(D,{})]}):null,s[0]=p,s[1]=i,s[2]=c,s[3]=t,s[4]=g):g=s[4];let r;s[5]!==p||s[6]!==i||s[7]!==c||s[8]!==(t==null?void 0:t.length)?(r=c||i||!p&&(t!=null&&t.length)?l.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:l.jsx(M,{size:24,displaysText:!0})}):null,s[5]=p,s[6]=i,s[7]=c,s[8]=t==null?void 0:t.length,s[9]=r):r=s[9];let o;s[10]!==a||s[11]!==(t==null?void 0:t.length)?(o=!(t!=null&&t.length)&&a&&l.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:l.jsx(T,{itemType:"moves"})}),s[10]=a,s[11]=t==null?void 0:t.length,s[12]=o):o=s[12];let m;return s[13]!==g||s[14]!==r||s[15]!==o?(m=l.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[g,r,o]}),s[13]=g,s[14]=r,s[15]=o,s[16]=m):m=s[16],m},U=()=>{const s=b.c(4),e=C();let c,t;s[0]!==e?(c=()=>{e.loadRouteChunk(e.routesByPath["/moves/$moveId"])},t=[e],s[0]=e,s[1]=c,s[2]=t):(c=s[1],t=s[2]),N.useEffect(c,t);let i;return s[3]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{className:"relative sm:pt-24",children:[l.jsxs(j,{children:[l.jsx(j.Search,{itemType:"move"}),l.jsx(j.GenerationFilter,{}),l.jsx(j.TypeFilter,{}),l.jsx(j.ClearFilter,{})]}),l.jsx(A,{}),l.jsx(W,{})]}),s[3]=i):i=s[3],i};export{U as component};
