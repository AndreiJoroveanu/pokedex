import{c as N,r as I,j as l,L as T,a as _,u as $}from"./index-oDlUsleM.js";import{u as y,a as A,Y as L,F as E,S as P,b as R}from"./FilterErrorMessage-Bi3pNiC_.js";import{u as z,a as G,b as q,c as Y,F as D}from"./Footer-Do4GIaDE.js";import{u as M}from"./useStarredPokemon-BjrcxMbh.js";import{P as O}from"./PokemonTypesDisplay-D0Raf9sC.js";const V=t=>{const e=N.c(21),[i]=y("generation"),[s]=y("type"),[n]=y("onlyStarred"),[m]=y("q"),{data:r,isLoading:v}=z(i),{data:a,isLoading:g}=G(s),{starredPokemonIds:p}=M();let c;e:{if(!t){c=void 0;break e}if(r!=null&&r.length&&(a!=null&&a.length)){let d;if(e[0]!==r||e[1]!==a){let f;e[3]!==a?(f=C=>new Set(a.map(W)).has(C.id),e[3]=a,e[4]=f):f=e[4],d=r.filter(f),e[0]=r,e[1]=a,e[2]=d}else d=e[2];c=d;break e}if(r!=null&&r.length){c=r;break e}if(a!=null&&a.length){let d;if(e[5]!==t||e[6]!==a){let f;e[8]!==a?(f=C=>new Set(a.map(B)).has(C.id),e[8]=a,e[9]=f):f=e[9],d=t.filter(f),e[5]=t,e[6]=a,e[7]=d}else d=e[7];c=d;break e}c=t}const o=c;let k,u;e[10]!==o||e[11]!==n||e[12]!==p?(u=n&&o?o.filter(d=>p.includes(d.id)):o,e[10]=o,e[11]=n,e[12]=p,e[13]=u):u=e[13],k=u;const x=k;let S,h;if(e[14]!==m||e[15]!==x){const d=m==null?void 0:m.replace(/[^0-9a-z]/gi,"").trim();h=x&&(d!=null&&d.length)?x.filter(f=>f.name.replace("-","").includes(d.toLowerCase())):x,e[14]=m,e[15]=x,e[16]=h}else h=e[16];S=h;const j=S,b=v||g,w=!!(i??s??n??m);let F;return e[17]!==j||e[18]!==b||e[19]!==w?(F={pokemonList:j,isLoading:b,isFiltered:w},e[17]=j,e[18]=b,e[19]=w,e[20]=F):F=e[20],F};function W(t){return t.id}function B(t){return t.id}const H=t=>{const e=N.c(24),{pokemon:i}=t,{id:s,name:n}=i,{data:m}=q(s),[r,v]=I.useState(!0),a=String(s);let g;e[0]!==a?(g={pokemonId:a},e[0]=a,e[1]=g):g=e[1];const p=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${s}.png`;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>v(!1),e[2]=c):c=e[2];let o;e[3]!==n||e[4]!==p?(o=l.jsx("img",{src:p,alt:n,decoding:"async",onLoad:c,className:"aspect-square w-full object-contain text-transparent"}),e[3]=n,e[4]=p,e[5]=o):o=e[5];let k;e[6]!==r?(k=r?l.jsx("div",{className:"absolute top-0 aspect-square w-full rounded-xl bg-slate-200 transition-[background-color] group-hover:bg-slate-300 dark:bg-slate-800 dark:group-hover:bg-slate-700",children:l.jsx(T,{size:8})}):null,e[6]=r,e[7]=k):k=e[7];let u;e[8]!==n?(u=n.replace("-"," "),e[8]=n,e[9]=u):u=e[9];let x;e[10]!==u?(x=l.jsx("h1",{className:"mb-1 text-xl font-bold text-nowrap capitalize max-md:px-1",children:u}),e[10]=u,e[11]=x):x=e[11];const S=m==null?void 0:m.types;let h;e[12]!==S?(h=l.jsx(O,{types:S,className:"-mx-6 scale-75 gap-1 @min-[180px]/card:-mx-7 @min-[200px]/card:-mx-3 @min-[200px]/card:scale-90 @min-[200px]/card:gap-2 @min-[235px]/card:mx-0 @min-[235px]/card:scale-100"}),e[12]=S,e[13]=h):h=e[13];let j;e[14]!==h||e[15]!==x?(j=l.jsxs("div",{className:"p-2 md:p-4",children:[x,h]}),e[14]=h,e[15]=x,e[16]=j):j=e[16];let b;e[17]!==j||e[18]!==o||e[19]!==k?(b=l.jsxs("article",{className:"group @container/card relative rounded-xl bg-slate-200 shadow-lg transition-[background-color_shadow] hover:bg-slate-300 hover:shadow-xl dark:bg-slate-800 dark:shadow-none dark:hover:bg-slate-700 dark:hover:shadow-none",children:[o,k,j]}),e[17]=j,e[18]=o,e[19]=k,e[20]=b):b=e[20];let w;return e[21]!==b||e[22]!==g?(w=l.jsx(_,{to:"/pokemon/$pokemonId",params:g,children:b}),e[21]=b,e[22]=g,e[23]=w):w=e[23],w},J=()=>{const t=N.c(17),{data:e,isLoading:i}=Y(),{pokemonList:s,isLoading:n,isFiltered:m}=V(e),[r,v]=I.useState(!1);A(r);let a;t[0]!==r||t[1]!==i||t[2]!==n||t[3]!==s?(a=!i&&!n&&(s!=null&&s.length)?l.jsxs(l.Fragment,{children:[l.jsx(L,{totalCount:s.length,itemContent:o=>l.jsx(H,{pokemon:s[o]},s[o].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:o=>v(o),className:"w-full",listClassName:`grid grid-cols-2 gap-2 @min-[475px]/grid:gap-4
              @min-[580px]/grid:grid-cols-3 @min-[580px]/grid:gap-2 @min-[680px]/grid:gap-4
              @min-[800px]/grid:grid-cols-4 @min-[800px]/grid:gap-2 @min-[900px]/grid:gap-4
              @min-[1000px]/grid:grid-cols-5 @min-[1000px]/grid:gap-2 @min-[1080px]/grid:gap-4
              @min-[1250px]/grid:grid-cols-6 @min-[1250px]/grid:gap-2 @min-[1300px]/grid:gap-4
              @min-[1400px]/grid:grid-cols-7 @min-[1400px]/grid:gap-2 @min-[1500px]/grid:gap-4`}),r&&l.jsx(D,{})]}):null,t[0]=r,t[1]=i,t[2]=n,t[3]=s,t[4]=a):a=t[4];let g;t[5]!==r||t[6]!==i||t[7]!==n||t[8]!==(s==null?void 0:s.length)?(g=i||n||!r&&(s!=null&&s.length)?l.jsx("div",{className:"fixed top-0 flex h-screen w-full items-center justify-center bg-slate-100 dark:bg-slate-900",children:l.jsx(T,{size:24,displaysText:!0})}):null,t[5]=r,t[6]=i,t[7]=n,t[8]=s==null?void 0:s.length,t[9]=g):g=t[9];let p;t[10]!==m||t[11]!==(s==null?void 0:s.length)?(p=!(s!=null&&s.length)&&m&&l.jsx("div",{className:"top-0 lg:fixed lg:h-screen",children:l.jsx(E,{itemType:"Pokémon"})}),t[10]=m,t[11]=s==null?void 0:s.length,t[12]=p):p=t[12];let c;return t[13]!==a||t[14]!==g||t[15]!==p?(c=l.jsxs("section",{className:"@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pl-0",children:[a,g,p]}),t[13]=a,t[14]=g,t[15]=p,t[16]=c):c=t[16],c},ee=()=>{const t=N.c(4),e=$();let i,s;t[0]!==e?(i=()=>{e.loadRouteChunk(e.routesByPath["/pokemon/$pokemonId"])},s=[e],t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]),I.useEffect(i,s);let n;return t[3]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsxs("div",{className:"relative sm:pt-24",children:[l.jsxs(P,{children:[l.jsx(P.Search,{itemType:"Pokémon"}),l.jsx(P.GenerationFilter,{}),l.jsx(P.TypeFilter,{}),l.jsx(P.OnlyStarredToggle,{}),l.jsx(P.ClearFilter,{})]}),l.jsx(R,{}),l.jsx(J,{})]}),t[3]=n):n=t[3],n};export{ee as component};
