import{b as e,c as t,d as n,e as r,f as i,g as a}from"./FilterErrorMessage-4iljKiPL.js";import{b as o,f as s,h as c,j as l,l as u}from"./Footer-5fhPheBl.js";import{D as d,H as f,I as p,O as m,P as h,b as g,l as _}from"./index-BwjIEng6.js";import{b as v,c as y,d as b}from"./MoveInfoDisplay-Dfed2kOP.js";import"./MoveCategoryDisplay-BGQS4b6o.js";import"./useStarredPokemon-CLwOTDDl.js";var x=h(_()),S=h(m());const C=e=>{let t=(0,x.c)(12),[n]=a(`generation`),[r]=a(`type`),[i]=a(`q`),{data:o,isLoading:s}=u(n),{data:l,isLoading:d}=c(r),f;bb0:{if(!e){f=void 0;break bb0}if(o?.length&&l?.length){let e;if(t[0]!==o||t[1]!==l){let n;t[3]===l?n=t[4]:(n=e=>new Set(l.map(w)).has(e.id),t[3]=l,t[4]=n),e=o.filter(n),t[0]=o,t[1]=l,t[2]=e}else e=t[2];f=e;break bb0}if(o?.length){f=o;break bb0}if(l?.length){f=l;break bb0}f=e}let p=f,m,h;if(t[5]!==p||t[6]!==i){let e=i?.replace(/[^0-9a-z]/gi,``).trim();h=p&&e?.length?p.filter(t=>t.name.split(`-`).join(``).includes(e.toLowerCase())):p,t[5]=p,t[6]=i,t[7]=h}else h=t[7];m=h;let g=m,_=s||d,v=!!(n??r??i),y;return t[8]!==g||t[9]!==_||t[10]!==v?(y={moveList:g,isLoading:_,isFiltered:v},t[8]=g,t[9]=_,t[10]=v,t[11]=y):y=t[11],y};function w(e){return e.id}var T=h(_()),E=h(p());const D=(0,S.memo)(e=>{let t=(0,T.c)(19),{move:n}=e,{id:r,name:i}=n,{data:a}=s(r),o=String(r),c;t[0]===o?c=t[1]:(c={moveId:o},t[0]=o,t[1]=c);let l;t[2]===a?l=t[3]:(l=a?(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,style:{backgroundImage:`url(${y})`,backgroundPosition:`${b[a.type.name].sprite.x}px ${b[a.type.name].sprite.y}px`}}):(0,E.jsx)(`div`,{className:`-m-7 inline-block h-34.25 w-33 scale-40`,children:(0,E.jsx)(g,{size:20})}),t[2]=a,t[3]=l);let u;t[4]===i?u=t[5]:(u=i.split(`-`).join(` `),t[4]=i,t[5]=u);let f;t[6]===u?f=t[7]:(f=(0,E.jsx)(`h1`,{className:`my-1 overflow-scroll px-1 text-lg font-bold text-nowrap capitalize`,children:u}),t[6]=u,t[7]=f);let p;t[8]===a?p=t[9]:(p=(0,E.jsx)(v,{move:a,className:`-mx-6 -my-1 scale-75 @min-[275px]/card:-mx-2 @min-[275px]/card:scale-90 @min-[300px]/card:m-1 @min-[300px]/card:scale-100`}),t[8]=a,t[9]=p);let m;t[10]!==f||t[11]!==p?(m=(0,E.jsxs)(`div`,{className:`w-[calc(100%-76px)]`,children:[f,p]}),t[10]=f,t[11]=p,t[12]=m):m=t[12];let h;t[13]!==l||t[14]!==m?(h=(0,E.jsx)(`article`,{className:`@container/card relative rounded-xl bg-base-100 shadow-md transition-[background-color_shadow] hover:bg-base-200 hover:shadow-lg dark:bg-base-900 dark:shadow-none dark:hover:bg-base-800 dark:hover:shadow-none`,children:(0,E.jsxs)(`div`,{className:`flex`,children:[l,m]})}),t[13]=l,t[14]=m,t[15]=h):h=t[15];let _;return t[16]!==c||t[17]!==h?(_=(0,E.jsx)(d,{to:`/moves/$moveId`,params:c,children:h}),t[16]=c,t[17]=h,t[18]=_):_=t[18],_});D.displayName=`MoveCard`;var O=D,k=h(_());const A=()=>{let r=(0,k.c)(17),{data:i,isLoading:a}=l(),{moveList:s,isLoading:c,isFiltered:u}=C(i),[d,f]=(0,S.useState)(!1);t(d);let p;r[0]!==d||r[1]!==c||r[2]!==a||r[3]!==s?(p=!a&&!c&&s?.length?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(n,{totalCount:s.length,itemContent:e=>(0,E.jsx)(O,{move:s[e]},s[e].name),useWindowScroll:!0,increaseViewportBy:{top:1e3,bottom:1e3},readyStateChanged:e=>f(e),className:`w-full`,listClassName:`grid grid-cols-1 gap-2 @min-[500px]/grid:grid-cols-2 @min-[600px]/grid:gap-4 @min-[750px]/grid:grid-cols-3 @min-[750px]/grid:gap-2 @min-[875px]/grid:gap-4 @min-[1000px]/grid:grid-cols-4 @min-[1000px]/grid:gap-2 @min-[1150px]/grid:gap-4 @min-[1250px]/grid:grid-cols-5 @min-[1250px]/grid:gap-2 @min-[1400px]/grid:gap-4 @min-[1500px]/grid:grid-cols-6 @min-[1500px]/grid:gap-2 @min-[1700px]/grid:gap-4`}),d&&(0,E.jsx)(o,{})]}):null,r[0]=d,r[1]=c,r[2]=a,r[3]=s,r[4]=p):p=r[4];let m;r[5]!==d||r[6]!==c||r[7]!==a||r[8]!==s?.length?(m=a||c||!d&&s?.length?(0,E.jsx)(`div`,{className:`fixed top-0 z-10 flex h-screen w-full items-center justify-center bg-base-50 dark:bg-base-950`,children:(0,E.jsx)(g,{size:24,displaysText:!0})}):null,r[5]=d,r[6]=c,r[7]=a,r[8]=s?.length,r[9]=m):m=r[9];let h;r[10]!==u||r[11]!==s?.length?(h=!s?.length&&u&&(0,E.jsx)(`div`,{className:`top-0 lg:fixed lg:h-screen`,children:(0,E.jsx)(e,{itemType:`moves`})}),r[10]=u,r[11]=s?.length,r[12]=h):h=r[12];let _;return r[13]!==p||r[14]!==m||r[15]!==h?(_=(0,E.jsxs)(`section`,{className:`@container/grid flex flex-col items-center p-4 max-sm:px-2 lg:absolute lg:right-0 lg:w-4/5 lg:max-w-[calc(100vw-248px)] lg:min-w-[calc(100vw-320px)] lg:pt-20 lg:pl-0`,children:[p,m,h]}),r[13]=p,r[14]=m,r[15]=h,r[16]=_):_=r[16],_};var j=A,M=h(_());const N=()=>{let e=(0,M.c)(4),t=f(),n,a;e[0]===t?(n=e[1],a=e[2]):(n=()=>{t.loadRouteChunk(t.routesByPath[`/moves/$moveId`])},a=[t],e[0]=t,e[1]=n,e[2]=a),(0,S.useEffect)(n,a);let o;return e[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(i,{children:[(0,E.jsx)(i.Search,{itemType:`move`}),(0,E.jsx)(i.GenerationFilter,{}),(0,E.jsx)(i.TypeFilter,{}),(0,E.jsx)(i.ClearFilter,{})]}),(0,E.jsx)(r,{}),(0,E.jsx)(j,{})]}),e[3]=o):o=e[3],o};export{N as component};
//# sourceMappingURL=moves-DtYX4ufR.js.map